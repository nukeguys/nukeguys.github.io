<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[nukeguys blog]]></title><description><![CDATA[about development, life and something.]]></description><link>https://nukeguys.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Sun, 05 Apr 2020 15:07:10 GMT</lastBuildDate><item><title><![CDATA[나에게 자유를 달라]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/songpagu-freedom/</link><guid isPermaLink="false">https://nukeguys.github.io/life/songpagu-freedom/</guid><pubDate>Sun, 05 Apr 2020 13:24:38 GMT</pubDate><content:encoded>&lt;p&gt;다음주 부터 출근을 하는 줄 알고 있다가 다시 재택근무 연장 공지를 받았다. 정상 출근으로 전환한다는 얘기가 나왔을 때 납득하지 못하는 의견들이 꽤 있었다. 난 출근 자체에는 별 생각이 없었지만 다시 번복하면서 정상출근으로 전환을 결정했던 근거로 원격근무의 어려움이라고 나열된 내용들이 오히려 더 납득이 가지 않았다. …(쓰다보니 이후에 쓴 내용이 참 많았는데 말을 줄였다.) 그런 것 보다 그냥 이러저러한 상황을 고려해 더 나은 방향으로 결정을 바꿨다 정도면 되지 않았을까 싶다. 사실 정부가 사회적 거리두기를 연장하면서 그 영향이 있었겠지만, 그렇지 않았다면 출근 준비를 하고 있었을 거다.&lt;/p&gt;
&lt;p&gt;참고로 내 주변엔 상황이 전혀 나아지지 않았다. 내가 살고 있는 곳에서는 최근 몇주 동안이 오히려 그 전보다 확진자 발생 문자가 더 자주 날아왔다. 또 하나의 걱정은 상황이 지속되다 보니 사람들의 위기의식도 점점 줄어드는 것 같아 보인다는 점이다. 가끔 밖을 나가면 식당이나 카페에 사람이 넘쳐난다. 오히려 마스크 대란이 없어진 지금 마스크를 쓰지 않은 사람들이 더 많이 보이는 것 같다.&lt;/p&gt;
&lt;p&gt;이런 저런 생각들이 원격근무에 대해서도 이어졌다. 전부터 원격근무를 지향했던(하지만 하지 못했던) 입장에서 왜 하지 못하고 있을까 하는 생각을 해봤었다. 내가 내렸던 결론은 결국 신뢰의 문제였다. 그리고 아마 문화적인 영향도 있을 거라고 본다. 개인적인 생각이지만 책상앞에 앉아 있거나 눈에 보여야 일을 한다고 생각하는 경향들이 있는 것 같다. 일의 효율성보다는 노력같아 보이는 퍼포먼스를 중요시 한다는 거다. 물론 들이는 시간이 결과로 이어지는 일부 업들은 어느정도 이해가 되지만 이젠 그렇지 않은 곳들이 더 많다.(그리고 그런 곳들은 점점 더 줄어들게 될 거다.) 실제로 이전 회사에서는 야근을 많이 한 사람들의 순위를 매겨서 상품을 준다거나 처리한 지라 이슈 갯수로 성과를 측정한다는 얘기가 나오기도 했다. 일하다 쓰러져 봤니 따위의 말을 하는 리더도 있었으니 그 말을 건너 들었을 땐 정말 최악이다 싶었다. 배우들이 죽어도 무대에서 죽겠다는 말을 한다곤 하지만 그 말은 배우가 해야지 감독이 해서는 안될 말이다.&lt;/p&gt;
&lt;p&gt;간혹 농담 처럼 하는 말이지만 내가 월급을 줘야하는 사장이라면 어떨까 하는 생각을 해보면, 결국 신뢰가 있다면 가능하다는게 결론이다. 무엇에 대한 신뢰인가도 중요하다. 물론 각 개개인도 중요하지만 어려운 부분이다. 회사입장에서는 조직적인 차원에서 결과 즉 성과면 되지 않을까 싶다. 해보기 전에는 쉽지 않은 일이다. 하지만 자의반 타의반으로 경험을 해버렸다. 비록 준비없이 시작되었지만 아마 많은 사람들의 생각이 바뀌지 않았을까 싶다. 겪기 전의 걱정이나 미지의 두려움이 경험만으로 많이 사라졌을 것이기 때문이다. 그리고 같은 결과를 내는데 공간이 필요 없다면 당연히 회사 입장에서도 이득일 테고 말이다. 제대로 본격적인 준비를 하고 도입을 해서 실행을 한다면 지금보다 효율성이 올라갈 건 당연하다고 본다. 물론 출근 자체를 거부하는 건 아니다. 그저 출근을 안 할 수도 있는 선택지가 있었으면 하는 것이다. 그런 의미에서 여러 회사에서 하고 있는 자율출근도 좋은 방안이라고 생각된다.&lt;/p&gt;
&lt;p&gt;개인적인 바램으로는 코로나가 물러가더라도 이런 변화가 유지되었으면 좋겠다. 내가 최종적으로 원하는 것은 자유다. 시간적으로 공간적으로 그리고 경제적으로 보다 자유로울 수 있는 환경. 내 스스로 나에게 맞는 환경을 직접 만들고 선택하는 것이다. 그리고 그로인한 선순환. 아마 이번을 계기로 그런 시기가 좀 더 빠르게 다가오지 않을까 하는 생각이 들었다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[될놈될 안될안]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/meant-to-be/</link><guid isPermaLink="false">https://nukeguys.github.io/life/meant-to-be/</guid><pubDate>Sun, 29 Mar 2020 13:00:02 GMT</pubDate><content:encoded>&lt;p&gt;오랜만에 학교 선배이자 직장 동기였던 형을 만났다. 최근 이직을 준비한다면서 이것저것 물어보고 만나서 대화를 하면서 항상 흘러가는 주제가 있다. 현재의 상태로 인한 미래에 대한 불안, 나아가기 위한 노력과 스스로에 대한 위안 같은 것들 이었다. 이전에도 그리고 요즘에도 나도 들고 있는 생각들이라 많은 공감이 되는 내용들이었다. 그렇게 한참 얘기를 하다 헤어지고 집에 와서 알람을 확인하다가 짧은 글을 하나 보게 됐다. &lt;code&gt;&quot;될 놈은 되고, 될 일은 된다&quot;&lt;/code&gt;로 시작하는 글이었다. 피드를 넘기고 잠시 생각을 하는 사이에 지나가 버리고 다시 찾을 수가 없어 정확한 문장은 옮기지 못하지만, 될 일은 결국엔 된다. 하지만 해봐야만 될 일인지 알 수 있다. 그렇기 때문에 걱정은 접어두고 열심히 해봐라라는 의미였던 것 같다(내가 받아드린 의미는 이렇지만 실제 문장의 느낌은 많이 달랐다).&lt;/p&gt;
&lt;p&gt;언젠가 나도 농담반 진담반으로 자주 하던 비슷한 말이 있다. &lt;code&gt;될놈될 안될안(될 놈은 되고 안될 놈은 안된다)&lt;/code&gt;. 겉으로 느끼기엔 냉소적으로 들릴 수 있으나 실제로는 다른 의미를(적어도 나한테는) 가지고 있는 말이다. 처음 저 말을 떠올리게 된 건 고민을 좀 줄이고 실행에 자신감을 갖기 위함이었다. 원래 성격인지는 모르겠으나 모든 일에 최악을 포함한 여러 경우의 수를 생각하거나 안될 상황에 대한 고민과 걱정이 많은 편이다. 그러다 보니 생각만으로 이미 결론을 내버리고 고민만 하다 지치는 경우가 많았다(물론 아직도 그런 편이기는 하다). 그래서 부담을 내려놓고 일단 조금은 가벼운 마음으로 자신감을 갖고 해보자는 일종의 마인트 컨트롤을 위함이었다. 실제로도 많은 도움이 됐었다.(물론 근거있는 자신감인 경우에)&lt;/p&gt;
&lt;p&gt;그리고 요즘 다시 필요한 말이겠다라는 생각이 들었다. 재택으로 혼자 있는 시간이 많아져서 인지, 코로나 때문에 오는 불안함인지, 몸 상태가 별로라 그런건지는 모르겠으나 걱정과 생각이 많아졌다. 아니면 봄이라 그런건가. 여튼 이러저러한 생각을 하다가 결과적으로 명확해야 겠다는 생각을 했다. 최근 일상이 대부분이 집이고 일 그리고 운동을 제외하면 딱히 하는게 없다 보니 다른 할 것들을 찾기 시작했다. 생각은 많이 나는데 막상 뭘 해야 할 지를 정할 수가 없었다. 이것도 필요하고 저것도 하고 싶고 관심 가는 것도 많다. &lt;code&gt;sensitive&lt;/code&gt;, &lt;code&gt;multipotentialite&lt;/code&gt; 같은 말로 좋게 지칭하기도 하지만 그건 행동으로 이어졌을 때나 가능하다. 그렇지 않으면 결국 생각많고 선택장애를 가진 몽상가에 불과하다. 여튼 행동을 하기 위해선 선택 그리고 사소하지만 구체적인 지침이 필요했다. 최근에 여러번 접했던 &lt;code&gt;루틴&lt;/code&gt;과도 비슷할 듯 싶었다.&lt;/p&gt;
&lt;p&gt;난 행동을 하는데 있어 외적인 요인이 효과적으로 작용하는 편이다. 마치 이시간에 글을 쓰고 있는 것 처럼. 요인이야 다양할 수 있다. 사람이 될 수도 아니면 돈 혹은 다른 보상일 수도. 최근 알게 된 어떤 앱의 컨셉이 “돈을 걸면, 습관이 만들어진다”였다. 격하게 공감이 됐다. 그래서 나도 이것들을 종합해서 사용해 보기로 했다. 가볍게 아침부터 시작해서 반복적이고 필요한 일들, 그리고 좀 더 장기적으로 하고 싶거나 해야할 일들까지. 올해 들어서도 생각만 하고 못했던 일들이 너무 많다. 아직 구체적인 계획은 정해지지 않았지만 어차피 될 놈은 되고 될 일은 되게 되어 있다. 마음 먹었으니 일단 해봐야 겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[생각의 단편들(3)]]></title><description><![CDATA[COVID-19, 일명 코로나 바이러스 덕분인지 때문인지 재택근무도 어느새 한 달을 지나가고 있다. 처음엔 조금 지나면 괜찮아 지겠지 했었는데 이젠 제법 길어지겠구나 하는 생각으로 바뀌고 있다. 개학도…]]></description><link>https://nukeguys.github.io/life/several-thought3/</link><guid isPermaLink="false">https://nukeguys.github.io/life/several-thought3/</guid><pubDate>Sun, 22 Mar 2020 07:40:29 GMT</pubDate><content:encoded>&lt;p&gt;COVID-19, 일명 코로나 바이러스 덕분인지 때문인지 재택근무도 어느새 한 달을 지나가고 있다. 처음엔 조금 지나면 괜찮아 지겠지 했었는데 이젠 제법 길어지겠구나 하는 생각으로 바뀌고 있다. 개학도 4월로 미뤄진 만큼 재택도 그 때 까지는 길어질 테고 확진자가 계속 발생하는 이상 지금 상황은 쉽사리 수그러들지 않을 것 같다. 하루 빨리 이 사태가 정리되고 어느 덧 다가온 봄을 즐길 수 있었으면 좋겠다는 생각이 간절하다. 근 한달 동안 재택을 하면서 들었던 생각들을 정리해 본다.&lt;/p&gt;
&lt;h3&gt;재택근무&lt;/h3&gt;
&lt;p&gt;코로나 발생 전에는 국내에서 재택을 하는 회사들은 많지 않았다.(내가 아는 한에서는) 간혹 제한적 재택을 허용하는 곳들은 있다고 들리기는 했으나, 이 계기(좋은 일은 아니지만)가 아니었다면 요즘처럼 많은 회사들이 전사적으로 재택을 시행하는 일은 앞으로도 오랜기간 동안은 없지 않았을까 싶다. 시작이 어떻든 근 한달 동안 재택근무를 경험해 보고 든 생각은 충분히 좋다라는 것이다. 물론 이전에도 재택에 대해 긍정적인 생각이었고 실제로 경험해 보니 그 생각은 더 확고해 졌다.&lt;br&gt;
사라진 출퇴근 시간, 좀 더 자유롭고 편안한 업무 환경 그리고 예상외로 높아진 업무 집중도(장점인가?) 등 겪어보기 전에 했던 걱정들도 어느정도는 사라졌다. 하지만 대비 없이 시작한 만큼 아쉬운 부분들도 있다. 무엇보다 가장 큰 건 업무 공간이 확실하게 분리되어 있지 않아 삶과 일의 경계가 모호해 졌다는 것이다. 사실 출근을 할 때도 일이 있으면 퇴근 후나 주말에 한 적이 있지만 그 때와는 또 다른 느낌이다. 사실 이건 재택근무의 단점이라기 보다 아직 재택에 대비를 제대로 하지 못한 채 하게 되서 발생하는 상황이라는게 더 맞을 것 같다.&lt;br&gt;
물론 각자 처한 상황이나 환경마다 받아드리는 자세와 느낌은 많이 다를 수 있다. 하지만 결과적으로 디지털 노마드를 꿈꾸는 한 사람으로서는 충분히 좋다라는게 지금까지의 결론이다.&lt;/p&gt;
&lt;h3&gt;민족 of 배달&lt;/h3&gt;
&lt;p&gt;거의 온 종일을 집에 있다보니 중요한 것 중 하나가 먹는거다. 출퇴근을 하면 밖에서 사먹는 경우가 대부분이었다면 이젠 거의 모든 끼니를 집에서 해결한다. 방법엔 여러가지가 있다. 우선 가장 편한 배달음식. 하지만 그 만큼 비용도 많이 든다. 최소 한끼에 만원 이상이 든다. 나도 처음엔 배달을 애용했다. 그러다 지출이 너무 많아지고 지겨워 질 때 쯤 인스턴트를 주문했다. 그리고 그것도 질릴 때 쯤 이제는 HMR(Home Meal Replacement), 일명 간편식 또는 밀키트라 불리는 것들을 사기 시작했다. 마찬가지로 인스턴트이긴 하지만 더 다양하고 신선하면서 간단한 조리를 해야하기 때문에 조금은 더 요리에 가깝달까. 오늘도 비어가는 곳간을 채우기 위해 생각하다 자연스럽게 주문을 한다. 그러다 문득 역시 우린 배달의 민족(동명의 특정 서비스를 지칭하는 말은 아니다)이고 앞으로도 더 그렇게 되겠구나 하는 생각이 들었다.&lt;br&gt;
전에는 같은 걸 사더라도 대형마트를 가거나 아니면 최소 동네마트라도 가서 직접 사는 경우가 많았다. 하지만 이젠 당연하게 온라인으로 주문을 하고 받는다. 난 SSG의 새벽배송과 쿠팡의 로켓배송을 주로 사용했다. 그리고 이젠 배송이 아닌 배달을 받는다. 지금 사용하는 건 B마트다. 처음 B마트가 시작됐을 때 까지만 해도 과연 될까 싶었다. 그러다 배달료 무료 이벤트를 이용해 사용을 한 번 해봤다. 나쁘지 않았다. 하지만 해당 회사에서 올해 주력 사업으로 있다는 말에 그정도 일까하는 의구심이 들어 내부 직원에게 직접 물어보기도 했다. 하지만 내 예상외로 잘되고 있었고 주변 반응도 좋았다. 그리고 그 후 얼마 지나지 않은 지금 나도 당연하게 사용하고 있다. 단순 배달대행에 그쳤다면 별로 였겠지만 근처 마트나 편의점에서 사지 못하는 소포장 물품이나 음식, 과일이나 야채같은 신선식품들까지 생각보다 필요한 것 들이 많고 심지어 2만원 이상이면 배달료도 무료이기 때문에 대형마트를 가서 잔뜩 털어올 게 아니라면 전혀 나쁠게 없었다. 오히려 주변 마트보다 저렴한데 바로 문앞까지 배달이 되니 말이다. 바햐으로 진정한 배달의 민족이 되어가고 있는게 아닌가 하는 생각이 든다.&lt;/p&gt;
&lt;h3&gt;블랙미러&lt;/h3&gt;
&lt;p&gt;무료함에 넷플릭스를 다시 사용하기 시작했다. 그리고 시작하자마자 멈췄던 블랙미러를 인기순위로 몇 편을 봤다. 시즌1 몇 편을 보고 접었었는데 이렇게 다시 헤어 날올 수 없는 늪에 빠져들었다. 그나마 다행인 것은 블랙미러는 시리즈가 아니라 단편이라는 점이다. 보고나서 미래의 모습에 대해 잠시 상상해 봤다.&lt;br&gt;
많은 사람이 공감하는 한 가지 일 것 같은, 변하지 않는 생각 중의 하나는 부의 독과점이다. 특정 인물 혹은 회사나 집단이 부의 대부분을 소유하게 되고 사회는 계층화 된다. 중요한 것은 이 계층이 얼마나 어떻게 나뉘고 각 계층은 어떤 모습일까 하는 것이다.&lt;br&gt;
첫 번째는 상대적으로 긍적적인 모습이다. 자본주의의 끝은 공산주의라고 했던가. 얼마 전까지 많이 들렸던 기본소득이니 하는 것들이 떠올랐다. 기술이 발전하면서 노동의 의미는 변한다. 더 이상 인간은 생존을 위한 노동을 할 필요가 없어지고 각자의 목적에 따라 삶을 즐기는데 시간을 사용한다. 여기서도 많은 상황들이 있겠지만 어찌보면 상향 평준화라고나 할까. 할 말은 많은데 이렇게 단순하게 정리하려니 어렵다.&lt;br&gt;
두 번째는 처음과 동일하게 계층 구조는 단순하지만 하위 계층에 속한 인류는 상위 계층을 위해 살아간다. 어찌보면 양 극단이 더욱 벌어지는 구조다. 지금도 사회 구조는 점점 더 뚜렷해지고 부의 대물림, 빈익빈부익부의 세상이 오고 있다고들 한다. 이 구조가 점점 심해져 이분화 되고 누군가의 통제나 제재가 없는 상황이라면 이런 모습도 고려해 볼 수 있지 않을까 싶다.&lt;br&gt;
몇 가지가 더 떠올랐다. 그러다 결국 상상하고 있는 모습들의 공통점을 발견하고 더이상 하지 않았다. 바로 본인의 의지와 전혀 상관없이 선천적으로 정해진 사회적 계급을 정작 의지와 노력으로는 벗어 날 수 없다는 것이다. 그리는 미래의 모습에 깔려있는 암울한 전제조건이 마음에 들지 않았다. 그리고 왠지 다른 것들보다 현실적이고 들어맞을 것 같은 느낌이 별로였다. 어쩌면 누군가에 의해 이미 만들어진 프레임 속에서 상상하고 있는게 아닐까 하는 생각도 들었다. 기분이 별로다. 글로 옮기는 것도 여기까지만 해야겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[TIL] `OPTIONS` 요청은 왜 발생하는가?]]></title><description><![CDATA[웹 개발을 하다 보면 네트워크 요청시 실제 원하는 요청(GET, PUT, POST, DELETE 등)전에 OPTIONS…]]></description><link>https://nukeguys.github.io/dev/options-request/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/options-request/</guid><pubDate>Sun, 15 Mar 2020 06:50:42 GMT</pubDate><content:encoded>&lt;p&gt;웹 개발을 하다 보면 네트워크 요청시 실제 원하는 요청(GET, PUT, POST, DELETE 등)전에 &lt;code&gt;OPTIONS&lt;/code&gt; 요청이 발생하는 것을 볼 수 있다. 이게 뭘까하고 응답값을 확인하면 아무것도 없다. 응답값이 없는 이 요청은 왜 발생하는걸까?
&lt;code&gt;preflight&lt;/code&gt;라고도 불리는 &lt;code&gt;OPTIONS&lt;/code&gt; 요청은 브라우저가 서버에게 지원하는 옵션들을 미리 요청하고 허가된 요청에 한해서 전송하기 위한 보안상의 목적이 있다.&lt;br&gt;
모든 경우에 발생하지 않고, 실제 요청에 비해 많은 부분을 차지하지 않지만 경우에 따라 수백 ms 응답 속도가 중요하다면 발생하지 않도록 하는 것이 좋다. 그러기 위해선 발생하는 상황을 알아야 하는데 이는 &lt;code&gt;CORS&lt;/code&gt;와 관련이 있다.&lt;/p&gt;
&lt;h5&gt;CORS(Cross-Origin Resource Sharing)와 보안&lt;/h5&gt;
&lt;p&gt;웹 개발을 하는 사람이라면 대부분 알겠지만 간단히 정리하면, 현재 웹페이지가 웹페이지를 받은 서버와 다른 서버의 리소스를 요청하는 것을 의미한다. 대표적인 예로 웹서버와 분리되어 있는 API 서버로 요청을 보내거나, 아래처럼 CDN의 이미지를 사용하는 것을 들 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;img&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&amp;lt;cdn-url&gt;/image.png&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;하지만 이는 유용하면서도 보안상의 문제점을 가지고 있다. 웹사이트에서 악의적인 목적으로 외부로 정보를 보내거나 하는 등의 요청을 보낼 수 있기 때문이다. 그렇기 때문에 브라우저는 &lt;code&gt;OPTIONS&lt;/code&gt;를 &lt;code&gt;preflight&lt;/code&gt;하여 서버에서 허용하는 옵션을 미리 확인하고, 허용되지 않은 요청의 경우 &lt;code&gt;405(Method Not Allowed)&lt;/code&gt;에러를 발생시키고 실제 요청은 전송하지 않는다.&lt;/p&gt;
&lt;h5&gt;OPTIONS 요청&lt;/h5&gt;
&lt;p&gt;하지만 모든 CORS 상황에서 &lt;code&gt;OPTIONS&lt;/code&gt; 요청이 발생하지 않는다. 아래 조건을 모두 만족하면 OPTIONS 없이 요청을 보낸다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;GET&lt;/code&gt;, &lt;code&gt;HEAD&lt;/code&gt;, &lt;code&gt;POST&lt;/code&gt; 요청 중 하나&lt;/li&gt;
&lt;li&gt;user agent에 의해 자동으로 설정되는(Connection, User-Agent, Fetch 스펙상 &lt;a href=&quot;https://fetch.spec.whatwg.org/#forbidden-header-name&quot;&gt;forbidden header&lt;/a&gt;로 정의되어 있는) 헤더외에 &lt;a href=&quot;https://fetch.spec.whatwg.org/#cors-safelisted-request-header&quot;&gt;CORS-safelisted request-header&lt;/a&gt;로 명시된 헤더들만 포함된 경우(&lt;code&gt;Accept&lt;/code&gt;, &lt;code&gt;Accept-Language&lt;/code&gt;, &lt;code&gt;Content-Language&lt;/code&gt;, &lt;code&gt;Content-Type&lt;/code&gt; 등)&lt;/li&gt;
&lt;li&gt;Content-Type은 &lt;code&gt;application/x-www-form-urlencoded&lt;/code&gt;,
&lt;code&gt;multipart/form-data&lt;/code&gt;, &lt;code&gt;text/plain&lt;/code&gt;만 허용&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;위의 조건들 중 하나라도 만족하지 않으면 preflight 요청을 보내게 된다. 이 과정을 간단히 정리하면 아래와 같다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;브라우저에서 method를 &lt;code&gt;OPTIONS&lt;/code&gt;로 요청 전송&lt;/li&gt;
&lt;li&gt;OPTIONS를 받은 서버가 응답헤더에 허용하는 옵션(&lt;code&gt;Access-Control-Allow-*&lt;/code&gt;)을 포함해 전송&lt;/li&gt;
&lt;li&gt;브라우저는 응답헤더의 옵션을 확인해 허용되지 않은 요청은 &lt;code&gt;504&lt;/code&gt;에러 발생, 허용하는 경우 요청 전송&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1024px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/09a7671f8c2dc6d699843c3075f656de/6f075/options.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 39.871382636655945%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABSklEQVQoz3WR2XKCQBBF+RBBZRZWURYZluCCqUq5pBJ9yUOSj8j/P9z0gFpFlT6cujDTfWluG5vfP5jt951R+wPWfmG9XqMoCrTbEvt9gfN5SeQ4HhQulxzvJ4XPj5zqCqorUZY9hut5YIwNsG27u2xfd3g7pNTo4XS0SE0yM0ktbDdT7HYTBIHuERCCg3MOQzfrB87ZVXlnmiQJmlWDJMsRhhn8IIWQEUxTYDTiGI8ZLEt/fDiM0RlcuZkJIbBYLJBlGeZRBN934boePM+H4zh0L+/od43USNkbPmJOhmVVoa5foFRBWSls25zO5qhqgrQsI8xmAU0fEqS+/9hQTxnHMVa0mLqukSuFNAuRph5FQVw1jh2qt7vMbzw17DJsGiyXORllFP6sC38ysTGdsjuMDXufGur8KvpdnY/ruh1SisHybsvsTfvzf/sW8+Y51+KkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;OPTIONS request&quot;
        title=&quot;OPTIONS request&quot;
        src=&quot;/static/09a7671f8c2dc6d699843c3075f656de/3b243/options.png&quot;
        srcset=&quot;/static/09a7671f8c2dc6d699843c3075f656de/00397/options.png 256w,
/static/09a7671f8c2dc6d699843c3075f656de/c5a17/options.png 512w,
/static/09a7671f8c2dc6d699843c3075f656de/3b243/options.png 1024w,
/static/09a7671f8c2dc6d699843c3075f656de/ccc27/options.png 1536w,
/static/09a7671f8c2dc6d699843c3075f656de/6f075/options.png 1866w&quot;
        sizes=&quot;(max-width: 1024px) 100vw, 1024px&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;참고로 CORS가 가능하려면 서버에서 허용된 origin이어야 한다. 서버에서 응답을 보낼 때 헤더에 &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt;을 포함해 함께 보내는데 이 값에 &lt;code&gt;origin&lt;/code&gt;이 포함되지 않는다면 에러가 발생하게 된다. 일반적으로 말하는 CORS 문제이다.&lt;/p&gt;
&lt;h5&gt;OPTIONS 요청 없애기&lt;/h5&gt;
&lt;p&gt;첫 번째는 CORS 상황이 되지 않도록 하는 것이다. 즉 웹서버와 동일한 서버의 리소스만 사용하는 것이다. 하지만 API 서버가 분리되어 있는 경우가 많기 때문에 쉽지 않다. 이런 경우에는 웹에서 발생하는 요청을 웹서버와 동일한 서버에서 받아 실제 API서버로 전달하는 중계점을 두면 해결될 수 있다.&lt;/p&gt;
&lt;p&gt;두 번째로는 CORS에서 preflight가 발생하지 않는 조건을 모두 만족시키는 것이다. 하지만 이것도 일반적으로 인증을 위한 헤더를 포함하거나, 최근엔 Content-Type으로 &lt;code&gt;application/json&lt;/code&gt;을 사용하는 경우가 많기 때문에 적용하기는 어려울 수 있다.&lt;/p&gt;
&lt;h5&gt;사족&lt;/h5&gt;
&lt;p&gt;관련 정보를 찾아보다가 네트워크 요청을 위한 라이브러리(axios 같은)를 사용하면서 OPTIONS 요청이 발생한다고 문제를 제기하는 경우들 봤는데 이는 http와 관련된 웹 표준이기 때문에 해당 라이브러리들에서는 어찌할 도리가 없다.&lt;/p&gt;
&lt;p&gt;추가로, 내용과는 조금 거리가 있지만 예전부터 요청과 응답을 통제하기 위해 표준에 정의된 헤더나 상태코드를 활용하는 경우를 많지 보지 못했다. 물론 장단점이 있겠지만 좀 더 잘 알고 사용해보면 좋지 않을까 하는 생각이 다시 한 번 들었다.&lt;/p&gt;
&lt;p&gt;[참고] - &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/HTTP/CORS&quot;&gt;교차 출처 리소스 공유 (CORS) - HTTP | MDN&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[debounce vs throttle]]></title><description><![CDATA[개발을 하다보면 자주 안쓰다보니 혹은 너무 당연하게 생각하다 가끔 헷갈리거나 쌩둥맞게 낯설게 다가오는 것들이 있다. debounce와 throttle…]]></description><link>https://nukeguys.github.io/dev/debounce-and-throttle/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/debounce-and-throttle/</guid><pubDate>Sun, 08 Mar 2020 06:34:57 GMT</pubDate><content:encoded>&lt;p&gt;개발을 하다보면 자주 안쓰다보니 혹은 너무 당연하게 생각하다 가끔 헷갈리거나 쌩둥맞게 낯설게 다가오는 것들이 있다. &lt;code&gt;debounce&lt;/code&gt;와 &lt;code&gt;throttle&lt;/code&gt;도 얼마 전에 뭐가 뭐였지 하고 다시 찾아봤던 것 중 하나다.
다시 보지 않기 위해 기록한다던 누군가(베토벤이었나?)의 말을 빌려 다신 헷갈리지 않기 위해 정리를 해본다.&lt;/p&gt;
&lt;p&gt;일단 둘다 실행을 제어하기 위해, 좀 더 정확히는 빈번한 실행을 방지하기 위한 목적으로 사용한다.&lt;/p&gt;
&lt;h3&gt;Debounce&lt;/h3&gt;
&lt;p&gt;마지막 호출 이후 특정 시간이 지나야 호출 되도독 제한한다. 다른 말로는 이벤트를 그룹화 한다고도 한다. 즉 연속으로 발생하는 이벤트를 하나의 그룹으로 그룹화해서 한 번만 호출이 발생하도록 제한 것이다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://i0.wp.com/css-tricks.com/wp-content/uploads/2016/04/debounce.png&quot;&gt;&lt;img src=&quot;https://i0.wp.com/css-tricks.com/wp-content/uploads/2016/04/debounce.png&quot; alt=&quot;debounce&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;debounce&lt;/code&gt;를 활용하기 좋은 예제는 자동 완성이다. 사용자가 타이핑을 계속하는데 매번 api를 호출해서 결과를 받아서 그리면 그 사이에 다른 타이핑이 발생하고 결국 보여주기도 전에 새로운 결과가 필요한 상황이 발생하는 비효율이 발생할 수 있다. 따라서 타이핑이 더이상 발생하지 않아 타이핑이 완료됐다는 판단이 들면 요청을 발생시키는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;debounce&lt;/code&gt;에서는 두 가지 선택이 있다. 그룹화 된 호출들의 처음에 호출할지 대기 시간이 지난 후에 호출 할지이다. 즉 이벤트1이 발생하자마자 이벤트1을 실행하고 대기시간이 지난 후의 이벤트2가 발생했을 때 다시 이벤트2를 즉시 실행하거나, 이벤트1이 발생하고 대기시간이 지난 후에 이벤트1을 실행하고 대기시간이 지나고 이벤트2가 발생하면 다시 대기시간이 지난 후에 이벤트2를 실행한다. 차이라고 한다면 즉시 실행을 하게 되면 호출이 빈번하지 않은 경우 &lt;code&gt;debounce&lt;/code&gt;가 적용되지 않은 것과 동일한 시점에 이벤트가 발생 한다는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://i2.wp.com/css-tricks.com/wp-content/uploads/2016/04/debounce-leading.png&quot;&gt;&lt;img src=&quot;https://i2.wp.com/css-tricks.com/wp-content/uploads/2016/04/debounce-leading.png&quot; alt=&quot;leading&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Throttle&lt;/h3&gt;
&lt;p&gt;일정 주기마다 한 번씩만 호출 되도록 제한한다. &lt;code&gt;debounce&lt;/code&gt;와 차이점은 특정 시간 안에 최소 한 번의 실행을 보장한 다는 것이다. 다르게 표현하자면 이벤트가 발생한 후 특정 시간 동안 발생하는 이벤트들을 무시하고 정해진 시간이 지난 후에 다시 이벤트를 발생 시키는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;throttle&lt;/code&gt;의 예로는 무한 스크롤을 수 있다. 다음 내용을 미리 가져오기 위해 끝에 도달했는지를 검사해야 하는데 이를 스크롤이 발생할 때 마다 하는건 매우 비효율 적이다. 실제 이벤트 발생보다 덜 빈번하게 주기를 낮춰서 검사하는 것이 좋은데 이때 사용할 수 있다.&lt;/p&gt;
&lt;h3&gt;requestAnimationFrame(rAF)&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;throttle&lt;/code&gt;과 동일한 효과를 내는 브라우저 native API이다. 매 프레임 마다 실행 되는데 기본적으로 16ms(60fps)마다 실행이 된다. 차이가 있다면 무엇보다 &lt;code&gt;requestAnimationFrame&lt;/code&gt;은 브라우저 API라는 점이다. 그렇기 때문에 사용이 편하고 브라우저가 렌더링 스케줄에 대한 최적화를 하기 때문에 렌더링에 있어서는 더 좋을 수 있다. 하지만 모든 브라우저에서 지원하지 않기 때문에 &lt;code&gt;polyfill&lt;/code&gt;이 필요할 수 있고 &lt;code&gt;node.js&lt;/code&gt;에서는 지원하지 않기 때문에 서버에서는 사용할 수 없다. 추가로 &lt;code&gt;rAF&lt;/code&gt;는 다른 두 함수와 다르게 시작 시점을 직접 컨트롤해야 한다는 것이다.&lt;/p&gt;
&lt;p&gt;그렇다면 언제 사용하는 것이 좋을까?
&lt;code&gt;rAF&lt;/code&gt;의 경우 위에서 언급했듯이 렌더링과 관련된 처리를 할 때 매우 유용하다. 브라우저 native API인데다 렌더링에 맞추어져 있기 때문이다. 대신 렌더링이 아닌 경우, 예를 들어 서버 API 호출이나 애니메이션 같은 렌더링의 시작이나 종료를 결정해야 하는 경우에는 &lt;code&gt;debounce&lt;/code&gt;나 &lt;code&gt;throttle&lt;/code&gt;이 유용하다. 특히 16ms 보다 덜 빈번하게 주기를 조절해야 하는 경우에는 특히 사용해야 한다.&lt;/p&gt;
&lt;p&gt;정리를 해보면,&lt;br&gt;
&lt;code&gt;debounce&lt;/code&gt;는 키입력과 같이 갑자기 이벤트가 몰리는 상황에서 그룹화를 통한 제어가 필요할 때,&lt;br&gt;
&lt;code&gt;throttle&lt;/code&gt;은 정해진 매 주기마다 이벤트 실행을 보장해야 할 때,&lt;br&gt;
&lt;code&gt;requestAnimationFrame&lt;/code&gt;은 throttle과 유사하지만 렌더링과 관련된 (화면에 무언가를 그린다거나 부드러운 애니메이션 효과 등) 작업을 처리할 때 사용하면 좋다.&lt;/p&gt;
&lt;p&gt;좀 더 자세한 내용과 실제 예제를 확인하고 싶으면 아래 참고의 링크를 확인하면 된다.&lt;/p&gt;
&lt;h3&gt;참고&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://css-tricks.com/debouncing-throttling-explained-examples/&quot;&gt;Debouncing and Throttling Explained Through Examples | CSS-Tricks&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[smooth key scroll 구현하기]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/dev/smooth-key-scroll/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/smooth-key-scroll/</guid><pubDate>Sun, 01 Mar 2020 09:38:49 GMT</pubDate><content:encoded>&lt;p&gt;대개의 브라우저에서 방향키로 스크롤을 하면 뚝뚝 끊겨서 이동이 된다. 보통은 크게 상관이 없지만 컨텐츠를 소비하는 화면이라면 사용성 경험적으로 좋지 못하다.(물론 마우스로는 가능하나 키보드를 사용하는 경우에 한정된 경우다) 이를 개선하기 위해 뷰어에서 키보드로 이동하는 경우에도 smooth-scroll을 적용하기 위한 컴포넌트를 작성했었다. 시간은 좀 지났지만 정리해 본다.
(적용된 결과는 &lt;a href=&quot;https://page.kakao.com/viewer?productId=50896822&quot;&gt;여기&lt;/a&gt;에서 먼저 확인해보자.)&lt;/p&gt;
&lt;h3&gt;벤치마킹&lt;/h3&gt;
&lt;p&gt;역시나 바퀴의 재발명은 불필요하다는 생각에, 일단 smooth-scroll 기능을 제공하는 곳이 있는지 이미 구현되어 있는 오픈소스들이 있는지 확인 해 봤다. 여기저기 찾다가 도움이 될 만한 chrome extension 2개(&lt;a href=&quot;https://github.com/gblazex/smoothscroll&quot;&gt;smoothscroll&lt;/a&gt;, &lt;a href=&quot;https://github.com/franciscolourenco/smoothkeyscroll&quot;&gt;smmothkeyscroll&lt;/a&gt;)를 발견했다. 하지만 extension으로만 제공해서 사용하기 불가능했기 때문에 참고해서 직접 구현하기로 결정하고 작업을 시작했다.&lt;/p&gt;
&lt;h3&gt;1. Queue를 사용한 가속도 처리&lt;/h3&gt;
&lt;p&gt;기본적인 아이디어는 키 이벤트가 발생하면 &lt;code&gt;발생 시간&lt;/code&gt;과 &lt;code&gt;스크롤 거리&lt;/code&gt;를 큐에 저장하고 &lt;code&gt;requestAnimationFrame&lt;/code&gt;을 호출한다. 그러면 각 단계에서는 &lt;code&gt;스크롤 거리x(현재시간-발생시간)/한 번의 이벤트에 걸리는 시간&lt;/code&gt;으로 현재 프레임에 이동할 거리를 구한 후 스크롤(&lt;code&gt;window.scrollBy&lt;/code&gt;)한다. 그리고 최종적으로 해당 이벤트에 대한 이동이 끝났으면 큐에서 제거한다.&lt;br&gt;
이전 스크롤이 끝나기 전에 동일 방향의 이벤트가 다시 발생하면 큐에 새로 추가하고 각 프레임에서는 큐에 들어있는 모든 이벤트에 대해 위의 이동 거리를 계산 후 합해서 스크롤을 한다. 이렇게 되면 키를 계속 누르고 있는 경우에는 이벤트가 큐에 누적되기 때문에 가속이 발생하게 되고, 키를 다시 때게 되면 순차적으로 이벤트가 완료되면서 큐가 줄어들기 때문에 감속이 된다. 또한 한 번에 사용되는 시간이 정해져 있기 때문에 무한정 누적되지 않아 일정한 속도 이상은 늘어나지 않게 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;_keydown&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; KeyboardEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;keyCode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;KEY_CODE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;scrollDistance&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;KEY_CODE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DOWN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        y &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; scrollDistance&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_scrollArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;_scrollArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;y&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;_directionCheck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_que&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      scrollY&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      lastY&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      start&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_pending&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; animationTime &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;step&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; now &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; totalY &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_que&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; item &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_que&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; elapsed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; now &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;start&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; finished &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elapsed &lt;span class=&quot;token operator&quot;&gt;&gt;=&lt;/span&gt; animationTime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; finished &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; elapsed &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt; animationTime&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; distY &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollY &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; rate &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lastY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        totalY &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; distY&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        item&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lastY &lt;span class=&quot;token operator&quot;&gt;+=&lt;/span&gt; distY&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;finished&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_que&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;splice&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
          i&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scrollBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; totalY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_que &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_que&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;step&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_pending &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;step&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_pending &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;_directionCheck&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;y&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; direction &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; y &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DIRECTION&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;DOWN&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;DIRECTION&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UP&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_direction &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; direction&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_direction &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; direction&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_que &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;2. 고정거리 스크롤&lt;/h3&gt;
&lt;p&gt;위 방법으로 하면 가속도 처리가 되긴 하지만, 버벅임이 발생하는 문제가 있었다. 그래서 단순하게 테스트로 이벤트가 발생할 때 마다 일정한 거리를 이동하도록 해봤더니 훨씬 부드러운 스크롤이 됐다. 매 프레임마다 큐를 모두 확인하는 계산이 가볍지 않아서 일까 싶었고 부드러운 스크롤이 목표였기 때문에 가속은 굳이 필요하지 않았다.&lt;/p&gt;
&lt;p&gt;최종적으로 키이벤트가 발생하면 방향에 따라 일정한 이동거리를 저장한다. 그리고 각 프레임에서는 저장된 거리만큼 스크롤을 시킨다. 훨씬 간단하지만 더 자연스럽게 동작했다.&lt;/p&gt;
&lt;p&gt;참고로 처음 구현을 하고 나서도 가끔 끊기는 현상이 있었다. 아래에 주석처럼 키 이벤트에 대한 브라우저의 기본 스크롤 동작이 있기 때문에 함께 동작하면서 발생한 현상이었다. 기본 동작을 방지하기 위해서 &lt;code&gt;event.preventDefault();&lt;/code&gt;를 호출해 주어야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;onKeyEvent&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; KeyboardEventObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newDirection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
      keyType &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; KeyboardKeyType&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ArrowUp &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; Direction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Up &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Direction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Down&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;keydown&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// 호출하지 않으면 브라우저의 기본 스크롤 동작 때문에 끊기는 현상이 생긴다.&lt;/span&gt;
      event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;preventDefault&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;newDirection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;keyup&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
      newDirection &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollDirection
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;direction&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Direction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollDirection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; direction&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; scrollSpeed &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollDistance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollDirection &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; Direction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Up &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;scrollSpeed &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; scrollSpeed&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentFrame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentFrame &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;step&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollDirection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Direction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;None&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollDistance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentFrame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;cancelAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentFrame&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentFrame &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function-variable function&quot;&gt;step&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;currentFrame &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;requestAnimationFrame&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;step&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scrollBy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;scrollDistance&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;다시 최종 결과를 비교해서 확인해 보자.(참고로 내가 좋아하는 두 웹툰이다.)&lt;br&gt;
&lt;a href=&quot;https://comic.naver.com/webtoon/detail.nhn?titleId=183559&amp;#x26;no=470&quot;&gt;네이버 만화, 신의 탑&lt;/a&gt; vs &lt;a href=&quot;https://page.kakao.com/viewer?productId=50896822&quot;&gt;카카오페이지, 나 혼자만 레벨업&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[생각의 단편들(2)]]></title><description><![CDATA[과학 vs…]]></description><link>https://nukeguys.github.io/life/several-thought2/</link><guid isPermaLink="false">https://nukeguys.github.io/life/several-thought2/</guid><pubDate>Sun, 16 Feb 2020 10:50:53 GMT</pubDate><content:encoded>&lt;h3&gt;과학 vs 공학&lt;/h3&gt;
&lt;p&gt;과학과 공학의 차이는 무엇일까. 개인적으로 구분을 하자면 과학은 기술 자체에만 의미를 둔다. 하지만 공학은 효율을 고려한다. 기술 뿐 아니라 비용, 시간 등의 다른 것들도 함께 고려해 효율성을 기준으로 하는 것이다.&lt;br&gt;
그렇다면 내가 하는 일은 어디에 가까울까? 아마 당연히도 공학일 것이다. 심지어 전공도 ‘컴퓨터 공학’이니 말이다.&lt;br&gt;
이전 회사에서 일 할 때 였다. 개발자들은 습성상 하나에 꽂히면 파고든다. 헤어나오지 못한다고 할까. 그런 상황에서  누군가 하는(팀장급의 리더였다) 말이 스쳐 지나갔다. “우리가 하는 일은 과학이 아니라 공학이잖아요” 정확하진 않지만 이런 말이었다. 동의는 한다. 비지니스에서는 고려해야 할 것들이 좀 더 다양하니까.&lt;br&gt;
하지만 문제는 정도의 차이다. 어디까지 허용하고 어디까지 양보해야 할까. 아직도 일을 하다보면 고민되는 경우가 종종있다. 가끔은 그 조금의 양보로 인해 더 큰 부수효과가 생길 때도 있다. 말 그대로 지금은 괜찮았던 것들이 이후에 예상치 못했던 문제가 되고 그 처리가 더 복잡해지는 경우다. 예측을 할 수 없으니 어쩔 수 있을까 싶은 생각도 이해는 된다. 그렇다고 한 가지에 매달려 파고드는 것도 크게 보면 효율성을 떨어뜨리는 일이 될 수도 있다.&lt;br&gt;
하지만 난 아직도 조금은 더 과학을 추구하고 싶다. 과학이 빠진다면 공학도 유지될 순 없을테니까. 물론 공학을 하면서 말이다.&lt;/p&gt;
&lt;h3&gt;부정적인 생각이 늘면, 지쳐가고 있다는 증거다.&lt;/h3&gt;
&lt;p&gt;최근 들어 투덜이가 되어가고 있다는 생각이 들었다. 언제부턴지는 모르겠지만 평소라면 그냥 지나갔을 작은 일들에도 불만을 갖는 것이다.&lt;br&gt;
왜일까,,, 생각해보니 이번이 처음은 아닌 것 같았다.&lt;br&gt;
곰곰히 생각해보니 지쳐가고 있던 것 같다. 여러가지 이유로 몸도 마음도.&lt;br&gt;
그래도 이번엔 다행스럽게 모처럼 휴가를 갖게 됐다. 아쉽게 계획했던 휴가는 못 보냈지만 그래도 적절한 타이밍에 쉬어 가는 것 같다.&lt;/p&gt;
&lt;h3&gt;답은 내 안에 있다.&lt;/h3&gt;
&lt;p&gt;모처럼 휴가에 추천을 받았던 심리상담을 신청했다. 어떤 느낌일까 궁금했는데 결과적으로 그냥 내 말만 하고 온 것 같다. 짧았지만 하지 못했던 말들을 그냥 하다보니 정리가 되는 느낌도 들었다. 사실 상담 받을 때는 이게 무슨 상담인가 싶기도 하고 전문가가 맞는건지 의구심이 계속 들었다.(물론 아직도 조금은…) 하지만 어쨋든 다른 곳에서 하지 못하는 내 얘기를 누군가에게 털어 놓으면서 그 과정에서 정리가 되어 가는 것 같았다.&lt;br&gt;
따지고 보면 나만큼 나에 대해 잘 아는 사람은 없다. 결국 내가 나를 잘 살피다 보면 답은 내 안에 들어 있을 것 같았다. 아직은 확실히 모르겠지만 생각보다 이런 시간도 나쁘지는 않은 것 같다.&lt;/p&gt;
&lt;h3&gt;배려&lt;/h3&gt;
&lt;p&gt;내가 좋아하는 &lt;code&gt;어라운드&lt;/code&gt;를 보다가 발견한 글이다. 나에게도 내 주변의 누군가들에게도 해당되는 말인 것 같았다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;배려와 소심의 한끗차이..&lt;br&gt;
배려와 바보의 한끗차이..&lt;br&gt;
배려와 무시의 한끗차이..&lt;br&gt;
배려와 무능의 한끗차이..&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[tic-for-tac]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/tic-for-tat/</link><guid isPermaLink="false">https://nukeguys.github.io/life/tic-for-tat/</guid><pubDate>Sun, 09 Feb 2020 13:40:44 GMT</pubDate><content:encoded>&lt;p&gt;두 명의 사건 용의자가 체포되어 서로 다른 취조실에서 격리되어 심문을 받고 있다. 이들에게 자백여부에 따라 다음의 선택이 가능하다. 당신이라면 어떤 선택을 하겠는가?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;둘 중 하나가 배신하여 죄를 자백하면 자백한 사람은 즉시 풀어주고 나머지 한 명이 10년을 복역해야 한다.&lt;/li&gt;
&lt;li&gt;둘 모두 서로를 배신하여 죄를 자백하면 둘 모두 5년을 복역한다.&lt;/li&gt;
&lt;li&gt;둘 모두 죄를 자백하지 않으면 둘 모두 6개월을 복역한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;형식을 조금 변경해서 게임으로 변형해보자. 두 명의 플레이어가 있다. 둘 다 침묵을 선택하면 각 3점씩, 한 명이 배신을 하면 배신한 사람만 5점, 둘 다 배신을 하면 각 1점씩 주어진다. 이 게임을 반복적으로 계속 했을 때 높은 점수를 얻기 위해 취할 수 있는 전략이 무엇일까? &lt;/p&gt;
&lt;p&gt;위의 내용은 알만한 사람은 누구나 다 아는 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%EC%A3%84%EC%88%98%EC%9D%98_%EB%94%9C%EB%A0%88%EB%A7%88&quot;&gt;죄수의 딜레마&lt;/a&gt;이다.
그리고 이 죄수의 딜레마를 반복적인 게임으로 변형 했을 때 가장 강력한 전략 중의 하나가 바로 &lt;a href=&quot;https://ko.wikipedia.org/wiki/%ED%8C%83%ED%8F%AC%ED%83%AF&quot;&gt;tic-for-tat&lt;/a&gt;이다.&lt;/p&gt;
&lt;p&gt;구체적인 내용은 복잡하지만 간단히 정리하면, 시작은 침묵(신뢰)이다. 그리고 처음 상대의 결과에 따라 나도 대응한다. 즉 상대가 침묵을 했다면 다음엔 나도 침묵을, 상대가 배반을 했다면 다음엔 나도 배반을 선택한다. 이는 단순하지만 다른 더 복잡한 전략들보다 훨씬 뛰어난 결과를 보였다.&lt;/p&gt;
&lt;p&gt;죄수의 딜레마란 결국 두 사람의 상호 신뢰에 따른 개인의 이익과 관련이 있다. 하지만 또 이렇게 단순하지만도 않다. 자유주의 시장경제에 반하는 입장에서 정부의 존재 이유를 정당화하는 이론적 근거의 하나로도 사용되고 있다고 한다.
그리고 간단하지만 강력한 &lt;code&gt;tic-for-tat&lt;/code&gt; 전략도 마찬가지로 단순 게임에서만 유용한 전략이 아니다. &lt;/p&gt;
&lt;p&gt;난 이 전략을 인간관계에서 활용한다. 정확히는 자연스럽게 활용하고 있었다는 말이 맞는 것 같다. 누구나 그렇겠지만 난 사람들에 대한 호불호가 개인적인 기준으로 쉽게 갈리는 편이다. 그리고 기준의 울타리 안으로 들어온 사람과 그렇지 않은 사람에 대한 대우는 첨예하게 다르다. 하지만 낯선 사람들을 만나다보면 나중에 이 사람과 어떤 관계가 될 지는 알 수 없다. 하지만 그렇기 때문에 한 사람 한 사람이 중요하다. 자칫 어떤 인연을 흘려 보낼 수도 있기 때문이다. 이 때 tic-for-tat이 적용되는 것이다. 일단 울타리 안으로 분류한 후에 시간이 흐른다. 그리고 상대에 따라 나도 맞춰진다. 결과적으로 남아있든 나가든 정리가 된다. 심플하다. (물론 실제는 더 많은 상황과 경우들이 있기 때문에 단정짓기는 힘들다.) 또 이와 유사한 것이 각종 종교나 철학에 나오는 바로 &lt;code&gt;황금률&lt;/code&gt;이다. 가장 익숙한 말을 들어보자면 기독교의 ‘남에게 대접을 받고자 하는 대로 너희도 남에게 대접하라’가 있다. 그리고 이전글 내용과도 어느정도 통하는 부분이다.&lt;/p&gt;
&lt;p&gt;갑자기 &lt;code&gt;tic-for-tac&lt;/code&gt;을 떠올리게 된 건 최근의 경험 때문이다.&lt;br&gt;
짧지 않은 시간 알고 지냈던 누군가를 함께 만났다. 대화가 이어지지만 들리는 그의 말에는 혼자만 힘들어 알아달라는 어리광, 한 편으로 상대적으로 뛰어난 점은 과감히 드러내며 일반적으로 뭉뚱그려 그 조건에 못한 사람을 무시한다. 함께 있는 사람에 대한 배려가 없다. 같은 생각이 든 사람과 눈이 마주쳤다. 서로 그냥 웃어버렸다. 한 번이라면 그저 웃고 지나가지만, 어린 아이가 아닌 이상 반복이 되면 듣는 것도 지친다. 이러다 보니 이제 그만 정리 해야하나 싶었다.&lt;/p&gt;
&lt;p&gt;관계란 밖에서 안으로 들어오는 경우는 좋으면 좋았지 나쁠게 없다. 하지만 이처럼 반대로 안에서 밖으로 나가려는 경우에는 뭔가 썩 좋지 않은게 사실이다. 이럴 땐 많은 생각이 든다.
남들은 웃고 넘기는데 내가 민감한 건지, 왜 그렇게 변했을까 혹은 원래 모습일까. 그것도 아니라면 내가 변했기 때문에 상대적으로 그렇게 느껴질까. 관계를 한 쪽의 일방적인 역할이나 책임으로 돌릴 수는 없는 것이기 때문이다.&lt;br&gt;
그리고 평소의 나에 대해서도 다시 한 번 생각하게 된다. 그리고 반성을 한다. 하지 않아야지 했던 다짐들이 무색했던 순간들, 알게 모르게 던져버린 말 들. 피해주지 않고 살고 싶지만 생각만큼 쉽지 않은 것 같다. 혹시라도 피해자가 되었던 분들에게 사과를 드린다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[개인주의자 선언]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/book/individualist-9788954637756/</link><guid isPermaLink="false">https://nukeguys.github.io/book/individualist-9788954637756/</guid><pubDate>Sun, 02 Feb 2020 08:57:22 GMT</pubDate><content:encoded>&lt;p&gt;한 때 열심히 봤던 미스 함무라비의 원작을 쓴 문유석 판사의 책이다. 제목만 봤을 때는 어떤 내용일까 싶었는데 읽다보니 비슷한 생각들로 공감도 많이 했다. 자신의 이야기를 시작으로 주변 사람들, 더 나아가 우리 사회의 현재와 다른 국가의 모습들을 통해 성숙한 사회의 지향점을 제시하기도 한다. 하지만 그렇다고 정치적이라거나 자신의 생각을 강요하는 느낌은 전혀 들지 않았다.&lt;/p&gt;
&lt;p&gt;시작은 판사 자신의 &lt;code&gt;개인주의&lt;/code&gt;에 대해 털어 놓는다. 둘레길 입구까지 갔다가 등산복 차림의 무리를 보고 발길을 돌리거나, “사랑합니다, 고객님” 하는 114 교환원에게 “왜요?” 라고 답하는 인간 혐오증에 가까울 정도로 사람들과 함께 있는 것을 싫어하지만 결국 사회속에서 함께 살아가는 이상 무수한 ‘그럼에도 불구하고’가 발생할 수 밖에 없다. 그렇기 때문에 오히려 더 스스로의 자유를 확보하기 위해서 어쩔 수 없이 양보와 타협을 하고, 괜찮은 척을 해야 하는데 심지어 본인은 그런 일을 잘 해내고 있다고 한다. 하지만 마음속 구석에 쌓인 것들을 토해내고 싶을 때도 있다고 한다. 우리가 보통 말하는 어른이라느니, 사회생활이라는 것과 비슷하구나 하는 생각이 들었다. 하고싶은 대로만 살 수 없기 때문에, 아니 오히려 편하게 살기 위해서라도 마음 한구석의 불편함을 감수하고 어울려 살아가는 것 말이다.&lt;/p&gt;
&lt;p&gt;작가는 사회를 스타워즈에 나오는 서로 다른 별에서 온 외계인들이 북적대는 술집에 비유한다. 즉 서로 다른 환경에서 다른 경험을 갖고 살아온 사람들에게 모두 같은 생각을 강요할 수 없다. 결과적으로 서로 다른다는 것만 알게 되고 그 차이를 이해하는 것 밖에는 할 수 없는 것이다. 작가도 말하지만 다르다는 것은 불편하다. 하지만 공존을 위해 타협하고 불편함을 참아주는 &lt;code&gt;톨레랑스&lt;/code&gt;가 필요하다. 나 또한 다른 것을 많이 불편해 하는 편이다. 그게 사람이든 무엇이든. 하지만 친해지거나 익숙해 지지는 못하더라도 큰 피해만 받지 않는다면 이해하려 노력한다. 이게 바로 내가 생각하는 &lt;code&gt;다양성&lt;/code&gt;이다. ‘네 이웃을 사랑하라’는 말은 예수님, 부처님 정도 되니까 할 수 있지 않을까 생각한다.&lt;/p&gt;
&lt;p&gt;나도 &lt;code&gt;개인주의&lt;/code&gt;를 지향한다. 하지만 일반적으로 생각하는 나 자신만을 생각하는 그런 개인주의가 아니다. 내가 손해 보지 않는 선에서 어느정도 희생을 감수하고 살아간다. 그로 인해 내 자유를 보장 받는 것이다. 개인인 나 자신이 중요하지만 우리가 사는 세상은 이 개인과 개인이 함께 살아가는 곳이고 결국 관계로 이루어져 있다. 결국 개인이 중요하다는 말에는 나 뿐 아니라 타인도 포함이 된다. 그렇다면 이것이 개인주의인가 하는 의문이 들 수도 있다.
위에서도 언급했지만 개인주의자로 살다보면 왜 나와 다른 타인을 존중해야 하는지, 왜 내가 양보하고 내 자유를 자제하며, 타인과 타협하고 연대해야 하는지. 이런 무수한 고민을 하게 되는데 결국은 내가 행복하기 위해서라고 말한다. 인간은 사회적 동물이며 타인은 생존과 번식을 위한 유용한 자원이고, 그렇기 때문에 그런 고민들은 행복이라는 목적을 이루기 위한 방편이라는 것이다. 하지만 개인의 행복을 위한 도구인 집단이 거꾸로 개인의 행복의 잣대가 되어버리는 순간 비극이 시작된다. 집단 내의 서열이나 타인과의 비교가 행복의 기준인 사회에서는 개인의 행복을 찾기가 어려워 진다는 것이다.&lt;/p&gt;
&lt;p&gt;한강의 기적을 일으키고, 민주화를 성취한 전 세계에서 몇 안되는 나라이며 따지고 보면 더 살기 좋은 곳은 열몇 곳 밖에 없는 대한민국에서 사람들은 점점 더 행복을 찾기가 어려워지고 있고 그 원인은 전근대적인 집단주의 문화이며, 따라서 근대적 의미의 &lt;code&gt;합리적 개인주의&lt;/code&gt;가 필요하다고 한다.&lt;br&gt;
책에도 나오고 나도 오래 전부터 든 생각이지만 우리나라의 조직들은 군대문화를 기반으로 형성되어 있다. 그리고 주변에서 나이가 좀 있으신 분들에게 종종 듯는 박정희 시대의 찬양이나 새마을 운동. 한강의 기적의 근간이 된 제조업 기반의 사회 구조나 문화. 분명 그 시대에는 효과적이었고 도움이 되었을 것이다. 그리고 결과적으로도 성공적이었던 것들이다. 하지만 시간은 흐르고 세상도 변한다. 결과에 대한 공로는 충분히 인정하지만 이제는 변해야 하는 것이다. 내 기억에 어릴 때는 이기주와 더불어 나 혼자만 생각하는 서구의 개인주의는 지양해야 한다고 배웠다. 하지만 이는 개인주의를 잘못 이해하고 해석한 결과라고 본다. 다른 사람에게 해를 끼치지 않으면서 내 행복을 추구하고 극대화 하려는 노력이 무슨 잘못인가 말이다. 우리는 히어로에 열광한다. 하지만 내가 항상 하는 말 처럼 세상에 정답은 없고 완벽한 사람은 없다. 즉 그런 히어로는 세상에 없다. 하지만 그래서 우리는 더 열광하는 것이고, 때문에 이런 개인의 불완전성과 비합리성을 고려하고 이해하는 합리적인 자세가 더욱 필요한 것이다.&lt;/p&gt;
&lt;p&gt;작가는 &lt;code&gt;집단주의 문화&lt;/code&gt;에서 비롯한 &lt;code&gt;수직적 가치관&lt;/code&gt;이 우리를 ‘더’ 불행하게 만든다고 한다. 즉 구성원들이 추구하는 가치가 획일화 되어 줄세우기를 통해 행복을 평가하는 것이다. 그 논리에서는 완전히 행복할 수 있는 사람은 있을 수 없고, 이런 경쟁의 피라미드 상층부에 있는 사람들도 이로부터 자유롭지는 못하다는게 내 기준에서는 사회의 상류층에 속하는 작가의 관찰 결과라고 한다. 주위에서 이런 말을 들을 때가 있다. 그저 ‘남들 처럼 평범하게 살고 싶다’ 라든지 바라는 것 없이 ‘나와 비슷한 환경이나 조건의 사람을 만나고 싶다’ 라든지. 물론 어떤 다른 의도가 담긴 건 아니겠지만 우리의 무의식 속의 기준으로 서로의 비교와 차이가 자리잡고 있는게 아닌가 하는 생각이 들었다. 물론 아래를 보고 현재에 만족하고 살라는 그런 단순한 이야기를 하는 것은 아니다. 작가도 말하지만, 그저 우리가 더 행복해질 수 있음에도 그렇지 못한 이유는 우리 스스로 자승자박하고 있기 때문이 아닌가 하는 것이다.&lt;/p&gt;
&lt;p&gt;그렇다면 &lt;code&gt;행복&lt;/code&gt;해지기 위해선 어떻게 해야할까? 책에서는 심리학자인 서은국 교수의 말을 인용하는데, 행복감이란 뇌에서 느끼는 쾌감으로 인간이 행복감을 가장 많이 느끼는 원천은 인간이며 행복은 기쁨의 강도가 아니라 빈도라고 한다. 위의 내용과 연결지어 보면 수직적 가치에 따라 비교를 통한 행복은 달성하더라도 무한하지 않다. 다시 또 계속 위로 올라가기 위해 계속해서 집착하게 될 뿐이다. 그렇기에 더더욱 획일화된 가치관을 버리고 다양성을 존중하는 것이 사회 전반적으로 행복해지는 방법이라고 본다. 나를 포함해 주변에서 종종듣는 북유럽에 대한 동경(?) 같은 것이 있다. 실제 유엔 발표에서도 행복지수가 높은 나라들의 대부분이 포함되어 있기도 하다. 세계 초강국인 미국 조차 10위 안에 들지 못하고 있는데 말이다. 그런데 그 이유가 개인주의적 문화 때문이라는 것이다. &lt;code&gt;자유와 타인에 대한 신뢰&lt;/code&gt;, &lt;code&gt;다양한 재능과 관심에 대한 존중&lt;/code&gt;. 이런 것들이 행복의 원동력이 된다고 한다. 집단주의가 문제가 되는 이유는 그 관계에서 강요나 의무, 복종 같은 것이 생기고 이로 인해 개인의 자유를 박탈 당하기 때문에 오히려 불행의 원천으로 작용하기 때문이다.
나에겐 좀 아쉬운 내용이긴 하지만 연구 결과에 따르면 내향적인 사람보다 외향적인고 사회성이 뛰어난 사람이 행복해지기 쉽다고 한다. 물론 내향적인 사람도 관계에서 만족감을 느끼고 행복을 경험한다. 단지 조금의 거리가 더 필요할 뿐이다. 누구나 다양성 속에서 얼마든지 존중을 받고 충분히 행복할 수 있다.&lt;/p&gt;
&lt;p&gt;우리 사회가 더 행복해지고 발전하기 위해서는 좌우 자판기를 철거해야 한다고 한다. 즉 이념을 통해 좌우를 구분하고 진영 논리로 단순화 시키는 것은 아무런 도움이 되지 않는 다는 것이다. 이념 또한 결국 인간의 행복을 위한 수단이 불과 하기 때문에 어느 한 쪽으로 치우져서는 안되며 구성원들의 자유와 평등의 가치 공유를 위해 &lt;code&gt;끊임없는 대화와 토론&lt;/code&gt;이 필요하다고 말한다. 물론 우리 각 개인 또한 관심을 가지고 함께 고민을 해야 한다.&lt;/p&gt;
&lt;p&gt;작가는 또한 &lt;code&gt;강한 책임을 기꺼이 질 수 있는 가치관&lt;/code&gt;을 배양해야 한다고 한다. 위에서 말했듯이 개인은 완벽하지 않으며 그렇기 때문에 실수를 한다. 그리고 우리 사회는 시도하고 실질적인 일을 만들어 내는 창작자보다 남의 잘잘못을 지적하고 평가하는 평론가가 많다고 말한다. 비평할 논리는 얼마든지 있는데, 본질적인 해결이 아니라거나 구조적인 문제를 일부만 건드리는 것은 의미가 없다거나 한계를 벗어나지 못했다거나…하는 결과론 적인 말로 노력하는 남을 냉소함으로써 자신을 위로한다는 것이다. 나 또한 반성을 하게 되는 내용이었다. 어차피 세상은 바뀌지 않는 다는 냉소로 핑계를 대고 아무것도 하지 않는 것이 더 큰 잘못이다. 우리가 영화에 나오는 그런 히어로는 될 수 없지만, 현실 속에서의 히어로들은 종종 보고 들을 수 있다. 영화와 마찬가지로 이들은 위기 속에서 모습을 들어내고 실수와 남들의 비판을 감내하면서 그로 인한 책임을 기꺼이 지는 사람들일 것이다.&lt;/p&gt;
&lt;p&gt;작가는 서두에 책에 담은 이런 생각들도 결국 개인이 아닌 사회에 관한 것들이며, 개인주의자 본인이 바라본 세상의 여러 얼굴들이라고 언급하면서 한 마디로 요약한다. “누구나 자기 몫의 아픔은 안고 살고 있더라”는 것이다. 그리고 보편적이지는 않지만 자신과 비슷한 생각을 가진 꽤 많은 사람들이 있을 것이라고. (나도 그 중에 한 명에 포함되지 않을까 하는 생각을 잠시 해봤다.)&lt;br&gt;
인류은 갈수록 더 행복을 추구하지만 그만큼 사는게 더 힘든 세상인 것 같다. 그럴수록 서로에게 관심을 갖고 기댈 곳이 되어 위로가 되는 존재가 되어야하지 않을까하는 생각이 든다.&lt;/p&gt;
&lt;p&gt;&lt;div class=&quot;gatsby-resp-iframe-wrapper&quot; style=&quot;padding-bottom: 50%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem&quot; &gt; &lt;div&gt;&lt;iframe src=&quot;https://www.youtube.com/embed/coiOZVNrToQ&quot; style=&quot; position: absolute; top: 0; left: 0; width: 100%; height: 100%; &quot;&gt;&lt;/iframe&gt;&lt;/div&gt; &lt;/div&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[2020년 새해 목표]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/2020-as-what-i-say/</link><guid isPermaLink="false">https://nukeguys.github.io/life/2020-as-what-i-say/</guid><pubDate>Sun, 26 Jan 2020 05:26:43 GMT</pubDate><content:encoded>&lt;p&gt;지난 주 늦은 회고를 하고(하지만 지난 해의 목표를 정한 시기나 구정을 기준으로 생각하면 적절한 타이밍이었다고 생각한다.) 간만에 여유로운 설 연휴에 역시나 이런저런 생각들을 하면서 올해도 새로운 목표를 정해보자 싶어 간단히 정리해본다.&lt;/p&gt;
&lt;p&gt;첫 번째로는 운동이다. 별것 아닌 듯 싶지만 운동을 꾸준히 할 때와 아닐 때는 컨디션 뿐 아니라 많은 것들이 다른 느낌이다. 그래서 운동은 어쨋든 계속 해 나가야 한다. 클라이밍 처럼 중간에 새로운 운동에 빠질 진 모르겠으나 일단은 하던대로 마라톤과 클라이밍이 목표다. 마라톤은 처음 만큼 열심히 하고 있지 못하지만 그래도 여유가 생길 때 마다 계속 참여를 해 볼 생각이다. 작년과 동일하게 올해도 10km 4회 그리고 클라이밍은 정기 강습을 계속 들으면서 대회 참가하기. 클라이밍이라는게 레벨이라는게 있긴 하지만 딱히 내가 얼만큼이다라고 명확히는 알 수 없어서 아마추어 대회에 한 번 나가보고 싶다.&lt;/p&gt;
&lt;p&gt;그리고 블로그와 독서. 아직 습관처럼 자리 잡지는 못했지만 글을 쓰는 것도 나름대로의 재미가 있다. 물론 할 얘기나 쓸 내용이 있을 때긴 하지만, 언젠가 내 책 한권 쓸 때를 기약하면서 꾸준히 써 볼 생각이다. 더불어 항상 실패했던 월 1권 독서도 다시 도전해 본다. 사실 정해진 목표 달성 보다는 습관으로 만들고 싶은 두 가지다. &lt;/p&gt;
&lt;p&gt;추가로 항상 실패 했던 개발 공부. 일 때문에 하긴 하지만 그 외에는 전혀 시도 조차 하지 못했기 때문에, 이번엔 좀 더 구체적으로 목표를 잡고 난이도를 낮춰서 해볼까 한다. 그래서 개발 책 2권 이상 완독하기를 생각해봤다. 작년에도 몇 번 시작을 했지만 결과적으로 완독하고 책장을 덮은 책은 없다. 조금 부담을 낮추고 시작해볼까 한다.&lt;/p&gt;
&lt;p&gt;새로운 목표로는 여행 그리고 전혀 새로운 분야의 도전 또는 경험이다. 여행의 필요성을 알긴 하지만 막상 시간이 주어지면 뭘 할지 몰라 그냥 흘려 보내게 된다. 언제까지 가능할 지는 모르겠지만 이제라도 시간이 허락하는 한 여행을 다녀볼까한다. 가까운 국내부터 해외까지. 얼마나 어떻게 가야할 지는 아직 모르겠다. 구체적인건 차차 생각하도록 하고 일단 다음달 제주도부터 시작이다. 그리고 새로운 뭔가의 경험. 새로운 것들은 하기 전까지는 두렵기도 설레기도 하지만 막상 겪어보면 별 것 아닌, 하지만 하길 잘했다는 생각이 든다.(물론 항상은 아닐 수 있지만) 올해도 생각지 못했던 새로운 사람들과 새로운 경험들을 할 기회를 만들어 봐야 겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[때 늦은 2019 회고]]></title><description><![CDATA[2020년이 시작되고 1월도 절반이 넘게 지났지만 이제서야 미뤄뒀던 2019년 회고를 작성해 본다. 2019년 목표 달성 작년…]]></description><link>https://nukeguys.github.io/life/goodbye-2019/</link><guid isPermaLink="false">https://nukeguys.github.io/life/goodbye-2019/</guid><pubDate>Sat, 18 Jan 2020 08:07:41 GMT</pubDate><content:encoded>&lt;p&gt;2020년이 시작되고 1월도 절반이 넘게 지났지만 이제서야 미뤄뒀던 2019년 회고를 작성해 본다.&lt;/p&gt;
&lt;h2&gt;2019년 목표 달성&lt;/h2&gt;
&lt;p&gt;작년 2월, 그 때도 뒤 늦은 새해 목표를 세웠었다. 사실 이전 같았다면 목표만 세우고 흘러갔기 때문에 확인 할 필요 조차 없었지만 이번엔 나름 노오력이란 것을 했기 때문에 결과를 한 번 정리해 본다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;2019 목표&lt;/strong&gt;&lt;br&gt;
이사&lt;br&gt;
운동 - 10km 마라톤 2회, 한라산 등반, 지속적인 운동&lt;br&gt;
공부 - 주1회 블로그 포스팅, 월 1권 독서, 개발 공부&lt;br&gt;
기타 - 취미 1개, 카카오페이지 월 1작품 보기, vim 익히기&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;이사&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
당연히 할 수 밖에 없는 일이었다. 조금 급하게 준비한 감이 있지만 위치 상으로는 너무나 만족스러운 곳에 살고 있다. 아쉬운 점이 있다면 조금 더 깔끔한 곳을 구했으면 좋았겠다는 것이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;운동&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
마라톤은 3/4/5/11월 총 4번의 대회에 참가했다. 꾸준히 하지 못해 목표로 했던 기록은 얻지 못했지만 마라톤에 흥미를 가지게 되어 만족스럽다. 새해에도 꾸준히 참여해 볼 생각이다.&lt;br&gt;
한라산 등반, 완전한 실패다. 한라산은 커녕 제주도 땅을 밟지도 못했다.(왠지 이럴 것 같은 예감이 들었다…)&lt;br&gt;
운동은 초반엔 헬스, 그리고 마라톤에 이어 클라이밍까지 꾸준히 해왔다. 개인적으로 잘 맞는 운동을 시작하고 즐길 수 있어 너무 좋다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;공부&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
주1회 포스팅은,,, 절반 정도의 성공인 것 같다. 이렇게 아직까지 하고 있는 것 만으로도 이전에 비하면 만족스럽지만 애초의 목표였던 주1회 포스팅은 실패다. 블로그를 다시 시작하고 2019년 총 27개의 글을 작성했다. 목표를 위해 함께 하는 사람들이 있다는게 너무나도 큰 도움이 된다. 블로그도 블로그지만 무엇보다 참 기분좋은 일이다.&lt;br&gt;
월 1권 독서, 얼마나 읽었을까… 완독은 하지 못한 책들을 포함해도 대략 10권 정도밖에 되지 않는다. 올해는 좀 더 노력해보자.
개발 공부는 사실 거의 못했다. 일과 관련된 분야는 어쨋든 계속 하게 되지만 그외는 전혀 없었던 것 같다. 항상 이게 가장 어렵다. 뭔가 방법을 찾아야 한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;기타&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
취미, 운동에도 포함되었지만 클라이밍이 새로운 취미로 자리 잡았다. 그리고 뒤늦게 몰트 위스키에 관심이 생겼다는 것. 아직 취미라고 할 정도 까지는 아니지만 뭔가 새로운 분야에 대해 관심을 갖고 조금씩 알아가고 있다.&lt;br&gt;
페이지 월 1작품 보기, 작품 구분은 무의미 한 것 같다. 달빛조각사를 시작으로 웹툰에 영상까지 포함하면 애초에 의도했던 개밥먹기는 충분히 달성했다.&lt;br&gt;
vim 익히기, vi를 자주 사용하는 편이 아니다 보니 쉽지 않다. vi를 익혀서 키보드를 바꿔보려던 생각이었으나 아직도 적응하지 못했다. 좀 더 자주 사용할 계기를 만들어 봐야겠다.&lt;/p&gt;
&lt;p&gt;전체적인 달성도 만으로도 개인적으로 후회스럽지 않을 정도는 된 것 같다. 물론 조금 더라는 아쉬움은 많이 남는다. 하지만 무엇보다 목표만 세우고 흘러갔던 이전에 비해 작지만 지속적인 노력을 해왔다는 것이 나에겐 많은 변화였다. 많은 의미에서 새로운 시작이었던 만큼 개인적으로는 보람있는 한 해 였다.&lt;/p&gt;
&lt;p&gt;새해의 목표는 아직 생각해 볼 여유가 없었기 때문에, 다시 시간을 갖고 정리해 볼 예정이다.&lt;/p&gt;
&lt;h2&gt;그리고 회고&lt;/h2&gt;
&lt;p&gt;지금까지 살면서 최악이구나를 처음으로 느꼈던 해가 2018년이었다. 그래서 2019년은 개인적으로 다시 시작의 느낌을 가진 해였다. 그래서 더 열심히 하고 싶었는지도 모르겠다. 떠오르는 기억들로 한 해를 정리해 본다.&lt;/p&gt;
&lt;p&gt;무엇보다 좋은 사람들을 많이 만났다. 지금은 그만두었지만 연초부터 참가한 스터디로 많은 사람들을 만났고, 덕분에 여러모로 좋은 계기들이 생겼다. 회사에서도 주변에 좋은 영향을 주는 사람들과 함께하고 있다. 뭐든지 사람이 가장 중요하다고 생각하는 입장에서 이 부분에서는 너무나 만족스러운 한 해였다. 이 사람들이 올해는 더욱더 행복해지길 바래본다.&lt;/p&gt;
&lt;p&gt;블로그, 마라톤, 그리고 클라이밍을 비롯한 다른 여러가지 새로운 경험들을 할 수 있었다. 모두 혼자선 시작하거나 겪어보지 못했을 것들이다. 아직은 조금 부족한 느낌이긴 하지만 그래도 실행을 하고 계속할 수 있다는게, 그리고 함께할 누군가 있다는게 참으로 감사한 일이다.&lt;/p&gt;
&lt;p&gt;걱정이 많았던 것 중 하나다. 회사를 옮기면서 전혀 해보지도 않았고 할거라도 생각지 못했던 일을 하고있다. 하지만 배운 것도 많고 나름 재미나게 즐기고 있다. 이제 발을 담근지 1년이라 갈 길도 멀고 새로운 것들 투성이긴 하지만 하나하나 알아가고 만들어 가는 재미는 무엇이든 동일한 것 같다. 커리어 따위 생각하지 않고 닥치는대로 살아왔고 지금도 그렇기 때문에 언제 또 어떤걸 하고 있을지는 모르겠지만 하는 동안은 열심히 재미나게 해 볼 생각이다.&lt;/p&gt;
&lt;p&gt;조금 아쉬움이 있다면 2019년을 시작할 때는 남다른 마음가짐이었던 것 같은데 역시나 시간이 지나면서 초심을 유지하기란 쉽지 않았다. 일이 워낙 바쁘다 보니 조금 지친 것도 핑계라면 핑계다. 어느정도 정리되면 조금 쉬어가는 시간을 갖고 다시 열심히 살아보자.&lt;/p&gt;
&lt;p&gt;개인적으로 오랫동안 풀지 못한 숙제가 하나있다. 풀고 싶지 않은 마음도 크다. 혼자 풀 수 있는 것도 아니다 보니 더더욱 쉽지 않다. 엎친데 덮친 격으로 새해가 되면서 풀기는 커녕 더 어려워 지고 말았다. 당분간은 별로 쳐다보고 싶지도 노력을 하고 싶지도 않다. 일단은 별다른 노력없이 그대로 둘 생각이다.&lt;/p&gt;
&lt;p&gt;올해는 작년과는 또 다른 시작의 느낌이다. 어딘가 불안하면서도 좋은 예감이 함께 든달까. 어쨋든 다시 시작이다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[리액트에 외부에서 만든 웹페이지 삽입하기]]></title><description><![CDATA[일정을 맞추기 위해 일부 웹페이지에 외부의 도움을 받기로 했다. 프로젝트를 공유해서 작업하는 방식이 아닌 별도의 웹페이지를 제작하면 현재 프로젝트의 특정 화면에 html…]]></description><link>https://nukeguys.github.io/dev/include-outer-html/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/include-outer-html/</guid><pubDate>Sun, 05 Jan 2020 15:18:39 GMT</pubDate><content:encoded>&lt;p&gt;일정을 맞추기 위해 일부 웹페이지에 외부의 도움을 받기로 했다. 프로젝트를 공유해서 작업하는 방식이 아닌 별도의 웹페이지를 제작하면 현재 프로젝트의 특정 화면에 html을 그대로 삽입해서 보여주는 방식이다. 이를 처리하는 과정에서 직면한 문제와 돌고돌아 생각보다 간단하게 해결만 방법을 정리해본다.&lt;/p&gt;
&lt;p&gt;추가해야 할 페이지(outer_html)는 이미 알고 있다고 하면 현재 페이지의 하나의 탭 화면으로 추가해야 한다면 어떻게 해야 할까.&lt;/p&gt;
&lt;p&gt;첫 번째 구현방식은 &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/Web_Components/Using_shadow_DOM&quot;&gt;shadow DOM&lt;/a&gt;을 사용하는 것이었다. &lt;code&gt;shadow DOM&lt;/code&gt;은 간단히 DOM안에 포함되어 있지만 캡슐화 된 DOM이라고 할 수 있다. 예를 들어 다른 누군가가 만든 컴포넌트 또는 코드를 가져다 사용한다고 하면 겹침이 발생할 가능성이 있다. 이럴 때 class명에 prefix를 지정한다거나 하는 방식으로 가능하겠지만 shadow DOM을 사용하면 해당 DOM에서 사용된 style은 외부에 영향을 주지 않도록 하면서 자유롭게 작업이 가능하다. 처음 이 방법을 적용했을 때 &lt;code&gt;&amp;#x3C;script&gt;&lt;/code&gt; 태그의 실행이 되지 않아 별도 처리가 필요했다.(마지막 방식을 적용해면서, 다시 해보면 될 것 같다는 생각을 했다.) 그리고 다음 방법을 적용해봤다.
아래처럼 React에 shadow DOM을 만들어주는 component를 만들고 필요한 곳에서 가져다 사용하도록 했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;ShadowDom html&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;outer_html&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;두 번째는 &lt;code&gt;dangerouslySetInnerHTML&lt;/code&gt;를 상용해서 코드를 그대로 표시할 DOM하위에 추가하는 것이었다. 물론 위에서 언급한 것 처럼 style의 중첩 등이 발생할 수 있지만 내부에서 진행한데다 크게 문제되지 않을 것 같다는 판단에 간단한 방법으로 처리했다. 위와 비슷한 정도지만 &lt;code&gt;ShadowDom&lt;/code&gt; 컴포넌트를 사용하지 않는다는 점이 다르다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __html&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; outer_html &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;하지만 여기에도 문제가 하나 있었다. 동일하게 CSR(Client Side Rendering)시에 외부 페이지에 있는 &lt;code&gt;&amp;#x3C;script&gt;&lt;/code&gt;가 실행되지 않는 것이었다. 하지만 SSR(Server Side Rendering)시에는 정상적으로 실행이 되고 있었다. 원인을 찾다가 알게 된 것들을 정리해 본다. (대부분 보안상의 이유로, 정확한 내용들은 찾아보면 금방 알 수 있다.)&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;innerHTML로 추가하면 script는 동작하지 않는다.&lt;/li&gt;
&lt;li&gt;script태그에 dangerouslySetInnerHTML로 스크립트를 입력하면 동작하지만, DOM을 추가하면 그 내부의 스크립트는 실행되지 않는다.&lt;/li&gt;
&lt;li&gt;동적으로 추가한 DOM 내부의 script를 수행하려면 &lt;code&gt;createContextualFragment&lt;/code&gt;라는 것을 사용하면 된다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;세 번째는 위에서 알게 된 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Range/createContextualFragment&quot;&gt;createContextualFragment&lt;/a&gt;를 사용하는 것이었다. 아직 정확한 내용은 파악하지 못했지만 비슷한 상황에서 사용하면 된다는 &lt;a href=&quot;https://github.com/facebook/react/issues/8838#issuecomment-348860974&quot;&gt;내용&lt;/a&gt;을 보고 적용해 봤다. 리액트에 적용하는 것이어서 마운트 된 이후에 처리되도록 &lt;code&gt;useEffecrt&lt;/code&gt;내에서 적용헀다. &lt;code&gt;containerRef&lt;/code&gt;는 코드를 추가하기 위해 미리 만들어 둔 element의 reference이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; range &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createRange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; containerEl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; containerRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;containerEl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  range&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;selectNode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;containerEl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fragment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; range&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createContextualFragment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;outer_html&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  containerEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fragment&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;web API인데다 사용하는 코드들도 발견했고 호환성도 충분한 듯해서 적용했고 동작도 정상적으로 됐다. 허나 고려하지 못한 부분이 하나 있었다. 외부 코드를 추가하는 페이지를 정적파일을 생성해서 서비스하고 있다는 것이었다. 마운트 된 이후에 DOM을 추가하다보니 SSR시에는 서버에서 빈페이지를 보내는데 이 결과가 정적파일로 만들어지고 있기 때문에 굳이 정적파일로 서비스하는 의미가 없어진 것이다. 그래서 SSR과 CSR을 구분해서 처리할 필요가 있었다. 그래서 SSR시에는 두 번째 방법을 유지하고 CSR시에는 마운트 이후에 해당 DOM을 제거하고 세 번째 방법으로 새로 추가하는 것이다. 적용하고 동작하는 것은 확인까지 했으나 아직 확실하게 파악하지 못한데다 곧 실서비스가 되어야 하는 상황에 좀 더 안전한 방법을 찾았다.&lt;/p&gt;
&lt;p&gt;마지막으로는 좀 더 간단하게 방법을 찾았다. 문제가 되는 부분은 해당 CSR시 DOM의 &lt;code&gt;&amp;#x3C;script&gt;&lt;/code&gt;태그가 실행이 되지 되지 않는다는 것이다. (SSR시에는 server에서 이미 DOM에 포함되어 내려오기 때문에 브라우저 입장에서는 원래 있는 코드와 다르지 않기 때문에 정상적으로 실행되는 것이다.) 그래서 단순히 CSR시에 해당 마운트 된 이후에 DOM에 있는 script를 수동으로 호출해 주면 해결될 수 있었다.(좀 더 복잡한 상황에서는 어떨지 모르겠다.)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; containerEl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; containerRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;containerEl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scripts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; containerEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; script &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; scripts&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    window&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;eval&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;script&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;innerHTML&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div
      ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;containerRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      dangerouslySetInnerHTML&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; __html&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; outer_html &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;useEffect에서 CSR인 경우에 &lt;code&gt;containerRef&lt;/code&gt;의 하위에 있는 script를 찾아서 &lt;code&gt;eval&lt;/code&gt;을 호출해 주는 것으로 실행해주는 효과를 본다.(eval 대신 new Function(script)를 실행할 수도 있다.)&lt;/p&gt;
&lt;p&gt;최종적으로 적용해 놓고 보니 생각보다 간단한 방법인데 돌고 돌아 왔다는 생각이 들었다. 물론 삽질로 많이 배우듯이 짧은 시간 그 과정에서 많은걸 알게 되었기 때문에 좋은 경험이었다. 아직 좀 더 다양한 경우와, 정확하게 이해를 하지 못해 부족한 부분이 있을 수도 있겠지만 일단은 동작은 충분했고, 결과는 곧 나올 예정이다.&lt;/p&gt;
&lt;p&gt;어느 덧 2019년이 지나고 2020년도 빠르게 지나고 있다. 하루라도 빨리 2019년의 회고를 작성하고 싶지만 워낙 바쁜데다 급하게 작성하고 싶지 않아, 조금 더 뒤로 미루기로 했다. 어서 프로젝트가 잘 마무리되고 여유가 생겨서 찬찬히 돌아볼 수 있는 시간을 가질 수 있었으면 좋겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[웹 페이지에 javascript 포함시키기]]></title><description><![CDATA[웹 페이지들을 개발하다 보면 외부 라이브러리를 비롯한 여러 js…]]></description><link>https://nukeguys.github.io/dev/import-js-script/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/import-js-script/</guid><pubDate>Sun, 22 Dec 2019 11:24:58 GMT</pubDate><content:encoded>&lt;p&gt;웹 페이지들을 개발하다 보면 외부 라이브러리를 비롯한 여러 js파일들을 포함시켜야하는 경우가 많다. 크기가 작은 파일들은 문제가 되지 않을 수도 있지만, 조금이라도 웹의 성능을 높이기 위해서는 목적에 따라 로드하고 실행하는 시점을 다르게 가져가야 할 필요가 있다. 사용 목적에 따라 js 파일을 포함하는 방법을 정리해 본다.&lt;/p&gt;
&lt;h2&gt;1. 최우선으로 로드되어야 하는 경우&lt;/h2&gt;
&lt;p&gt;일반적으로 &lt;code&gt;&amp;#x3C;script&gt;&lt;/code&gt;태그로 포함된 js파일은 기술된 순서대로 로드가 된다. 문서를 파싱하는 과정에서 script 태그를 만나면 파싱을 멈추고 스크립트를 로드하고 실행한 후에 이어간다. 따라서 그 만큼 지연이 생기된다. 보통 렌더링 보다는 기능적인 부분을 담당하는 경우가 많을 것으로 예상되지만, 경우에 따라 웹페이지 로드보다 우선해서 실행되어야 한다면 이 스크립트는 &lt;code&gt;&amp;#x3C;head&gt;&lt;/code&gt;내에 정의하면 된다. 아래의 예를 보면 스크립트를 다운로드하고 실행하기 전까지 아래에 있는 내용이 화면에 표시되지 않는다. 즉, 그만큼 사용자에 대한 응답시간이 길어지게 되는 셈이다. 꼭 필요한 상황이 아니라면 다음에 나오는 방식으로 상황에 따라 적절한 지연으로 웹페이지 성능을 올려보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;https://external_script.js&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;스크립트 실행 후에 보이는 내용&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;body&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2. 웹 페이지 로드 전까지 지연 시키기&lt;/h2&gt;
&lt;p&gt;고전적인 방식으로 &lt;code&gt;&amp;#x3C;head&gt;&lt;/code&gt; 대신 &lt;code&gt;&amp;#x3C;body&gt;&lt;/code&gt;태그의 마지막에 &lt;code&gt;&amp;#x3C;script&gt;&lt;/code&gt;태그를 추가하게 되면 html 파싱이 완료된 후에 js의 로딩 및 실행이 이뤄진다. 따라서 병목없이 웹 페이지를 해석하고 빠르게 보여주게 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;https://external_script.js&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;body&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 방법은 오래됐지만 그 만큼 브라우저 호환 걱정 없이 효과적으로 사용할 수 있다. 굳이 빠르게 로드할 필요가 없는 파일이라면 이렇게만 해도 충분히 효과를 볼 수 있다. 하지만 위의 경우와 반대로 html을 모두 파싱하고 난 후에야 js파일이 로드되기 때문에 사용자와 인터랙션을 담당하는 역할을 하는 등의 스크립트라면 처음 그려지는 것만 빠를 뿐 반응 자체는 동일하게 딜레이가 생기게 된다. 인터넷이 빠른 환경에서는 괜찮지만 그렇지 않은 환경에서는 여전히 문제가 될 수 있다.&lt;/p&gt;
&lt;h2&gt;3. &lt;code&gt;defer&lt;/code&gt; 다운은 빠르게 실행은 순서대로&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;&amp;#x3C;script&gt;&lt;/code&gt;태그에 &lt;code&gt;defer&lt;/code&gt; 속성을 사용하게 되면 파싱을 멈추지 않고 다운로드와 병행하게 된다. 이후 해석이 완료되고 &lt;code&gt;DOMContentLoaded&lt;/code&gt; 이벤트 발생 전에 스크립트를 &lt;code&gt;순서대로&lt;/code&gt; 실행한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;DOMContentLoaded&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;alert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;defer 스크립트 실행 후 호출&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;script&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script defer src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;https://external_script.js&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;head&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;body&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;스크립트 실행 전에 보인다&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;p&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;body&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 코드에서는 아래 script 태그를 만나도 파싱이 그래도 이어지면서 다운로드를 받고, 파싱이 완료된 후에 스크립트를 실행한다. 그리고 나서 alert가 표시된다.
만약 스크립트가 두 개 이상 포함된다면 브라우저는 병렬적으로 스크립트를 다운로드 받는다. 그렇게 되면 순서에 상관없이 크기가 작은 스크립트의 다운로드가 먼저 완료된다. 하지만 실행 자체는 기술된 순서대로 이루어 진다. 즉 실행순서에 의존적인 스크립트들을 포함해야 한다면 &lt;code&gt;defer&lt;/code&gt;를 사용하면된다. 주의할 점은 defer는 외부 스크립트에만 사용할 수 있다는 점이다.(src 속성이 없는 스크립트에서는 무시된다.)&lt;/p&gt;
&lt;h2&gt;4. &lt;code&gt;async&lt;/code&gt; 비동기로 다운 받고 바로 실행&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;async&lt;/code&gt;속성을 주면 defer와 다르게 순서에 의존적이지 않고 &lt;code&gt;DOMContentLoaded&lt;/code&gt; 이벤트와도 서로 의존적이지 않게 의미 그대로 비동기적으로 스크립트를 실행한다. 즉 파싱을 멈추지 않고 다운로드를 진행하고 다운이 완료된 스크립트를 바로 실행한다. 단, 실행하는 동안은 문서의 파싱이 멈추게 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;https://external_script_big.js&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;script &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;https://external_script_small.js&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위와 같은 경우에 defer라면 파싱이 모두 끝난 뒤에 &lt;code&gt;external_script_big.js&lt;/code&gt;가 먼저 실행되고 이후 &lt;code&gt;external_script_small.js&lt;/code&gt;가 실행된다. 하지만 async로 선언된 경우에는 크기가 작은 &lt;code&gt;external_script_small.js&lt;/code&gt;가 먼저 다운로드가 끝나면 실행도 먼저 이루어진다.
따라서 &lt;code&gt;async&lt;/code&gt;는 다른 스크립트에 종속적이지 않고 실행 시점을 정확하게 알 필요가 없는 파일의 경우에 유용하게 사용할 수 있다(예를 들면 ga나 광고 같은 경우). 만약 비동기로 로드하되 순서대로 실행하고 싶다면 &lt;code&gt;async=fase(기본값 true)&lt;/code&gt;를 사용할 수 있다.
마찬가지로 외부 스크립트에만 적용된다.
추가로 동적으로 element를 생성해서 추가하는 경우에는 &lt;code&gt;async&lt;/code&gt;가 기본적으로 적용된다. 따라서 순서에 의존적으로 실행되어야 하는 경우에는 &lt;code&gt;async=false&lt;/code&gt;를 명시적으로 선언해 주자.&lt;/p&gt;
&lt;p&gt;일반적으로 script가 &lt;code&gt;&amp;#x3C;/body&gt;&lt;/code&gt;앞에 존재하는 경우라면 &lt;code&gt;async&lt;/code&gt;나 &lt;code&gt;defer&lt;/code&gt;효과가 크지 않을 수 있다. 그 때 쯤이면 문서의 모든 파싱이 끝난 상태이기 때문에 지연시키는 것이 큰 의미가 없을 수 있기 때문이다. 그러나 head에 모아 두거나 동적으로 추가하는 경우라면 적절하게 지연시킬 필요가 분명히 있다.
만약 다른 파일에 종속적이지 않고 DOM과 상관없이 실행되어도 괜찮다면 &lt;code&gt;async&lt;/code&gt;를, DOM이 관련해 실행순서가 중요하다면 &lt;code&gt;defer&lt;/code&gt;를 사용하면된다.&lt;br&gt;
한 가지 주의할 점은 대부분의 브라우저를 지원하긴 하지만 모든 브라우저에서 지원하지 않는다는 점이다.(역시나 IE가 한 몫 한다)&lt;br&gt;
만약 async와 defer가 모두 선언되어 있다면, &lt;code&gt;async &gt; defer&lt;/code&gt;의 순서로 적용이 된다. 즉 async가 지원되는 브라우저는 async로 동작하고 그렇지 않다면 defer로, 먄약 defer도 지원하지 않으면 동기적으로 스크립트를 실행하게 된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;참고&lt;/strong&gt;&lt;br&gt;
&lt;a href=&quot;https://www.growingwiththeweb.com/2014/02/async-vs-defer-attributes.html#script&quot;&gt;async vs defer attributes - Growing with the Web&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/HTML/Element/script&quot;&gt;&amp;#x3C;script&gt; - HTML: Hypertext Markup Language | MDN&lt;/a&gt;&lt;br&gt;
&lt;a href=&quot;https://javascript.info/script-async-defer&quot;&gt;Scripts: async, defer&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[생각의 단편들]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/several-thought/</link><guid isPermaLink="false">https://nukeguys.github.io/life/several-thought/</guid><pubDate>Sun, 08 Dec 2019 01:55:24 GMT</pubDate><content:encoded>&lt;h3&gt;성난 사람들&lt;/h3&gt;
&lt;p&gt;왜인지 사람들이 모두 화가 나 있다. 각기 이유는 다르겠지만 화가 난 상태다.
집 앞에서 큰소리로 싸우는 파이터들, 길 가다 창 창문을 내리고 뭐라고 내 뱉고 가는 운전자, 그 밖에 오가며 마주치는 많은 사람들이 화가 난 표정으로 지나간다.&lt;br&gt;
화를 참으면 병이되서 밖으로 뿜어대는 건지, 화도 전염이 되어 점점 퍼져 나가서 그런 건지 모르겠다.
나도 한 땐 너무 쉽게 뿜어댔고, 또 한 때는 열심히 삭히면서 지냈다. 전자는 주위가 힘들고 그러다 결국 나도 힘들어진다. 후자는 내가 힘들고 그러다 결국 주위에도 영향을 미친다. 어쨋든 화는 풀어야 한다. 단, 건전한 방법으로.&lt;br&gt;
난 한 땐 코인노래방을 열심히 애용했다.(일명 혼코노) 천원에 2~3곡 열심히 소리를 지르다 보면 좀 가라앉는다. 천원짜리 한 두장이면 되니 이만한 가성비가 없다. 요즘엔 운동을 한다. 사람이 아닌 홀드와 문제와 싸운다. 그러다보면 다른 일들은 머리에서 떠나간다. 물론 둘 다 끝난 뒤에 오는 현타는 어쩔 수 없는 것 같다.&lt;/p&gt;
&lt;h3&gt;운동을 합시다.&lt;/h3&gt;
&lt;p&gt;군대에서 이후로 요즘처럼 꾸준하게 운동을 한 적도 드문 것 같다. 물론 강습을 끊어 놓은 효과도 있고 잘 맞는 운동을 찾은 덕도 크다. 하지만 이전에는 일이 바빠지면 운동을 조금씩 줄여 나갔다. 정확히는 줄이기 보다는 피곤과 귀차니즘으로 안했다는게 맞는 표현이다. 하지만 그렇게되면 오히려 몸도 정신도 더 피곤해 진다. 그러다 순간 번아웃을 마주하면 더 답이 없다. 일이 바쁠 수록 정신력의 소비가 클 수록 운동을 꾸준히 해줘야 버틸 수 있다. 운동으로 체력과 근력만 키우는게 아니다 정신력도 같이 길러진다. 운동은 생존이다. 우리 모두 운동을 합시다.&lt;/p&gt;
&lt;h3&gt;미움받을 용기&lt;/h3&gt;
&lt;p&gt;한 때 유행했던 책 제목이기도 하다. 모든 사람에게 좋은 사람이기는 사실상 불가능하다. 하지만 알면서도 받아드리기는 쉽지 않다. 남들보다 조금 더 착하거나, 보편적인(?) 성격의 사람이라면 좀 더 많은 사람들에게 좋은 사람일 수는 있다. 타고난 성격이 그렇다면야 좋겠지만, 그렇지 않다면 스스로의 개성을 어느정도는 포기해야 할 수도 있다. 물론 정답은 없다. 개인이 살아가는 방식에 대한 선택의 문제라고 본다.&lt;br&gt;
누군가 그랬다. 관계라는게 결국 필요한게 있으면 유지하고 아님 아닌 비지니스의 일종이라고. 하지만 난 그런걸 잘 못한다. 그냥 내가 좋으면 좋고 싫으면 싫은, 하지만 무난하게 지내려 노력할 뿐이다. 나도 보기보다는 보편적이지 않은 성격이기도 하고, 쉽사리 사람을 믿지 않기 때문에 그것도 쉽지는 않은 것 같다. 넓은 인맥이나 많은 인정을 바라진 않는다. 그냥 어울릴 수 있는 몇몇의 비슷한 사람들만 있어도 난 괜찮겠다 싶다.&lt;br&gt;
얼마 전 글을 하나 읽고나서 예전에 봤던 시가 생각났다. 이규경 시인의 &lt;code&gt;용기&lt;/code&gt;라는 시다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;넌 충분히 할 수 있어&lt;br&gt;
사람들이 말했습니다&lt;/p&gt;
&lt;p&gt;용기를 내야 해&lt;br&gt;
사람들이 말했습니다&lt;/p&gt;
&lt;p&gt;그래서 나는 용기를&lt;br&gt;
내었습니다&lt;/p&gt;
&lt;p&gt;용기를 내서 이렇게&lt;br&gt;
말했습니다&lt;/p&gt;
&lt;p&gt;나는 못해요&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;사람이 좋다 (feat.zico)&lt;/h3&gt;
&lt;p&gt;얼마 전까지 자주 반복해서 들었던 노래가 있다. &lt;code&gt;사람(지코)&lt;/code&gt;이다. 우연히 듣고 있는데 가사가 귀에 들어왔다. 그냥 누구나 공감할 수 있는 내용이라 그런걸 수 도 있겠지만, 요즘 따라 듣다보면 가사에 집중하게 되는 노래들을 자주 듣게 되는 것 같다. 노래를 들을 때 멜로디 보다 가사를 듣기 시작하면 나이를 먹은거라고 하던데, 언제부턴가 정말 가사들이 귀에 더 잘 들리기 시작했다. 맙소사…&lt;br&gt;
아래는 사람의 가사 일부다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;다를 거 없이 하찮은 하루 / 유독 좋은 일만 피해 갔구나 / 어릴 적 그림 속 어른이 된 난 / 분명 기쁜 표정이었는데
한 평생이 오늘까지면 / 발길을 돌릴 곳이 있나요 
...
조심해 시간은 무섭게 속력을 낼 거야 / 넘어지지 않게 서로 손잡이가 되어줘 / 개인이 할 수 있는 일은 실망밖에 없어 / 터질 듯 쌓여버린 이야기보따리를 풀어
/ 삶은 교묘한 장난을 안 멈춰 uh / 네가 공짜로 생명을 얻은 날부터 UH / 우선시되는 무언가에 늘 묻혀있지 행복은 / 화려한 꽃밭 틈에서 찾는 네 잎 클로버  

나쁜 마음씨를 들킬까 / 너 나 할 것 없이 눈치 봐 / 걱정 마 좀 부족해도 누군가는 / 인간다움을 느껴
/ 남의 눈에 좋은 사람이기 전에 / 나 자신한테 먼저 화해를 청해 / 어렵다는 거 모두가 알아 / 이번이 처음 살아 보는 거잖아
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[유시민의 글쓰기 특강]]></title><description><![CDATA[얼마 전 글쓰기가 가치 있는 일이 되기를 바라는 소망이 담겨있는 책을 한 권 선물 받았다. 의미에 걸맞게 유시민의 글쓰기 특강이었다.
이 책은 논리적인 글쓰기에 대해 이야기 한다. 그리고 처음 가장 기본적인 3가지 원칙을 소개한다. 사실 이…]]></description><link>https://nukeguys.github.io/book/writing-9788965133520/</link><guid isPermaLink="false">https://nukeguys.github.io/book/writing-9788965133520/</guid><pubDate>Sun, 24 Nov 2019 11:13:45 GMT</pubDate><content:encoded>&lt;p&gt;얼마 전 글쓰기가 가치 있는 일이 되기를 바라는 소망이 담겨있는 책을 한 권 선물 받았다. 의미에 걸맞게 &lt;a href=&quot;https://page.kakao.com/home?seriesId=47467405&quot;&gt;유시민의 글쓰기 특강&lt;/a&gt;이었다.
이 책은 논리적인 글쓰기에 대해 이야기 한다. 그리고 처음 가장 기본적인 3가지 원칙을 소개한다. 사실 이 3가지가 가장 기본이면서도 핵심이 아닐까 생각해서 소개해본다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;첫째, 취향 고백과 주장을 구별한다.&lt;/strong&gt;&lt;br&gt;
어느 한 가지만 필요하다는 내용은 아니다. 취향 고백을 주장처럼 말하지 말라는 의미이다. 두번째 내용과도 이어지지만 논리적인 글쓰기에서 주장은 반드시 논증이 되어야 한다. 하지만 명확히 옳고 그름을 판단할 수 없는 취향을 주장처럼 해버리는 순간 논증을 해야 하는데, 이는 사실상 어렵기 때문이다.
아마 누구나 쉽게 하는 실수일 것 같다. 나도 별 생각없이 글을 쓰거나 말을 하다보면 내 생각이나 의견으로 판단을 내리거나 사실 처럼 확정하는 경우가 종종 있는 것 같다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;둘째, 주장은 반드시 논증한다.&lt;/strong&gt;&lt;br&gt;
사실과 주장을 구별해야 한다고 한다. 사실은 기술만하면 되지만 주장은 논증을 해야 한다. 주장이 논증이 되고 많은 사람이 받아드리면 사실이 되는 것이다. 하지만 주장만 하고 논증을 하지 않으면 바보가 된다. 안타깝게도 이런 경우도 주위에 흔하게 존재한다. (목소리 크면 이긴다는 말이 어울리는 상황이 이런 경우가 아닐까)
논증이 필요한 이유는 반박을 할 수 있어야 하기 때문이다. 반박을 할 수 있도록 논증을 해야 주장이 되고, 그래야 받아들어지거나 반박을 할 수 있다. 논증이 없는 주장은 그저 요구에 지나지 않을 것이다. 이 부분에서 가장 공감이 갔던 내용이다.
글쓰기를 업으로 삼는 사람들도 실수를 하고 지키기 어려운 부분이라고 하니 꾸준한 연습과 노력이 필요한 부분인 것 같다. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;셋째, 처음부터 끝까지 주제에 집중한다.&lt;/strong&gt;&lt;br&gt;
주관적 감정에 의해 주제를 벗어나지 말고 애초에 말하려던 주제를 끝까지 이어가야 한다. 이 부분도 지키기 쉽지 않는 내용이다. 글이란게 쓰다보면 감정이 들어가고 그러면서 사실에서 벗어나 주제가 흐려질 때가 있다. 물론 에세이 같은 글이라면 상관없을 수 도 있겠지만 논리적인 글쓰기에서는 반드시 지켜야 할 내용이다.&lt;/p&gt;
&lt;p&gt;이 다음 내용부터는 글을 잘 쓸 수 있는 많은 방법들에 대해 이야기 한다. 하지만 이 첫장이 가장 핵심적이고 중요한 내용이 아닐까 싶어 정리를 해봤다. 그리고 정리하기 위해 다시 한 번 책을 훑어 보니, 위의 원칙들이 글쓰기 뿐 아니라 말하기에도 해당하는 내용이라는 생각이 들었다. 말을 하다보면 감정이 필요한 경우도 분명 많지만, 어떤 경우에는 감정이나 취향에 빠져 마치 사실인냥 혹은 주장처럼 내 생각을 말하고 가치 판단을 너무나 가볍게 내린다. 오히려 신경을 쓰게 되는 글쓰기 보다 더 쉽게 이런 상황이 발생하지 않을까 싶다. 돌이켜 보니 나 또한 그런 경우가 많은 것 같아서 반성이 되기도 한다. 아마 누군가에겐 여러모로 불편한 상황이지 않았을까.&lt;/p&gt;
&lt;p&gt;아직 책이 절반은 넘게 남아있다. 바쁘다는 핑계로 많이 보진 못했지만 글쓰는 것에 대해 다시 한 번 생각을 할 수 있었던 것 같다. 또한 저자가 직접 자신이 말하는 대로 책을 써서 인지 쉽게 읽히고 이해되다 보니 더 와닿게 되는 것 같다. 혹여나 누군가 글쓰기에 대해 관심이 있다면 한 번쯤은 꼭 보라고 추천 할 만한 책인 것 같다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[선에 관하여]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/about-limit/</link><guid isPermaLink="false">https://nukeguys.github.io/life/about-limit/</guid><pubDate>Sat, 16 Nov 2019 12:44:25 GMT</pubDate><content:encoded>&lt;p&gt;언젠가 선이라는 단어를 듯고 여러가지 선에 대하여 생각을 해 본 적이 있다.
한자로 선(善)을 의미할 수도 있고, 물리적인 특히 인체의 선(아름다움)을 의미할 수도 있다. 그리고 다른 기준이나 한계를 의미하기도 한다.(보통 선을 넘었다 라고 표현하기도 한다.)&lt;/p&gt;
&lt;p&gt;사람들은 다양하다. 그 만큼 나와 다른 사람도, 다른 모습도 많다는 의미이다. 나만해도 어제와 오늘, 기분에 따라 상황에 따라 달라지는데 나와 남을 비교하면 오죽할까. &lt;/p&gt;
&lt;p&gt;이런 세상에서 우리는 함께 살아간다. 너무나 다양한 사람들을 만나고 지나치면서. 그러다 보면 어쩔 수 없이 나와 다른 모습 또는 성향의 사람도 마주치게 된다. 이 다름의 정도와 나의 선(기준)에 따라 우리는 둘 도 없는 사이가 되기도 혹은 다시 보지 않을 적대적인 사이가 되기도 한다.&lt;/p&gt;
&lt;p&gt;개인 적인 선의 정도를 너비로, 타인의 선을 받아드리는 정도를 선의 높이로 표현해보자.&lt;/p&gt;
&lt;p&gt;난 개인적으로 선이 대부분 좁고 낮은 편이다. 선이 좁다는 걸 다른 말로 해석하면 호불호가 뚜렷하지 않다고도 할 수 있을 것 같다. 그래서 선택 장애가 있다. 하지만 선이 낮기 때문에 다른 선들을 잘 받아드리는 편이다. 그래서 내가 지향하는 두 가지 중의 하나가 다양성이기도 하다.(다른 하나는 미니멀리즘이다) 물론 내가 정한 혹은 가지고 있는 어떤 선들은 아주 넓기도 혹은 높기도 하다. 물론 그것들은 변한다. 더 납득할 혹은 그럴듯한 무언가가 생겼다면.&lt;/p&gt;
&lt;p&gt;반면 어떤 사람들은 아주 넓고 높은 선들을 가지고 있다. 그래서 모든 상황, 모든 일들에 대해서 판단하거나 결정할 기준이 있고 그렇게 행동한다. 또한 자신이 선호하는 바가 분명하기 때문에 비슷한 사람들과 함께하면 너무나 행복할 수 있다. &lt;/p&gt;
&lt;p&gt;선이 넓거나 좁은 것은 대부분 문제가 되지 않는 것 같다. 문제는 거의 높이에서 발생한다. 다른 말로하면 이해라고 할 수 있을 것 같다. 나도 어릴 때는 선이 아주 높은 사람이었다. 나와 다르거나, 내 맘에 들지 않고 이해되지 않는 것들이 너무 나도 싫었다. 하지만 점점 나이가 들면서 다양한 사람들을 만나고 선들도 바뀌고 높이도 낮아졌다. 그래야만 했을 수도 있을 것 같다. 선을 넘어오는 상황에서 발생하는 스트레스가 너무나도 싫었고 힘들었기 때문에. 그러면서 깨달았던 것 같다. 항상 옳은 것은 없다는 것을. 하지만 그럼에도 누구나 선을 가져야 한다는 것을.&lt;/p&gt;
&lt;p&gt;때론 선이 없거나 너무 좁은 경우도 문제가 된다. 더구나 이건 누군가와의 관계가 아니라 스스로 문제에 빠진다. 내가 그런 편이다. 선이 필요한 경우 없는 선을 만들다가 제 풀에 지쳐버린다고나 할까. 그리고 주위에 영향을 미치기도 한다. 당연히 좋은 영향은 아니다.&lt;/p&gt;
&lt;p&gt;개인적으로는 선이 넓은 사람들이 부럽다. 나 스스로가 답답할 때가 많으니. 하지만 그렇다고 선들을 쉽게 쉽게 만들고 싶지는 않다. 물론 그렇게 되지도 않지만. 이건 나이의 문제도 아닌 것 같다. 난 나이가 들면 변할 줄 알았으니까. 아직은 잘 모르겠다. &lt;/p&gt;
&lt;p&gt;내 확고한 선 중에 하나는 인생엔 정답이 없고, 세상에 완벽은 없으며, 100%는 디지털 세상에만 존재한다는 것이다. 예전에 적어놓은 이 글을 보고 누군가 나에게 댓글을 남겼다. 인생에 정답이 없다면, 니가 적은 그 말 또한 정답이 될 수 없다라는 의미였다. 그리고 다시 난 생각했다. 역시 정답은 없구나 하고.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[달리자 나답게]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/jtbc-seoul-marathon/</link><guid isPermaLink="false">https://nukeguys.github.io/life/jtbc-seoul-marathon/</guid><pubDate>Sun, 03 Nov 2019 08:03:25 GMT</pubDate><content:encoded>&lt;p&gt;스타일런 이후로 뉴발란스 런온서울과 아디다스 마이런을 등록 했다가 일정상 취소하면서 오랜만에 달리게 됐다. 준비는 전혀 못하는 바람에 걱정이 많았지만 올해 마지막 메이저 대회인데다 오래 기다렸던 대회라 어떻게든 참가하기로 했다.&lt;/p&gt;
&lt;p&gt;아침 일찍 출발해야 하기 때문에 토요일에 미리 준비를 하던 찰나, 헬스장에 러닝화를 두고 챙겨오지 않았다는 사실을 깨달았다. 주말에는 문을 열지도 않기 때문에 가지러 갈 수도 없는 상황이라, 고민 끝에 오래 신을 생각으로 러닝화를 새로 샀다. 맙소사 간만에 쇼핑을 할 계획이었는데 대신 러닝화만 하나 더 생겼다.&lt;/p&gt;
&lt;p&gt;아침일찍 일어나 말썽인 무릎에 테이핑을 단단히 하고 여의도 공원에 도착했다. 짐을 맡기고도 뭔가 모를 불안감이 계속 들었다.(자기 전에 본 오늘의 운세가 최악으로 나온 탓일거다. 일년 중 피해야할 서른날 중 하나라나…) 적당히 몸을 풀고 화장실에 가기 위해 줄 서 있는데 누군가 손을 툭 치고 지나가고 폰은 그대로 낙하. 역시나 안좋은 예감은 틀리지 않는 건가, 그렇게 떨어 뜨려도 멀쩡하던 폰의 필름이 깨져 있었다. 순간 올라오는 감정을 다시 누르고 릴렉스. 액정이 안깨진게 다행이겠지… 액땜했다 치기로 했다. 왜인지 이런날은 그냥 조용히 지나가는게 좋을 듯 하다.&lt;/p&gt;
&lt;p&gt;jtbc에서 주최를 해서 그런지, MC는 jtbc의 아들 장성규. 그리고 홍모 모델인 청하를 비롯해 여러 연예인들이 나와서 인사를 하고 일부는 같이 참여도 한단다. 청하 얼굴도 구분을 못하는 판이라 관심이 1도 안갔다.&lt;/p&gt;
&lt;p&gt;드디어 출발, 역시나 큰 대회는 정신이 없다. 10km 인원만 2만명이 넘고 4개 그룹으로 나눠서 달리니 어쩔 수 없다. 초반엔 앞으로 나갈 수도 없고 달리면서 치고 간다. C그룹에서 달리다 보니 앞 그룹 마지막 러너들을 만난다. 또 막힌다… 이번에 사은품으로 준 러닝색 덕분에 노래도 듣고 기록 측정도 하면서 달리는데 이러다 늦게다 싶지만 페이스 조절이 안된다. 뛰다보면 막히고, 그렇게 좀 지나니 무릎이 말썽이다. 통증 때문에 속도를 올릴 수가 없다. 사람이 워낙 많아서 그런건지 매너가 없는 사람들도 많다. 달리다 갑자기 제자리에 서버리고, 터널안에서 소리를 지르고, 러닝크루인지 주로 한 가운데를 차지하고 단체로 걸어간다. 결국 기록은 어느정도 포기하고 완주를 했다. 50분 하고도 많이 지나 있을 줄 알았는데 기록증을 보니 50분 39초. 준비도 못하고 무릎도 상태가 안좋은데 나름 잘 나왔다 싶다가도 40분대를 못 들어가서 조금만 더 뛸 걸 하는 생각에 드는 아쉬움은 어쩔 수 없다.
그러다 우연히 스타일런 기록을 봤는데 50분 38초 54. 이렇게 똑같이 나오다니 신기하다.&lt;/p&gt;
&lt;p&gt;마치고 돌아오는 길. 역시나 계단 오르기가 힘들다. 무릎이 또 고장이다. 주인을 잘못 만나서 관절들이 참 고생이 많다는 생각을 했다.&lt;/p&gt;
&lt;p&gt;등록만 해놓고 연습도 제대로 못하고 준비도 없이 혼자 참가한 것 치고는 나름 잘 달린 것 같다. 올해 목표한 기록은 달성하지 못했지만 그래도 나름 꾸준히 참여해서 달렸다는 점에 뿌듯했다. 바빠지기도 했고 클라이밍도 시작하면서 러닝을 못해서 이제 힘들겠다 싶었는데 하루 뛰고 나니 내년엔 좀 더 하는 욕심이 다시 생긴다. 이번 대회 모토가 “달리자 나답게” 였던가. 마라톤만 의미하지는 않겠지 하는 생각이 든다. 앞으로도 열심히 달려보자 나답게.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[클라이밍 일지 #2]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/climbing-inside/</link><guid isPermaLink="false">https://nukeguys.github.io/life/climbing-inside/</guid><pubDate>Sat, 26 Oct 2019 11:35:56 GMT</pubDate><content:encoded>&lt;p&gt;클라이밍을 시작한지 두 달 쯤이 지나고 드디어 내 클라이밍화를 구매했다. 센터에서 대여하는 신발은 너무 오래 많은 사람들이 신어서 상태도 좋지 않고 발에 맞는 신발을 찾기도 쉽지 않다. 눈이 높아져서 이것저것 보고 갔지만 결국에는 신기 편한 초급용으로 추천받아서 구매했다. 그래도 이제 &lt;code&gt;신력&lt;/code&gt;은 갖췄으니 &lt;code&gt;실력&lt;/code&gt;만 갖추는 일만 남았다.&lt;/p&gt;
&lt;p&gt;마침 강습도 중급으로 넘어왔고, 스텝도 &lt;code&gt;아웃사이드&lt;/code&gt;로 넘어왔기 때문에 겸사겸사 이전에 했던 내용들과 사전지식으로 알아두면 좋은 암벽과 홀드에 대해 정리해본다. (참고: 클라이밍 교과서)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;암벽의 형태&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;페이스 : 수직에 가까운 벽(직벽)으로 힘보다는 기술을 요하는 경우가 많다.&lt;br&gt;
코너 : 벽끼리 만나는 모서리로 홀드 대신 벽을 짚거나 손을 쓰지 않고 두 발로만으로도 버틸 수 있다.&lt;br&gt;
슬랩 : 경사가 90도 이하인 벽으로 상대적으로 쉬운 편이다.&lt;br&gt;
칸테 : 코너와 반대로 튀어나온 모서리로 훅을 주로 사용한다.&lt;br&gt;
오버행 : 경사가 90도를 넘어서 앞으로 기울어진 벽으로 힘이 어느정도 뒷받침이 되어야 한다.&lt;br&gt;
크랙 : 암벽에서 갈라진 틈을 의미한다. 인공암벽에서는 잘 볼 수 없다.&lt;br&gt;
루프 : 천정같은 벽으로 거꾸로 매달리는 것 처럼 된다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;홀드의 종류와 그립&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;홀드란 벽에 튀어나온 부분을 의미한다. 이 홀드들을 손으로 잡고 발로 딛어서 움직이는 것이다.
실제 암벽과 비슷하도록 여러 모양들을 가지고 있고 이 홀드들을 잡는것을 그립이라고 한다. 그리고 모양과 잡는 방법등에 따라 구분되어 불려진다.&lt;/p&gt;
&lt;p&gt;오픈핸드 : 손끝을 홀드에 걸고 쭉 펴서 매달린다.&lt;br&gt;
클링 : 매달릴 수 있는 홀드를 의미한다. 방향에 따라 사이드클링, 언더클링 등도 있다.&lt;br&gt;
저그 : 감싸 쥐듯 잡을 수 있는 홀드로 스타트에서 주로 볼 수 있다.&lt;br&gt;
포켓 : 구멍이 있는 홀드에 손가락 일부만 들어간다.&lt;br&gt;
언더 클링 : 홀드의 아래 쪽을 잡는 방법으로, 보통 언더라고 부른다.&lt;br&gt;
사이드 풀 : 옆으로 당기는 그립으로 균형 감각이 필요하다.&lt;br&gt;
가스통 : 사이드 풀과 반대 방향으로 잡는 경우로 어깨 힘이 필요하다.&lt;br&gt;
파밍 : 손 전체를 사용해 감싸듯 쥐는 그립으로, 슬로퍼를 잡을 떄 사용한다.&lt;br&gt;
볼륨 : 튀어나온 대형 홀드로 볼륨 위에 다른 홀드를 붙이기도 한다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;삼지점과 인사이드 스텝&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;클라이밍을 쉽게 말하면 벽에 매달려 목표한 지점까지 이동하는 것이다. 벽에 매달리기 때문에 팔힘이 필요하긴 하지만 팔힘만으로는 아무리 좋아도 한계가 있기 마련이다. 반면에 다리는 하루 종일 걸어다닐 수 도 있다. 따라서 매달린 상태에서도 팔힘보다 다리힘을 최대한 사용하는 것이 효율적이다. 이를 위해서 가장 기본적인 자세가 &lt;code&gt;삼지점&lt;/code&gt;이다. &lt;code&gt;삼지점&lt;/code&gt;은 두 발과 팔을 이용해 삼각형을 만들어 균형을 잡는 방법으로 팔을 쭉 뻗어 두 다리에 힘을 분산시켜 팔힘을 적게 들이고 안정적인 자세를 만들 수 있다.(일명 개구리 자세) 얼마나 팔힘을 적게 들이고 이동하는지가 클라이밍의 핵심이라고 볼 수 도 있기 때문에 처음 배우면 어디서든 귀에 못이 박히게 듣는 말로 클라이밍의 기본중의 기본이다.&lt;/p&gt;
&lt;p&gt;삼지점을 만들어 안정적인 자세를 취한 후 남은 한 손으로 다음 홀드를 잡고 다시 삼지점을 만드는 것이 무빙이다.
(삼지점 외에도 이지점도 있고, 여러 다양한 무빙도 있지만 이게 기본이다.) 무빙 방법의 가장 기본에는 인사이드 스텝과 아웃사이드 스텝 두가지가 있다.&lt;/p&gt;
&lt;p&gt;인사이드 스텝은 벽을 마주 본 상태에서 팔자걸음으로 이동하는 방법이다. 즉 발을 바깥쪽으로 벌려 홀드에 엄지발가락을 올려 매달린다. 이 때 주의 할 점은 양팔을 쭉 펴서 두 다리에 무게를 충분히 실어야 한다는 점이다. 이동시에는 팔로 당겨서 이동하는 것이 아니라 다리의 미는 힘을 이용해 무게중심을 이동하려는 방향으로 이동시킨다. (물론 움직임을 시작하는 시점에는 팔힘도 같이 들 수 밖에 없다. 하지만 순간적으로 들이고 난 후에는 다리로 밀기 때문에 팔엔 큰 힘이 걸리지 않는다.)&lt;/p&gt;
&lt;p&gt;조금 쉽게 이해하기 위해 벽 앞에 무릎을 붙여 쭈구려 앉는 상태에서 일어나는 것을 생각해 보면 된다. 앉은 상태에서는 어느정도 일어나다 보면 균형을 잡느라 무릎이 앞으로 나가게 된다. 하지만 벽이 있기 때문에 몸이 뒤로 밀힌다. 이 떄 두 손으로 벽을 잡을 수 있다면 몸은 뒤로 밀려있지만 팔로 당겨진 상태에서 움직일 수 있게 된다. 그리고 어느정도 서게 되면 다시 다리만으로 몸을 지탱할 수 있게 된다. 즉 이 밀리는 순간에는 어쩔 수 없이 팔 힘을 들이게 되지만 그 이후에는 힘이 들지 않는다. 힘이 드는 순간에도 필요한건 아래로 매달리는 힘이 아니라 앞으로 당기는 수평적인 힘이다. 따라서 적은 팔 힘과 다리 힘으로 벽을 앞에두고 이동할 수 있다. (내가 직접 하면서 느낀 개인적인 비유이다.)&lt;/p&gt;
&lt;p&gt;모든 무빙의 기본이기 때문에 처음에 배우는 스텝이고, 나도 한달 간 그리고 아직도 인사이드 스텝을 쓰면서 오르고 있다. 아직 아웃사이드는 적응이 안되어 부자연스러운 상태이기 때문에 다음 스텝으로 나아갈 때 정리해 보겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[10월 셋째주 영단어 일기]]></title><description><![CDATA[바야흐로 지난 주말, 뭔가 규칙적으로 끄적여 볼까 해서 간단하게 그날그날 생각난 단어들을 기록하고(가능하면 문장도) 영어로 한 번 씩 바꿔보는 걸 시작해봤다. 역시나 아직 습관이 안들어서 잔뜩 빼먹었지만 기록차 남겨본다. 2019.10.1…]]></description><link>https://nukeguys.github.io/life/english-word-diary-191020/</link><guid isPermaLink="false">https://nukeguys.github.io/life/english-word-diary-191020/</guid><pubDate>Sun, 20 Oct 2019 13:12:20 GMT</pubDate><content:encoded>&lt;p&gt;바야흐로 지난 주말, 뭔가 규칙적으로 끄적여 볼까 해서 간단하게 그날그날 생각난 단어들을 기록하고(가능하면 문장도) 영어로 한 번 씩 바꿔보는 걸 시작해봤다. 역시나 아직 습관이 안들어서 잔뜩 빼먹었지만 기록차 남겨본다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2019.10.19&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;철벽남, 팔꿈치, 칼국수, 행복&lt;br&gt;
ice prince, elbow, chopped noodle, happiness&lt;/p&gt;
&lt;p&gt;세상의 모든 것은 올라가고 있다. 하지만 행복은 추락하고 있다.&lt;br&gt;
Everything in this world is going up. But happiness is going down.&lt;/p&gt;
&lt;p&gt;우리 모두 행복할 의무가 있다.&lt;br&gt;
We have an obligation to happy.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2019.10.15&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;컨디션 난조, 휴식, 일정, 마라톤&lt;br&gt;
bad condition, rest, schedule, marathon&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2019.10.20&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;제사, 피곤, 휴가, 호수&lt;br&gt;
ancestral rites, tired, vacation, lake&lt;/p&gt;
&lt;p&gt;오늘 따라 맥주가 땡기네(강렬하니까 여러 문장으로)&lt;br&gt;
I want to drink beer today.&lt;br&gt;
I could use a beear today.&lt;br&gt;
I am craving beer today.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[클라이밍 일지 #1]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/climbing-basic/</link><guid isPermaLink="false">https://nukeguys.github.io/life/climbing-basic/</guid><pubDate>Sun, 13 Oct 2019 03:25:36 GMT</pubDate><content:encoded>&lt;p&gt;지난 달 부터 클라이밍 강습을 시작했다. 우연히 기회에 체험을 하러 갔던게 계기가 되었다. 처음엔 재미있네 정도 였다가 두번째는 다른 사람들은 되는데 나는 왜 안되지하는 자괴감 + 오기가 합쳐져서 배워보자하고 강습을 끊었다. 그리고 한 달 넘게 꾸준히 해오고 있다. 이젠 기초는 넘어가고 강습도 중급으로 올라가서 어느정도 놀(?) 줄 아는 정도가 됐지만 아직 빵&lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; 수준이라 한참은 부족하다. 그래도 생각보다 재밌게 하고 있고 앞으로도 꾸준히 하게 될 듯하여 과정들을 기록해 볼까 한다.&lt;/p&gt;
&lt;p&gt;처음으로 클라이밍에 대한 간단한 설명부터 시작해본다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;클라이밍의 역사&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;요즘엔 실내에서 하는 클라이밍은 공간의 제약 때문에 &lt;code&gt;볼더링&lt;/code&gt;이 대부분이다. 볼더링의 기본적인 룰은 정해진 Start 지점부터 같은 색의 홀드를 잡고 올라가 최종 Top에 두손을 모으는 것이다. 하지만 홀드들이 결코 만만하지 않기 때문에 힘 뿐만 아니라 유연성, 균형감각 무엇보다 길을 찾는 창의력을 요구한다. 그렇기 때문에
볼더링은 낮은 높이에서 암벽등반을 연습하거나 훈련하는데 사용되었다. 그러다 영국의 존 길(John Gill)이라는 클라이머가 볼더링을 독립된 스포츠로 발전시켰고 1968년 영국의 리즈대학에 최초의 인공 암벽이 세워 진 것이 볼더링의 시작이다.&lt;/p&gt;
&lt;p&gt;실제 스포츠 클라이밍은 낮은 높이에서 기술을 요하는 &lt;code&gt;볼더링&lt;/code&gt;외에도 일반적으로 떠올리는 장비를 착용하고 줄을 달면서 올라가는 &lt;code&gt;리드&lt;/code&gt;와 누가 더 빠르게 올라가는지르 겨루는 &lt;code&gt;스피드&lt;/code&gt; 총 3종목으로 이루어져 있다.
정식종목으로 포함된 내년 올림픽에 클라이밍 여제 김자인 선수를 비롯해 사솔, 김자비, 천종원 등 우리나라에도 세계적으로 뛰어난 선수들이 국가대표로 선발되어 있으니 보는 재미가 쏠쏠할 듯 하다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;클라이밍의 매력&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;처음 센터에 갔을 때 생각보다 많은 사람들이 있었다. 남자들 뿐 아니라 여자들도 많고, 심지어 어린 초등학생들도 벽을 타고 있는 모습을 종종 볼 수 있다. 최근에 개봉한 영화 &lt;a href=&quot;https://page.kakao.com/home?seriesId=53616114&quot;&gt;엑시트&lt;/a&gt; 영향이라는 말도 있지만 사실 그 전부터 클라이밍을 즐기는 사람들이 많았다. 클라이밍은 평소와 다른 근육을 써야하고 낮지는 않는 곳에 올라 매달려서 움직여야 하기 때문에 자칫 부상이나 추락의 위험이 있다. 그럼에도 클라이밍을 즐기는 사람들은 중독되다시피 운동을 다닌다. 아마 정해진 답이 없는 자유로움과 완등했을 때 느끼는 쾌감 때문이지 싶다. 안풀리던 문제를 몇번을 도전하다가 처음 정복했을 때의 그 쾌감은 나 또한 잊을 수가 없다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;클라이밍 준비&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;클라이밍은 다른 운동처럼 장비가 딱히 필요하지 않다. 물론 클라이밍화가 필수적으로 필요하긴 하지만 보통 센터에서 대여를 해주기 때문에 할 마음만 있다면 누구나 편한 옷만 챙겨가서 할 수 있다. 초크도 필요하긴 하지만 센터에 있기도 하고 가격도 저렴하기 때문에 부담이 없다. 물론 어느정도 익숙해지면 더 난이도 있는 문제를 풀기위해 신발에 욕심도 나고 동작을 좀 더 편하게 할 수 있도록 만들어진 클라이밍 전용 옷도 고려하게 되기는 한다.&lt;/p&gt;
&lt;p&gt;그럼 클라이밍을 잘 하기 위해서는 무엇이 필요할까. 도구를 사용하지 않기 때문에 좋은 몸(?)이 무엇보다 중요하다. 처음 접하는 사람들은 팔 힘만 있으면 잘 할 수 있을거라고 생각하는 경향이 있지만 클라이밍은 실제로 전신운동인데다가 팔힘은 한계가 있기 때문에 하체와 코어 근육의 뒷받침이 매우 중요한 운동이다. 물론 팔이나 어깨, 등 근육도 뛰어날 수록 도움이 되는 건 사실이다. 추가로 근력 만큼 필요한게 유연성이다. 이 점 때문에 여자들이 결코 남자들에 비해 뒤쳐지지 않는다. 상대적으로 남자들은 근력이 강하지만 유연성이 부족하기 때문이다.(나도 저주받은 뻗뻗함 때문에 문제가 안풀릴 때는 요가라도 배워볼까 생각했다.) 신기하게도 세계적으로 뛰어난 선수들을 보면 예상외로 말랐다라는 느낌을 받는다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;주의할 점&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;모든 운동이 그렇지만 클라이밍 특히 평소에 하지 않는 자세와 근육들을 쓰기 때문에 몸관리를 잘 해주지 않으면 부상을 입기 쉽상이다. 나 또한 어깨와 팔꿈치로 계속 고생을 하면서 정신차리고 좀 더 준비와 마무리에 신경을 쓰고 있다. 어느정도 오랜 기간 해 온 사람이라면 익숙해져 있겠지만 그렇지 않은 사람들은 준비운동없이 무리하게 근육을 늘리고 뒤틀다 보면 무리가 쉽게 온다. 따라서 시작 전에 전신을 골고루 미리 풀어주는 스트레칭은 필수적이다. 또 몇시간을 매달리고 나면 근육이 손상되고 세포가 파괴된다. 이런 상태를 그대로 두면 계속 진행되면서 회복이 느려지기 때문에 끝난 후에 아이싱을 해줘야 하고, 쿨다운 해주는 스트레칭도 챙겨야 한다.&lt;/p&gt;
&lt;p&gt;간략하게 기본적인 내용들을 정리해봤다. 모든 운동(운동 뿐만 아니지만)은 기본기와 반복적인 노가다가 중요하다고 생각한다. 하지만 점점 익숙해지고 실력이 올라갈 수록 기본을 잊어버리기 쉽상이다. 그러다 보면 분명 어느순간 한계가 오고 극복하기 위해선 더 큰 노력이 필요하다. 그래서 되새길 겸 클라이밍 일지를 작성해보려고 한다. 다음부턴 좀 더 기술적인 부분들에 대해 정리해 보겠다. 그럼 이만 운동하러.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;체험을 시켜주었던 누군가의 레벨링이다. 빵 &gt; 밤빵 &gt; 왕밤빵 순으로 올라간다고 한다.&lt;/p&gt;
&lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[react lazyloading 이미지 컴포넌트 구현하기]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/dev/react-lazyimage/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/react-lazyimage/</guid><pubDate>Sun, 06 Oct 2019 02:39:02 GMT</pubDate><content:encoded>&lt;p&gt;웹의 성능을 올리는 데는 다양한 방법들이 있다. 렌더링을 최적화 하거나 리소스 크기를 최소화 한다. 그리고 가능하다면 리소스의 사용이나 로딩을 필요한 시점까지 연기하거나 비동기로 처리한다. 웹에서 사용하는 리소스들 중 많은 크기를 차지하는 것 중의 하나가 이미지이다. 아무리 최적화를 하고 크기를 줄이더라도 이미지 수가 어느정도 증가하면 로딩에 오랜 시간이 걸릴 수 밖에 없다. 이를 방지하기 위해 ATF&lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; 영역만 먼저 로딩 하고 나머지는 필요한 시점에 로딩시키는 lazyloading을 많이 사용한다.&lt;/p&gt;
&lt;p&gt;웹에서 이미지를 lazyloading 시키는 방법도 여러가지가 있는데 구글 개발자 사이트(&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video/?hl=ko&quot;&gt;이미지 및 동영상의 지연 로딩&lt;/a&gt;)에 보면 관련된 설명을 개념부터 방법까지 친절하게 해주고 있다.&lt;/p&gt;
&lt;p&gt;이 중에서 적용이 쉽고 여러모로 편리한 &lt;code&gt;intersection observer&lt;/code&gt;를 사용하는 방법을 정리해 본다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;intersection observer&lt;/code&gt;는 MDN(&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API&quot;&gt;Intersection Observer&lt;/a&gt;)에서 확인해도 되고, 구글에 검색하면 친절하게 설명되어 있는 글들이 많다. 간단히 설명하면 이름에서 알 수 있듯이 지정된 영역에 대해 교차(intersection) 했는지를 감지하고 해당 시점에 원하는 작업을 할 수 있게 해준다. 안타깝게도 모든 버전의 브라우저에서 지원하지 않고 특히 IE에서는 지원조차 하지 않는다. 다행히 W3C에서 &lt;a href=&quot;https://github.com/w3c/IntersectionObserver/tree/master/polyfill&quot;&gt;polyfill&lt;/a&gt;을 지원해 준다. 하지만 브라우저마다 동작이 조금씩 다를 수 있다고 하니 주의해서 사용하자.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;intersection observer&lt;/code&gt; 사용을 위해서는 observer 객체를 생성하고 lazyloading을 적용할 이미지를 등록 시켜야 한다. 지정된 영역안으로 들어올 때 뿐 아니라 나갈 때도 callback이 호출되기 때문에 &lt;code&gt;isIntersecting&lt;/code&gt; 값이 true일 때만 처리 하고, 로드한 후에는 감시할 필요가 없기 때문에 등록을 해제해 주어야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Image&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; src &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; imgRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; useRef&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;HTMLImageElement&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; observerRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; useRef&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;IntersectionObserver&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isLoad&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsLoad&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onIntersection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;entries&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IntersectionObserverEntry&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    io&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IntersectionObserver&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    entries&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isIntersecting&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unobserve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;setIsLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;observerRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      observerRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntersectionObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;onIntersection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    imgRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; observerRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;img ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;imgRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isLoad &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; src &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; placeHolder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;전체 코드와 동작은 아래에서 확인할 수 있다. 눈으로 확인할 수 있도록 &lt;code&gt;threshold&lt;/code&gt;를 0.5로 설정했다. 즉 이미지의 절반이 화면에서 나타날 때 로드된다. 스크롤을 천천히 내리면서 확인해보자.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://codesandbox.io/embed/lazyloading-image-59dxt?autoresize=1&amp;#x26;fontsize=14&amp;#x26;module=%2Fsrc%2FImage.tsx&quot;&gt;https://codesandbox.io/embed/lazyloading-image-59dxt?autoresize=1&amp;#x26;fontsize=14&amp;#x26;module=%2Fsrc%2FImage.tsx&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;위의 방식도 동작엔 문제가 없지만, 각 Image 컴포넌트 마다 &lt;code&gt;IntersectionObserver&lt;/code&gt;를 생성하고 있다. 성능상 얼마나 큰 차이가 있을지는 벤치마킹을 해봐야겠지만 이미지가 많은 경우 매번 생성을 하는건 비효율 적으로 보인다. 따라서 전역적으로 하나만 두고 계속 사용하도록 수정하는 것이 좋아보인다.&lt;/p&gt;
&lt;p&gt;우선 observer를 컴포넌트 밖으로 분리하자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Image&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; src &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; src&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;observer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      observer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IntersectionObserver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;onIntersection&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    imgRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; observer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imgRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; observer&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IntersectionObserver &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;하지만 이렇게 하면 IntersectionObserver 생성시 사용한 &lt;code&gt;onIntersection&lt;/code&gt; 함수는 첫번째 이미지 내부 함수기 때문에 다른 이미지들에 대해서는 제대로 동작하지 않는다. 따라서 onIntersection도 밖으로 분리한다. 이렇게 분리하다 보면 한가지 문제가 생긴다. &lt;code&gt;setIsLoad&lt;/code&gt;는 컴포넌트의 내부에서만 사용가능하기 때문이다. 그래서 함수 외부에서도 호출가능한 방법을 찾아야 한다. 난 &lt;code&gt;CustomEvent&lt;/code&gt;를 사용해서 처리했다. CustomEvent는 이름처럼 event를 직접 정의해서 사용할 수 있도록 해준다. 마찬가지로 모든 브라우저 버전에서 지원하지 않으니 주의하고, &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/CustomEvent/CustomEvent&quot;&gt;MDN&lt;/a&gt;에서 IE에서 사용가능한 polyfill도 제공하니 확인 후 사용하자.
&lt;code&gt;CustomEvent&lt;/code&gt;는 이벤트 타입을 정한 후에 다른 이벤트와 동일하게 &lt;code&gt;addEventListener&lt;/code&gt;를 통해 callback을 등록하고, &lt;code&gt;dispatchEvent&lt;/code&gt; 호출하면서 해당 이벤트 타입의 객체를 전달하면서 이벤트를 발생시킨다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Image&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; src &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;//  ...&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loadImage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setIsLoad&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; imgEl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; imgRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    imgEl &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; imgEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOAD_IMG_EVENT_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; loadImage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      imgEl &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; imgEl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;removeEventListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOAD_IMG_EVENT_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; loadImage&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;img ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;imgRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isLoad &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; src &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; placeHolder&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; observer&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IntersectionObserver &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LOAD_IMG_EVENT_TYPE&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;loadImage&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onIntersection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token parameter&quot;&gt;entries&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IntersectionObserverEntry&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    io&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; IntersectionObserver&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    entries&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;entry&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;isIntersecting&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unobserve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        entry&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;target&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;dispatchEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CustomEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOAD_IMG_EVENT_TYPE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;최종 코드와 동작은 아래에서 확인하자.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://codesandbox.io/embed/image2-v7ii7?autoresize=1&amp;#x26;fontsize=14&amp;#x26;module=%2Fsrc%2FImage.tsx&quot;&gt;https://codesandbox.io/embed/image2-v7ii7?autoresize=1&amp;#x26;fontsize=14&amp;#x26;module=%2Fsrc%2FImage.tsx&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;처음 lazyloading을 구현할 땐 라이브러리도 고려해보고 방법도 많이 찾아봤었다. 그리고 지금은 위의 방법과 비슷하게 직접 구현해서 사용하고 있다. 코드양은 얼마 되지 않지만 결과를 내는데 까지 적지 않은 시간과 노력을 들였고 그만큼 결과적으로 만족스럽다. (뭐든지 처음이 어렵지…) 조금 더 나은 웹을 위해 하나씩 더 알아가보자.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;Above-The-Fold의 약자로 가판대에 접혀있는 신문의 보이는 영역을 의미하는데서 시작되었다. 사용자가 처음 진입했을 때 보이는 기본 영역을 의미한다. (참고: &lt;a href=&quot;https://m.blog.naver.com/PostView.nhn?blogId=beusable&amp;#x26;logNo=220887404946&amp;#x26;proxyReferer=https%3A%2F%2Fwww.google.com%2F&quot;&gt;Above the Fold란?&lt;/a&gt;)&lt;/p&gt;
&lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[빚 권하는 사회에서 부자되는 법]]></title><description><![CDATA[무려 5…]]></description><link>https://nukeguys.github.io/book/dept-and-rich-9788950967789/</link><guid isPermaLink="false">https://nukeguys.github.io/book/dept-and-rich-9788950967789/</guid><pubDate>Sun, 29 Sep 2019 02:11:49 GMT</pubDate><content:encoded>&lt;p&gt;무려 58권에 이르는 &lt;a href=&quot;https://page.kakao.com/home?seriesId=29226849&quot;&gt;달빛조각사&lt;/a&gt;를 완독하고, 다음으로 경제 관련 책을 읽어볼까 싶어 쉬울 듯한 책들 중에 &lt;code&gt;빚 권하는 사회에서 부자되는 법&lt;/code&gt;이라는 책을 골라봤다. 출간된지는 좀 지났지만 평이 나쁘지 않았고 무엇보다 &lt;a href=&quot;https://page.kakao.com/home?seriesId=49261107&quot;&gt;카카오페이지&lt;/a&gt;에 있었기 때문에 읽어보기로 했다.&lt;/p&gt;
&lt;p&gt;사실 책 소개도 그렇고 내용 자체에 큰 기대는 하지 않았다. 워낙 쉽게 쓰여진 내용이다 보니 어느정도 관심만 있다면 이미 알고 있거나 들어봤을 법한 내용들이었다. 그래도 다른 책들을 읽기 전에 워밍업으로는 나쁘지 않았고, 다시 경제관념을 잡아보는 정도로는 괜찮았다.&lt;/p&gt;
&lt;p&gt;제목에서 알 수 있듯이 빚(대출)과 재테크와 관련된 내용이 주를 이룬다. 시작엔 간략하게 빚의 기원(?)에 대해서도 알려준다. 무려 5,000여 년 전 메소포타미아 시대에 빚이 시작되었다니 놀랍기도 했지만 역시나 하는 생각도 함께 들었다. 저자도 말했지만 이렇게 5,000년이 넘는 시간동안 진화해 온 빚에 사람들이 쉽게 현혹되는건 어찌보면 당연한 일일지도 모르겠다. 더구나 적든 많든 일상에서 많은 부분을 차지하게 되다 보니 빚을 통제하고 관리하는건 무엇보다 중요하다.
책은 빚에 대한 설명부터 빚을 조절하고 어쩔 수 없는 상황에서 조금더 나은 빚을 지는 방법 그리고 빚테크까지 내용이 이어진다.&lt;/p&gt;
&lt;p&gt;우리가 빚을 지게 되는 가장 큰 이유는 무엇일까? 저자는 더 큰 돈을 벌기 위한 투자와 강한 소비유혹이라고 말한다. 같은 의미로 난 채우지 못하는 자기 만족과 욕심 때문이라고 생각한다. 누군가는 자연인&lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; 같은 삶에도 만족을 느끼고 행복하게 살아가고, 누군가는 서울에 있는 아파트에 살면서 매년 해외여행을 다니지만 더 많은 것을 원하고 만족하지 못하며 살아간다. 웰빙이니 욜로니 하는 말들만 봐도 이제는 먹고사는 것을 걱정하던 시대는 지났다고 본다. 생각보다 세상이 잘 살게 되었다는 &lt;a href=&quot;https://page.kakao.com/home?seriesId=52925714&quot;&gt;어떤 책&lt;/a&gt;의 내용처럼 사람들은 지금 보다 더 잘 먹고 잘 사는데 관심이 있고 욕심을 부리고 있다. 물론 이게 잘못 되었다는 것은 아니다. 적당한 욕심은 발전의 원동력이 된다. 하지만 주변의 분위기가 그렇다보니 내 수준을 넘어서는 과한 욕심은 문제가 된다. 책에서 톨스토이의 &lt;code&gt;사람에게는 얼마나 많은 땅이 필요한가&lt;/code&gt;&lt;sup id=&quot;fnref-2&quot;&gt;&lt;a href=&quot;#fn-2&quot; class=&quot;footnote-ref&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;의 스토리를 간략하게 설명한다. 이처럼 작은 것을 원하던 사람이 이루게 되면 만족하지 못하고 더 큰 욕심을 부리게 되면서 결국엔 처음 원하던 것 조차 얻지 못하는 불상사가 발생할 수 있다.&lt;/p&gt;
&lt;p&gt;이에 대표적인 예로 집을 든다. 집을 살 때 빌린 돈은 투자가 아닌 비용으로 봐야 한다고 한다. 지금까지는 집 값이 지속적으로 올랐기 때문에 큰 문제가 없었으나 이제는 자산 가격의 상승기가 끝나가고 있어 빚을 내서 투자하고 돈을 버는 시기는 끝나가고 있다고 한다. 하지만 책이 쓰여진건 2016년이고 3년이 지난 지금도 돈이 돈을 버는 시대는 이어지고 있다. 대표적인 예도 집이 아닐까 않을까 싶다. 소위 말하는 금수저가 아닌 이상 서울에서 내집 마련을 한다는 것은 빚을 내더라도 쉽지 않은 일이다. 그럼에도 많은 사람들이 최대한의 빚을 내고 집을 사기 위해 노력한다. 그렇게 몇 년을 버티면 집 값은 올라왔다. 주변에서 평범한 월급쟁이가 월급만으로 큰 돈을 벌 수 있는 방법은 집 밖에 없다는 이야기가 흔하게 들리는 것도 이상한 일이 아니다. 물론 이런 상황이 언제까지 이어질지는 모르는 일다(저자도 &lt;a href=&quot;https://namu.wiki/w/%ED%9D%91%EC%A1%B0%20%EC%9D%B4%EB%A1%A0&quot;&gt;블랙스완&lt;/a&gt;에 대비하라고 언급하고 있다). 하지만 어떻게 되는 빚을 통제하고 관리하는 능력을 키우는건 필수적인 일이될 것이다.&lt;/p&gt;
&lt;p&gt;그런 의미에서 일반적인 내용이지만 책에 나온 몇가지를 정리해 본다. 대부분 어느정도 관심만 있다면 알 수 있는 내용이다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;대출 리스트를 작성한다. 규모, 만기, 금리, 월 상환액 등을 정확하게 표시한다.&lt;/li&gt;
&lt;li&gt;대출 릿트를 기반으로 만기를 파악해서 감당할 수준인지 검토한다. 권장 대출 한도 13%, 안전 대출 한도 30%를 넘지 말아라.(나이가 들수록 낮춰야 한다.)&lt;/li&gt;
&lt;li&gt;절대 연체는 금물이다.&lt;/li&gt;
&lt;li&gt;만기가 가까운, 부담이 큰 대출을 먼저 정리한다.&lt;/li&gt;
&lt;li&gt;2금융권 보단 은행을, 그보단 정부지원 대출을 확인해라. 등등&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;하지만 위에 언급했듯이 현재에 만족하고, 남과 비교하지 않고 감당할 수 있을 만큼의 욕심을 갖는 것이 더 중요한 일이 아닐까 생각한다. 이론적인 내용들이야 주변에 도움을 받을 수도 있고 관련된 정보들은 넘쳐난다. 하지만 결과적으로 실행을 못하는 이유는 욕심은 줄이지 않은채 빚만 줄이려고 하기 때문인 듯 싶다. 마치 적게 일하고 많은 돈을 벌고 싶은 심리랄까.(물론 불가능한 것은 아니다.) 그렇게 미래에 대한 불가능한 욕심을 가질 수록 현재에 만족하지 못한 채 살아가게 되는 것 같다.&lt;/p&gt;
&lt;p&gt;아직 완독하지는 못했지만 읽으면서 관심이 좀 더 생기고 내 스스로도 생각을 해보는 기회가 되었다. 물론 모두 내려놓고 현재에 만족하기란 쉽지 않았지만, 불안한 미래에 대한 걱정은 조금 줄이고 현재를 충실하게 즐기면서 살아가보자는 다짐을 해본다.&lt;/p&gt;
&lt;p&gt;&lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; 비유적인 표현이다. 정말로 그 사람들 중에 진짜 만족하는 사람이 얼마나 될 지는 의문이다.&lt;br&gt;
&lt;sup id=&quot;fnref-2&quot;&gt;&lt;a href=&quot;#fn-2&quot; class=&quot;footnote-ref&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; 작은 땅을 원하던 주인공이 악마를 소원을 이루게 되자 만족하지 못하고 더 큰 땅을 원한다. 그리고 해 뜰 때부터 해 질 때까지 걸어 돌아온 만큼의 땅을 가질 수 있는 기회가 생기자 탐욕에 빠져 앞으로만 가다가 뒤늦게 깨닫고 열심히 뛰어 들어왔지만 결국 피를 토하고 죽어버린다. 그리고 악마는 그 죽음을 보면서 웃고 있었다. 라는 이야기라고 한다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Git 사용 팁 정리]]></title><description><![CDATA[개발을 하다보니 너무나 당연하게도 git을 사용한다. 처음부터 git을 cli로만 사용하다보니 Sourcetree나 Tower 같은 GUI client를 사용하는 것보다 직접 타이핑 하는게 오히려 더 편하게 느껴진다. 하지만 cli…]]></description><link>https://nukeguys.github.io/dev/easy-git/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/easy-git/</guid><pubDate>Sat, 21 Sep 2019 01:55:19 GMT</pubDate><content:encoded>&lt;p&gt;개발을 하다보니 너무나 당연하게도 git을 사용한다. 처음부터 git을 cli로만 사용하다보니 &lt;a href=&quot;https://www.sourcetreeapp.com/&quot;&gt;Sourcetree&lt;/a&gt;나 &lt;a href=&quot;https://www.git-tower.com&quot;&gt;Tower&lt;/a&gt; 같은 GUI client를 사용하는 것보다 직접 타이핑 하는게 오히려 더 편하게 느껴진다. 하지만 cli 특성상 타이핑이 많거나 반복되는 경우가 생긴다. 게으름이 기술의 발전을 이끈다고 하던가… 귀차니즘이 너무 심해질 때 마다 하나씩 해결했던 방법들을 몇가지 정리해 본다.&lt;/p&gt;
&lt;h2&gt;1. checkout의 귀차니즘&lt;/h2&gt;
&lt;p&gt;작업을 하다보면 새로 만들거나 혹은 리뷰를 위해 다른 브랜치를 pull 하거나 등등으로 여러 브랜치 사이를 이동하는 경우는 흔한 일이다. 그러나 브랜치명이 길다면 매번 입력하는건 여간 귀찮은 일이 아니다. 사실 &lt;a href=&quot;https://ohmyz.sh/&quot;&gt;Zsh&lt;/a&gt;을 사용하고 있어 탭과 방향키 만으로 브랜치를 선택할 수는 있지만 순간 손을 이동해야 한다. 타이핑을 하다가 방향키로 손을 움직이는 것도 번거로워 진 시점에 현재 로컬의 브랜치들의 리스트를 보여주고 번호 입력으로 checkout을 하는 python script(&lt;a href=&quot;https://github.com/nukeguys/utils&quot;&gt;github&lt;/a&gt;)를 작성했었다.
이외에도 python으로 일에 필요한 것들을 작성했었는데 지금은 사용하지 않고 있다. 동작은 아래에서 확인 할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://asciinema.org/a/270031&quot;&gt;&lt;img src=&quot;https://asciinema.org/a/270031.svg&quot; alt=&quot;asciicast&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;2. alias 설정하기&lt;/h2&gt;
&lt;p&gt;option으로 command 자체가 길어지거나, 빈번하게 command를 연속해서 입력해야 하는 경우에는 축약하거나 한 번에 처리하고 싶어진다. 이런 경우에는 &lt;a href=&quot;https://git-scm.com/book/ko/v2/Git%EC%9D%98-%EA%B8%B0%EC%B4%88-Git-Alias&quot;&gt;alias&lt;/a&gt;를 설정할 수 있다. 간단한 git command 부터 bash 함수까지 실행이 가능하기 때문에 생각보다 많은 것들이 가능해진다.&lt;/p&gt;
&lt;p&gt;내가 처음 사용했던건 log를 좀 더 이쁘게 보기 위한 alias 였다. 이후에 사용하면서 필요하다 싶은 것들을 하나씩 추가했다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;alias&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
	s &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; status
	a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;git &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; status
	au &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;git &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; -u &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; status
	aa &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;git &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; -u &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; status
	c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; commit
	cm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; commit -m
	ca &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; commit --amend &lt;span class=&quot;token comment&quot;&gt;# careful&lt;/span&gt;
	ac &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;git &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit
	acm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;git &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; commit -m
	l &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; log --graph --all --pretty&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;format:&lt;span class=&quot;token string&quot;&gt;&apos;%C(yellow)%h%C(cyan)%d%Creset %s %C(white)- %an, %ar%Creset&apos;&lt;/span&gt;
	ll &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; log --stat --abbrev-commit
	lg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; log --pretty&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;format:&lt;span class=&quot;token string&quot;&gt;&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&amp;lt;%an&gt;%Creset&apos;&lt;/span&gt; --abbrev-commit
	llg &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; log --color --graph --pretty&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;format:&lt;span class=&quot;token string&quot;&gt;&apos;%C(bold white)%H %d%Creset%n%s%n%+b%C(bold blue)%an &amp;lt;%ae&gt;%Creset %C(bold green)%cr (%ci)&apos;&lt;/span&gt; --abbrev-commit
	d &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt;
	lgdiff &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;!f() { git log --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&amp;lt;%an&gt;%Creset&apos; --abbrev-commit &lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;..&lt;span class=&quot;token variable&quot;&gt;$2&lt;/span&gt;;}; f&quot;&lt;/span&gt;
	lgraph &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; log --graph --pretty&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;format:&lt;span class=&quot;token string&quot;&gt;&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&amp;lt;%an&gt;%Creset&apos;&lt;/span&gt; --abbrev-commit
	branch-name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;git rev-parse --abbrev-ref HEAD
	publish &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;git push -u origin &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; branch-name&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
	rm-remote &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;!f() { git push origin --no-verify :&lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;; }; f&quot;&lt;/span&gt;
	rb &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;!f() { git branch -D &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; branch &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; -E $1&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;; }; f&quot;&lt;/span&gt;
	rt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;!f() { git tag -d &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; tag -l $1&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;; }; f&quot;&lt;/span&gt;
	rrt &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;!f() { git push origin --no-verify -d &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; tag -l $1&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt;; }; f&quot;&lt;/span&gt;
	aliases &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;git config --list &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;alias&lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;.&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;s/alias&lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;.&lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;([^=]*&lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;)=&lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;(.*&lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;)/&lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;1&lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;token entity&quot; title=&quot;\t&quot;&gt;\t&lt;/span&gt; =&gt; &lt;span class=&quot;token entity&quot; title=&quot;\\&quot;&gt;\\&lt;/span&gt;2/&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt;
	cb &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;!f() { git checkout -b feature/KG-&lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;-&lt;span class=&quot;token variable&quot;&gt;$2&lt;/span&gt;; }; f&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;아래는 내가 가장 빈번하게 사용하는 alias들이다.&lt;br&gt;
&lt;code&gt;publish&lt;/code&gt; - remote에 현재 브랜치 push&lt;br&gt;
&lt;code&gt;rb&lt;/code&gt; - 정규식에 매핑되는 로컬 브랜치 삭제 / &lt;code&gt;rm-remote&lt;/code&gt; - remote 브랜치 삭제&lt;br&gt;
&lt;code&gt;cb&lt;/code&gt; - 특정 포맷에 맞게 브랜치 생성 / &lt;code&gt;ca&lt;/code&gt; - commit —amend 줄여쓰기&lt;br&gt;
&lt;code&gt;ac&lt;/code&gt; - add, commit 한 번에 하기 / &lt;code&gt;lg&lt;/code&gt; - log 이쁘게 보기&lt;/p&gt;
&lt;p&gt;등록된 alias들이 기억나지 않을 땐 &lt;code&gt;git aliases&lt;/code&gt;를 통해 list 확인이 가능하다. 구글링하면 유용한 alias들이 많으니 자신이 자주 사용하는 것들을 등록하고 사용하면 생각보다 많이 편리하다.&lt;/p&gt;
&lt;h2&gt;3. commit message에 이슈 번호 자동 입력하기&lt;/h2&gt;
&lt;p&gt;commit message는 어느정도 가이드라인을 지켜주는게 이력들을 볼 때 편하다. 하지만 매번 기억하기는 어렵기 때문에 commit시 템플릿을 사용하도록 설정해 놓으면 잊지 않고 지킬 수 있다. template 설정도 alias처럼 config 파일에 직접 추가하거나 &lt;code&gt;git config --global commit.template ~/.gitmessage.txt&lt;/code&gt; command를 사용할 수 있다.(global 옵션을 사용하지 않으면 repository별로 설정도 가능하다.) 난 개인적으로 &lt;a href=&quot;https://chris.beams.io/posts/git-commit/&quot;&gt;How to Write a Git Commit Message&lt;/a&gt;를 참고해서 아래와 같은 template을 사용하고 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# &amp;lt;type&gt;: (If applied, this commit will...) &amp;lt;subject&gt; (Max 50 char)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# |&amp;lt;----  Using a Maximum Of 50 Characters  ----&gt;|&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;ISSUE-NUMBER&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Explain why this change is being made&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# |&amp;lt;----   Try To Limit Each Line to a Maximum Of 72 Characters   ----&gt;|&lt;/span&gt;


&lt;span class=&quot;token comment&quot;&gt;# Provide links or keys to any relevant tickets, articles or other resources&lt;/span&gt;
Resolves: ISSUE-NUMBER

&lt;span class=&quot;token comment&quot;&gt;# --- COMMIT END ---&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Type can be&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    feat     (new feature)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    fix      (bug fix)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    refactor (refactoring production code)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    style    (formatting, missing semi colons, etc; no code change)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    docs     (changes to documentation)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    test     (adding or refactoring tests; no production code change)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    chore    (updating grunt tasks etc; no production code change)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# --------------------&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Remember to&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    Capitalize the subject line&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    Use the imperative mood in the subject line&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    Do not end the subject line with a period&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    Separate subject from body with a blank line&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    Use the body to explain what and why vs. how&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;#    Can use multiple lines with &quot;-&quot; for bullet points in body&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# --------------------&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그런데 최근에 계속 작성을 하면서 issue 번호를 입력하는 부분이 너무 번거로웠다. 왜냐하면 기본적으로 branch 명에 이슈 번호를 포함해서 정해진 포맷으로 사용하고 있고(이것도 귀찮아서 만든게 &lt;code&gt;cb&lt;/code&gt; alias다.) commit시 현재 브랜치명에서 issue 번호를 가져다 template을 자동으로 채워주면 좋겠다는 생각이 들었다.
그래서 &lt;code&gt;prepare-commit-msg&lt;/code&gt; hook을 작성했다. hook은 git workflow의 전후로 script를 실행할 수 있게 해준다. (설정 방법과 자세한 설명은 &lt;a href=&quot;https://git-scm.com/book/ko/v2/Git%EB%A7%9E%EC%B6%A4-Git-Hooks&quot;&gt;Git - Git 훅&lt;/a&gt;을 참고)
직접 hook directory에 파일을 작성할 수도 있지만 &lt;a href=&quot;https://github.com/typicode/husky&quot;&gt;husky&lt;/a&gt;를 사용하면 hook을 좀 더 쉽게 관리할 수도 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;token assign-left variable&quot;&gt;COMMIT_MSG_FILE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;ISSUE_NUMBER_TAG&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;ISSUE-NUMBER&apos;&lt;/span&gt;

&lt;span class=&quot;token assign-left variable&quot;&gt;branch_name&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; rev-parse --abbrev-ref HEAD&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token assign-left variable&quot;&gt;issue_number&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;branch_name&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; -n &lt;span class=&quot;token string&quot;&gt;&apos;s/^feature\/\(.*-[0-9]*\)-.*/&lt;span class=&quot;token entity&quot; title=&quot;\1&quot;&gt;\1&lt;/span&gt;/p&apos;&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt; -n &lt;span class=&quot;token string&quot;&gt;&quot;&lt;span class=&quot;token variable&quot;&gt;$issue_number&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;then&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; -i &lt;span class=&quot;token string&quot;&gt;&quot;.bak&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;s/&lt;span class=&quot;token variable&quot;&gt;${ISSUE_NUMBER_TAG}&lt;/span&gt;/&lt;span class=&quot;token variable&quot;&gt;${issue_number}&lt;/span&gt;/g&quot;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;${COMMIT_MSG_FILE}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;4. tig (text-mode interface for Git) 사용&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/jonas/tig&quot;&gt;tig&lt;/a&gt;는 텍스트 기반의 git client다. 따라서 terminal 벗어나지 않아도 되고 커스터마이징이 가능하기 때문에 잘만 사용하면 상당히 유용하다. (나도 간단하게만 사용하고 있는데 좀 더 활용을 해보고 나중에 다시 정리해봐야겠다.)
tig 메뉴얼은 친절하게 한국어로 번역(&lt;a href=&quot;https://ujuc.github.io/2016/02/10/tig-manual/&quot;&gt;[번역] Tig Manual&lt;/a&gt;)된 것이 있으니 한 번 읽어보면 좋을 듯하다.&lt;/p&gt;
&lt;p&gt;이외에도 github 사용을 편하게 만들어주는 &lt;a href=&quot;https://hub.github.com/&quot;&gt;hub&lt;/a&gt;도 있고, 간단한 설정이나 script를 작성하면 cli를 사용하는 불편함들을 많이 제거할 수 있다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[보름달에 소원 빌기]]></title><description><![CDATA[오랜만의 연휴로 집에 내려갔다. 역시 할 것 없는 시간동안 뭘 할까 하면서 블로그를 만지작 거렸다. 귀찮아서 미루고 있던 댓글(utterances)도 달아놨고(개발이 주가 아니라 utterances…]]></description><link>https://nukeguys.github.io/life/i-wish/</link><guid isPermaLink="false">https://nukeguys.github.io/life/i-wish/</guid><pubDate>Sun, 15 Sep 2019 09:55:27 GMT</pubDate><content:encoded>&lt;p&gt;오랜만의 연휴로 집에 내려갔다. 역시 할 것 없는 시간동안 뭘 할까 하면서 블로그를 만지작 거렸다. 귀찮아서 미루고 있던 댓글(&lt;a href=&quot;https://utteranc.es/&quot;&gt;utterances&lt;/a&gt;)도 달아놨고(개발이 주가 아니라 &lt;code&gt;utterances&lt;/code&gt;를 다는 의미가 좀 없기도 싶었지만 어차피 별로 없겠다 싶어 맘에 드는 걸로 정했다.), 그러면서 이전에 쓴 글들을 다시 한 번 훑어 봤다. 그러다 뒤 늦게 작성했던 올해 목표에 눈이 갔다. 역시나 늦은 감이 있지만 막바지에 다시 되새길 겸 중간 정리를 한 번 해봤다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;이사&lt;br&gt;
운동 - 10km 마라톤 2회, 한라산 등반, 지속적인 운동&lt;br&gt;
공부 - 주1회 블로그 포스팅, 월 1권 독서, 개발 공부&lt;br&gt;
기타 - 취미 1개, 카카오페이지 월 1작품 보기, vim 익히기&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;이사&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
필수적으로 해야 했기 때문에 무사히 마쳤다. 아직도 정리가 안된건 비밀이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;운동&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
마라톤은 3월 1일을 시작으로 4월, 5월에 하나씩 해서 이미 3회를 참가했고 11월 1일 서울 마라톤도 대기 중이다.&lt;br&gt;
한라산 등반은 겨울이 목표였기 때문에 아직 남았다.&lt;br&gt;
지속적인 운동은 헬스도 꾸준히 하고 있고, 러닝에 최근 클라이밍 까지 시작했으니 초과 달성이다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;공부&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
블로그 포스팅은 뒤늦게 열심히 작성하고 있다. 게을러서 못하고 있다가 &lt;a href=&quot;https://blueshw.github.io/&quot;&gt;회사 동료&lt;/a&gt;와 함께 주1회 포스팅을 약속하고 진행 중이다.(난 역시 압박이 있어야 하게된다…)&lt;br&gt;
독서는 지금까지 완독은 6권 정도 한 것 같다. 아직 읽는 중이거나 중간에 멈춘 책들이 좀 있으나 달빛조각사를 끝냈기 때문에 다른 책에 눈을 돌릴 수 있을 것 같다. (&lt;a href=&quot;https://page.kakao.com/home?seriesId=29226849&quot;&gt;달빛조각사&lt;/a&gt;를 포함시키면 58권이 늘어나지만 제외하고 달성해보기로 했다.)&lt;br&gt;
개발 공부는 아직 가장 미흡한 것 같다. 분발해야 겠다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;기타&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
취미는 결국 운동이지만 러닝도 하고 클라이밍도 하면서 운동하고 같이 달성이 된 것 같다. 바램이 있다면 운동외의 한 가지를 시작해보고 싶다.&lt;br&gt;
&lt;a href=&quot;https://page.kakao.com/main&quot;&gt;카카오페이지&lt;/a&gt; 월 1작품 보기는 위에서 언급했듯이 달빛조각사를 부지런히 읽었다. 앞으로 읽을 책들도 페이지를 통해 읽어볼 예정이다.&lt;br&gt;
vim은 애초에 하면 좋겠다 싶은 목표여서 그런지 별다른 노력을 하지 않았다. 일하면서 틈틈히 사용해 보는 정도로 그치고 있다.&lt;/p&gt;
&lt;p&gt;보름달이 뜨는 시간에 정리를 하면서, 몇가지 메모를 같이 했다. 어떻게 살지에 대한 마음가짐을 다잡는 느낌으로.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;비교하지 말자&lt;br&gt;
하고싶은건 하면서 살자&lt;br&gt;
막살진 말자(계획을 갖자)&lt;br&gt;
후회하지 말자&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;예전에는 해마다 어떻게 살고 싶은지를 적어놨던 적이 있다. 좀 유치한 것도 있긴 했지만 시간이 좀 지나고 보니 어느정도 그렇게 변해있는 내 모습을 볼 수 있었다.(실제로 미래의 모습을 계속 그려보는게 그렇게 살게 되는데 도움이 된다는 연구 결과가 있다고 한다. 믿거나 말거나지만) 시간이 지나고 이 글을 다시 봤을 때에도 같은 생각을 할 수 있으면 좋겠다는 바램이다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[고마움에 대하여]]></title><description><![CDATA[회사 창립기념일로 오랜만에 출근을 안하는 금요일 저녁, 친한 후배 커플에게 갑자기 데이트하냐는 연락이 왔다. 뜬금없는 연락에 혼자 할거라고 답했더니 대뜸 자기들도 같이 껴서 더블데이트를 하자고 받아친다. 그렇게 순식간에 더블데이트지만 2+…]]></description><link>https://nukeguys.github.io/life/about-thanks/</link><guid isPermaLink="false">https://nukeguys.github.io/life/about-thanks/</guid><pubDate>Sun, 08 Sep 2019 02:23:47 GMT</pubDate><content:encoded>&lt;p&gt;회사 창립기념일로 오랜만에 출근을 안하는 금요일 저녁, 친한 후배 커플에게 갑자기 데이트하냐는 연락이 왔다. 뜬금없는 연락에 혼자 할거라고 답했더니 대뜸 자기들도 같이 껴서 더블데이트를 하자고 받아친다. 그렇게 순식간에 더블데이트지만 2+1이 되는 저녁 약속을 잡고 밖으로 나갔다.&lt;/p&gt;
&lt;p&gt;나도 연락을 잘 하는 편이 아닌데다 그들도 바빠서 명절이나 생일 같이 이벤트가 있을 때나 연락을 하고 이렇게 게릴라성으로 일년에 한 두번 보는게 다였다. 하지만 학교 다닐 때 부터 자주 보기도 했고 졸업 하고 나서도 둘 다 취업 준비나 일이 있으면 연락을 해서 조금씩 도움을 주는 척 꼰대 역할을 하면서 벌써 10년 가까운 시간이 흘렀다. 그러다 보니 오랜만에 봐도 편한 후배들이었다.&lt;/p&gt;
&lt;p&gt;오랜만에 얼굴을 마주하니, 몇달 전 까지만해도 남자 후배는 이직에 성공했다고 연락이 와서 기뻐했었는데 예상과 달리 조금은 수척한 모습이었다. 이직 준비를 하면서 연락이와서 이것저것 물어보길래 도움이 될까하여 조언도 해주고 자료들도 건네주고 했었다. 이직 했다는 결과만 듣고 연락이 없어 바쁜가보다 하고 있었는데 얼마 전에 매형이 돌아가시는 바람에 정신이 없어서 연락을 못해서 죄송한단다. 순간 뭐라 할 말이 없어 당황스러웠지만 짧게 위로를 전하고 저녁을 먹으러 갔다.
그리고 지난 얘기들과 근황들로 회포를 풀었다. 배부르게 저녁을 먹고 조용한 곳으로 자리를 옮겨 맥주를 한 잔씩 하는데 맘이 힘들었는지 조용히 이야기를 하기 시작했다.&lt;/p&gt;
&lt;p&gt;듣고보니 매형은 나보다도 어렸고 아직 어린 아이들도 둘이나 있었다. 그런데 사고로 그렇게 갑자기 세상을 떠났다고 한다. 심지어 한달도 채 지나지 않은 일이었다. 얼마나 힘들었을까 싶으면서도 뭐라 위로를 해 줄 말이 없었다. 실제로 겪어보지 않고는 그 심정을 이해하기란 불가능할 것 같았다. 그렇게 계속 조용히 들을 수 밖에 없었다.&lt;/p&gt;
&lt;p&gt;그 후배는 이전과 다르게 지금은 남들처럼 평범하게 사는게 목표가 되었다고 한다. 갑자기 생긴 일로 남겨진 가족들과 부모님을 보면서 왜 그런 일이 자신에게 그리고 자기 가족들에게 일어났는지 원망도 스럽고, 사람들을 만나는것도 너무 힘들다고 했다. 하지만 더 힘들 누나와 가족들을 위해 버티고 있다고. 돌이킬 수 없다면 최선을 다해 열심히 사는게 본인이 할 일인 것 같다고 한다. 그리고 이렇게 살아있는 것에 감사하게 되었다고. 알면서도 살면서 잘 잊게 되는 말이었다.&lt;/p&gt;
&lt;p&gt;그렇게 조금 더 있다가 그 후배들은 항상 감사하다는 말을 남기고 돌아갔다. 난 별로 해준게 없는 것 같은데 그 아이들은 항상 나에게 고맙다며 일이 있을 때 마다 먼저 연락을 하고, 때론 위로를 때론 축하를 해줬다. 내가 뭘 해준게 없는데 뭐가 그렇게도 고마운지. 그런데 이날 따라 고맙다는 말이 머릿속에 맴돌았다.&lt;/p&gt;
&lt;p&gt;나도 그렇지만 내 주위에는 대부분의 사람들이 고맙다는 말을 잘 하기는 하는 것 같다. 밥 먹으러간 식당에서, 출퇴근 버스에서 내리면서, 그리고 주변 사람들에게도. 하지만 그 의미를 생각해본 사람들은 얼마나 있을까.&lt;/p&gt;
&lt;p&gt;고맙다는 말에는 그에 보답하고 갚으려 애쓴다는 책임의 의미도 같이 담겨 있다. 그 아이들이 나에게 했던 고맙다는 말에도 내가 누군가에게 하는 고맙다는 말에도 그 책임은 모두 담겨 있을 거라고 생각한다. 도와줘서 고맙다는 말에는 도움에 실망되지 않게 살며 나 또한 누군가를 도와주겠다는 책임을. 있어줘서 고맙다는 말에는 나도 당신의 곁에 있겠다는 책임을.&lt;/p&gt;
&lt;p&gt;그렇다면 살아있는 것에 고맙다는 말에는 어떤 책임이 담겨 있을까?&lt;/p&gt;
&lt;p&gt;살아있기 때문에, 살아있다는 것 만으로도 열심히 잘 살아가야 할 책임이 아닐까 싶다. 오래전에 본 영화 &lt;a href=&quot;https://page.kakao.com/home?seriesId=50704845&quot;&gt;꾸뻬씨의 행복여행&lt;/a&gt;에서 말하던, 우리의 인생에 있어 행복할 권리를 넘어선 행복할 책임. 아마 아픔을 겪고 만난 그 후배가 말한 것도 이런 의미가 아니었을까.&lt;/p&gt;
&lt;p&gt;헤어지고 집에 들어와 카톡을 보냈다. 힘내라고 그리고 먼저 연락해줘서 나도 고맙다고.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[제자리 걸음]]></title><description><![CDATA[군대를 전역하고 졸업을…]]></description><link>https://nukeguys.github.io/life/standstill/</link><guid isPermaLink="false">https://nukeguys.github.io/life/standstill/</guid><pubDate>Sun, 01 Sep 2019 12:31:04 GMT</pubDate><content:encoded>&lt;p&gt;군대를 전역하고 졸업을 1년을 남짓 남겨두고 있을 때 였다. 이러저러한 이유로 혼자 살아보겠다며 출가인지 가출인지 모를 독립을 했다. 물론 대학을 다니면서 기숙사와 자취를 하면서 집에서는 따로 떨어져 살고 있었고 기숙사비나 자취방 월세, 그리고 달마다 용돈을 받는 생활을 했었다. 하지만 이 조차 끊어내고 경제적인 독립까지 시작했다.&lt;/p&gt;
&lt;p&gt;당장 돈을 벌어야 겠기에 휴학을 하고 일을 구했다. 운이 좋게도 어떤 회사에서 구직사이트에 올려놓은 이력서를 보고 연락을 주셨다. 오히려 부담스러워서 주저하던 내게 일 하면서 배우라며 기회를 주셨고, 그렇게 면접을 보고 첫 사회생활을 시작했다. 일년 정도 일을 하다가 다시 복학을 했다. 학비는 어치파 학자금 대출을 받고 있어 문제가 되지 않았지만, 월세와 생활비는 계속 필요했기 때문에 학기를 등록하고 바로 교내 알바를 시작했다. 운이 좋게 적지 않은 시급으로 교내 벤처에서 알바를 하게 됐다.&lt;/p&gt;
&lt;p&gt;이 때 부터가 나에겐 많은 변화가 있던 시기였다. 회사생활을 하면서도 많은 것을 배웠지만, 학교 생활 그리고 졸업 후 취업만 단순하게 생각하던 나에게 새로운 시야를 갖게 해주었다. 그 전까지는 그냥 당장 해야하는 공부만 하면서 살아왔었다. 그러면서 앞으로 난 무엇을 해야할까하는 고민에 빠졌다. 본격적인 방황의 시작이었다.&lt;/p&gt;
&lt;p&gt;같은 학생신분으로 비슷한 고민을 하던 여러 사람들과 매일 어울려 다녔다. 그들 중에는 창업을 준비 또는 시작한 사람들도 있었다. 난 왠지모를 막막함과 두려움에 직접은 하지 못하고 스타트업에서 일을 하거나 팀에 들어가 같이 준비를 해보는 정도로 그쳤다. 하지만 그렇게 몇년이 지나고 난 마지막 남은 학기를 복학했고 생각보다 쉽게 대기업에 취업을 하면서 졸업까지 이어졌다. 신입 사원이 되서는 입사성적이 좋았던지 남들보다 좀 더 나은 대우도 받고 인정을 받으면서 회사 생활을 했다.&lt;/p&gt;
&lt;p&gt;하지만 어쩌다보니 그 후로 두 번의 이직을 했고, 그 과정에서 참 많은 생각을 하게 됐다. 그 중에 잊지 못하는 한 가지가 있다. 지금의 나는 과거의 내가 만든 결과라는 것.&lt;/p&gt;
&lt;p&gt;대학시절 정말 열심히 살았다. 휴학 전까지는 공부를 정말 열심히 했고, 휴학 기간에는 다른 길로 빠지기는 했지만 또 그 나름대로 열심히 충실하게 노력했다. 그 결과가 아마 남들에 비하면 너무나도 쉽게 시작했던 첫 사회생활이었을 거다. 물론 그 때는 몰랐지만… 자만심에 더 이상 별 노력없이 안일하게 살았다. 그 결과가 어설픈 첫 이직과 그로인한 재이직. 그리고 지금의 내 모습이라는 생각이 든다.&lt;/p&gt;
&lt;p&gt;물론 누군가는 지금이 뭐가 어때서? 라는 말을 할 수 있다. 하지만 내가 생각하고 그리던 30대의 모습이 지금의 내 모습과는 많이 다르다. 외적인 모습보다는 삶의 만족에 대한 부분이랄까.&lt;/p&gt;
&lt;p&gt;분명 예전에는 더 열심히 했고, 더 나은 인생을 살고 있다고 생각했던 시절이 있었다. 그런데 지금은 주위를 둘러보면 많은 사람들이 앞서 나가고 있는데 혼자만 오랫동안 제자리 걸음을 하고 있는 것 같은 느낌을 자주 받는다.&lt;/p&gt;
&lt;p&gt;단순 나이가 들어서만은 아닐 것이다. 사실 아직도 난 내가 어떤 삶을 원하는지 어떻게 살지에 대한 확신이 없다. 목표가 없다보니 방향을 못정하고 헤매고 있는 것인지도 모르겠다. 그저 지금은 바로 앞에 주어진 삶을 다시 열심히 살아갈 뿐이다. 그러다 보면 조금 더 나아진 나를 만나게 되지 않을까 생각한다.&lt;/p&gt;
&lt;p&gt;오랜 만에 집에 다녀오면서 떠올랐던 잡념들이 집 정리를 끝내고 쉬면서까지 계속 이어졌다. 정리가 되지 않은 생각들을 짧은 글로 남기느라 글도 어수선하다. 이만 해야겠다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[페이스북 댓글 플러그인 스크래핑하기]]></title><description><![CDATA[웹에 페이스북 플러그인을 붙여놓게 되면 데이터는 페이스북에 쌓이게 되고 다시 가져올 수가 없다. (데이터를 추출해서 별도로 저장하면 법적인 문제가 생긴다고 한다.)
그래서 페이스북 플러그인 대신 입맛에 맞게 UI…]]></description><link>https://nukeguys.github.io/dev/scrap-facebook-comment/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/scrap-facebook-comment/</guid><pubDate>Sat, 24 Aug 2019 15:25:07 GMT</pubDate><content:encoded>&lt;p&gt;웹에 페이스북 플러그인을 붙여놓게 되면 데이터는 페이스북에 쌓이게 되고 다시 가져올 수가 없다. (데이터를 추출해서 별도로 저장하면 법적인 문제가 생긴다고 한다.)
그래서 페이스북 플러그인 대신 입맛에 맞게 UI를 변경하고 싶을 때는 페이스북에서 제공하는 &lt;a href=&quot;https://developers.facebook.com/docs/graph-api?locale=ko_KR&quot;&gt;그래프 API&lt;/a&gt;를 사용해야 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;https://graph.facebook.com/{object-id}/comments
or
https://graph.facebook.com/comments?id={object-id}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서 문제는 가져올 페이지의 &lt;code&gt;object-id&lt;/code&gt;가 필요하다는 것이다.
별도로 알 수 있는 방법이 없어서(찾지 못했다…) 직접 찾아내야 한다. 플러그인에서 댓글의 작성시간을 누르면 새로운 페이지가 나오는데 여기에서 주소표시줄을 보면 &lt;code&gt;fb_comment_id&lt;/code&gt;가 아래의 예시처럼 보인다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;amp;fb_comment_id=1234567890123456_2197257797049450&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서 &lt;code&gt;_&lt;/code&gt; 앞에 있는 &lt;code&gt;1234567890123456&lt;/code&gt; 이 부분이 api 호출에 사용 할 &lt;code&gt;object-id&lt;/code&gt;이다. 단순 하나라면 이정도면 충분하다. 하지만 플러그인이 붙어 있는 페이지가 수십 수백개가 넘는다면 일일히 손으로는 불가능하기 때문에 자동화를 할 필요가 생긴다.&lt;/p&gt;
&lt;p&gt;위에서 말한 것 처럼 댓글의 작성일자를 눌렀을 때 &lt;code&gt;object_id&lt;/code&gt;가 포함된 경로로 이동되기 때문에, 댓글의 작성일자 태그의 속성을 꺼내오면 될 것 같다. 그래서 간단히 해당 페이지를 긁어서 출력해보자.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; urllib&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;request &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; urlopen

url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;...&apos;&lt;/span&gt;
html &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; urlopen&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;html&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;정작 댓글 내용은 보이지 않는다. 이유는 플러그인이 javascript가 실행되어야 하는데 request는 javascript 실행을 하지 못하기 때문이다. 코드를 조금 살펴보면 플러그인인 페이지에 iframe으로 추가되는 것을 알 수 있다. 그래서 iframe의 경로(&lt;code&gt;https://www.facebook.com/plugins/feedback.php?app_id=...&lt;/code&gt;)로 다시 한 번 들어가 보면 정확하게 플러그인만 보이는 페이지가 나온다.&lt;/p&gt;
&lt;p&gt;이 페이지를 긁어서 다시 출력해보면 역시나 댓글이 렌더링된 코드들이 보이지 않는다. 이 페이지에서도 로딩된 이후에 javascript를 통해 댓글을 렌더링 하고 있기 때문이다.(코드상 &lt;code&gt;requireLazy&lt;/code&gt; 함수가 관련 있는 것으로 추측된다.)&lt;/p&gt;
&lt;p&gt;그래서 렌더링이 될 때까지 기다려야 하는데 이를 위해서 &lt;a href=&quot;https://miyakogi.github.io/pyppeteer/&quot;&gt;pyppeteer&lt;/a&gt;를 사용한다. &lt;code&gt;pyppeteer&lt;/code&gt;는 google에서 만든 headless chrome을 사용할 수 있게 해주는 node.js 라이브러리인 &lt;a href=&quot;https://pptr.dev/&quot;&gt;puppeteer&lt;/a&gt;를 python으로 porting한 모듈이다.
(대신 &lt;a href=&quot;https://www.seleniumhq.org/&quot;&gt;Selenium&lt;/a&gt;을 사용 할 수도 있다.)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; pyppeteer &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; launch

url &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;...&apos;&lt;/span&gt;
browser &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; launch&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
page &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; browser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;newPage&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;goto&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;waitForSelector&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.pluginSkinLight&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;timeout&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
bodyHTML &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;evaluate&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;() =&gt; document.body.innerHTML&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyHTML&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대략 위처럼 테스트해서 코드를 살펴보면 원하던 댓글들이 렌더링되어 있는 것을 볼 수 있다. 여기서 작성 시간에 있는 href만 찾아내면 된다.&lt;/p&gt;
&lt;p&gt;가져온 html을 &lt;a href=&quot;https://www.crummy.com/software/BeautifulSoup/bs4/doc/&quot;&gt;Beautiful Soup&lt;/a&gt;으로 파싱하면 손쉽게 원하는 태그에서 속성들을 추출할 수 있다.&lt;/p&gt;
&lt;p&gt;하지만 잠시 wait하지 않던 코드를 살펴보자. &lt;code&gt;waitForSelector&lt;/code&gt; 부분만 주석처리하고 출력된 코드를 보면, 댓글이 렌더링 되어 있지는 않지만 &lt;code&gt;script&lt;/code&gt; 태그 안에 댓글들의 데이터가 얼핏 보인다. 그리고 혹시나 해서 object-id 값을 검색해보면 &lt;code&gt;targetFBID&lt;/code&gt;라는 키로 값이 존재하는 것을 알 수 있다.&lt;/p&gt;
&lt;p&gt;즉, 렌더링 되는 것을 기다리지 않고 필요한 데이터는 미리 알 수가 있는 것이다.(플러그인이 react로 작성되어 있는데 사용하는 상태값들이 아닐까 싶다.) 해당 값을 단순 string 매핑으로 찾아 낼 수도 있으나, 코드를 보면 javascript 함수(handleServerJS) 안에서 파라미터로 넘어가는 json 객체안에 데이터들이 포함되어 있다. 따라서 이 부분을 추출해서 json 객체로 변환하면 필요한 다른 데이터들도 추출하기가 쉬워진다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; pyppeteer &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; launch
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; json
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; re

pattern &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; re&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;compile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;r&apos;handleServerJS\(([^)]+)\)&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

bodyHTML &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;evaluate&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;() =&gt; document.body.innerHTML&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
p &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; pattern&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;search&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bodyHTML&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
param &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loads&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;p&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;group&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
meta &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; param&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;require&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;props&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;meta&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; meta&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;targetFBID&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
count &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; meta&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;totalCount&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;간단히 정리한 코드기 때문에 자동화를 위한 입출력이나 예외처리, 속도를 조금 올리기 위해 asyncio등을 적용해주면 간단히 쓰기에는 충분해진다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[아무 것도 하지 않은 주말]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/nothing-weekend/</link><guid isPermaLink="false">https://nukeguys.github.io/life/nothing-weekend/</guid><pubDate>Sun, 18 Aug 2019 12:43:17 GMT</pubDate><content:encoded>&lt;p&gt;이번 주는 아무 것도 하지 않고 쉬기로 했다. 좀 더 정확히 말하면 하려고 계획 하거나 해야 했던 것들은 하나도 하지 않았다. 이 글도 저녁이 되어 글 써야지 하고 내용들을 한참 정리 하다가 이러면 뭔가 하는게 될 것 같아 막판에 계획을 어긋나게 할 수 없어 과감히 지워버렸다.&lt;/p&gt;
&lt;p&gt;주말 동안 아무 것도 하지 않으면서 했던 일들이다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;토요일 오전에 갑자기 가구 배치가 맘에 들지 않아 침대 방향부터 시작해서 대대적인 가구 이동을 했다.&lt;/li&gt;
&lt;li&gt;그러다보니 대청소도 같이하게 됐다.&lt;/li&gt;
&lt;li&gt;배달 음식은 한 끼만 먹자는 생각에 오랜만에 요리(조리에 더 가까운)도 해먹었다.&lt;/li&gt;
&lt;li&gt;일요일엔 가려고 했던 스터디도 당당히 불참을 눌러놓고 느지막히 일어나서 오랜만에 예능도 챙겨봤다.&lt;/li&gt;
&lt;li&gt;집 꾸미기 하면서 사고싶었던 리클라이너를 알아봤다.&lt;/li&gt;
&lt;li&gt;9월 마라톤을 못가게 되어 취소하고 11월에 서울 마라톤도 새로 등록했다.&lt;/li&gt;
&lt;li&gt;링크드인 inMail에 거절의 답장을 보내고, 잠깐 블록체인에 대해 다시 관심을 가져봤다.&lt;/li&gt;
&lt;li&gt;주변에서 많이 보던 팩트풀리스의 저자가 세바시에서 강연을 했길래 찾아봤다.&lt;/li&gt;
&lt;li&gt;기타 낮잠 자기, 달빛조각사 보기 등등.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;따지고 보면 시간의 흐름에서는 내 머리와 몸은 항상 움직이고 있었는데, 왜 아무것도 하지 않은 것 처럼 느껴질까하는 의문이 생겼다. 물론 이전에도 그런 생각을 한 적이 있었다.(그런 느낌이 너무 크게 다가와서 한동안 불면증에 걸린 적도 있으나, 오늘은 의도적인 하루였기 때문에 괜찮을 듯 싶다.)&lt;/p&gt;
&lt;p&gt;그래서 이 주제로 더 이어서 써보려 전에 봤던 글들을 다시 찾아보기도 했으나, 아무 것도 하지 않기로 한 주말이기에 계획에 어긋나게 하고 싶지 않아 이쯤에서 정리하고 다음으로 미룰 생각이다.&lt;/p&gt;
&lt;p&gt;이렇게 완벽하게 아무 것도 하지 않기로 한 계획을 달성했다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[거절은 거절한다. "Accepted"]]></title><description><![CDATA[내가 가장 즐기는 취미 중의 하나가 영화다. 영화를 보기 시작한 건 처음 영화관에 갔던 중학교 때 부터 였던 걸로 기억한다.
난 깊이 있게 본다기 보다는 다작으로 많이 보는 편이다. 그래서 지금은 왓챠 기록엔 영화가 1,70…]]></description><link>https://nukeguys.github.io/life/accepted/</link><guid isPermaLink="false">https://nukeguys.github.io/life/accepted/</guid><pubDate>Sun, 11 Aug 2019 14:51:12 GMT</pubDate><content:encoded>&lt;p&gt;내가 가장 즐기는 취미 중의 하나가 영화다. 영화를 보기 시작한 건 처음 영화관에 갔던 중학교 때 부터 였던 걸로 기억한다.
난 깊이 있게 본다기 보다는 다작으로 많이 보는 편이다. 그래서 지금은 왓챠 기록엔 영화가 1,700편이 넘어섰다.
참 많이도 봤지만 한 번 본 영화는 특별한 계기가 있지 않은 이상 다시 보기가 쉽지 않다. 하지만 그 중에도 유별나게 여러 번 본 영화가 두 편 있다. (항상 컴퓨터에 저장되어 있다.)&lt;/p&gt;
&lt;p&gt;하나는 건축학개론. 첫 사랑에 대한 아련한 추억이 있는 것도 아닌데 왜인지 건축학 개론이 나온 시점에 집중적으로 몰아서 봤던 것 같다. 아마 5번 이상? 10번은 안되는 정도 본 것 같다.&lt;/p&gt;
&lt;p&gt;그리고 가장 많이 본 영화. 아마 오늘까지 합쳐 20번 정도는 봤을 것 같은 영화가 있다. 바로 &lt;a href=&quot;https://namu.wiki/w/%EC%96%B5%EC%85%89%ED%8B%B0%EB%93%9C&quot;&gt;억셉티드&lt;/a&gt;다.
이 영화에 대해 소개를 한 번 해보려고 한다.(나중에 알았지만 06학번, 내가 대학에 입학하던 시절을 배경으로 만들어 졌다. 그래서 더 보게 되는 건지도 모르겠지만.)&lt;/p&gt;
&lt;p&gt;억셉티드는 대학에 합격하지 못해 실망하는 부모님을 속이려 위조한 합격통지서를 시작으로 점점 일이 커져 가짜 대학교를 만들어내는 과정을 그린 영화다.&lt;/p&gt;
&lt;p&gt;주인공인 바틀비 게인즈는 지원한 대학교 8곳에 모두 떨어졌다. 그리고 부모님을 설득하기 위해 대학 4년 동안 학비를 쓰느니 그만큼을 벌겠다는 얼토당토 않는 소리를 하다가 당연히 안좋은 소리를 듣는다.
그래서 결국은 근처의 명문 대학인 South Harmon의 합격 통지서로 &lt;a href=&quot;https://www.southharmoninstituteoftechnology.org/&quot;&gt;South Harmon Institute of Technology&lt;/a&gt;(S.H.I.T)라는 새로운 대학을 만들어 합격통지서를 위조한다. 그렇게 임시방편으로 시작한 일이 폐쇄한 정신병원을 빌려 가짜 학교 건물을 만들고 엎친데 덮친격으로 클릭만 하면 합격인 홈페이지 덕분에 학생들(다른 곳에서는 모두 떨어진)이 오리엔테이션에 모여들게 된다.&lt;/p&gt;
&lt;p&gt;일을 수습하기 위해 모두를 돌려보내려 모인 강당에서 자신처럼 다른 곳에서 모두 거절당하고 온 학생들에게 동질감을 느끼고 오히려 가짜 대학을 진짜로 바꿔버린다. 그리고 대학이 어떤 곳인지 알아보았지만, 예상외로 대학은 자신의 기대와는 너무나도 다르다는 것을 알게 된다. 취업을 위해 맹목적으로 학점에 목매는 학생들, 빡빡한 일정과 과제들, 정작 듣고 싶은 수업은 듣지 못하는 여주인공 모니카, 그리고 전통이라는 명목으로 선배들에게 괴롭힘을 당하는 절친 슈레이더.&lt;/p&gt;
&lt;p&gt;이에 실망한 주인공은 학생들에게 직접 원하는 과목을 물어보고 그들이 직접 가르치는 커리큘럼을 실행한다.(내가 좋아하는 &lt;a href=&quot;https://www.opencollege.kr/&quot;&gt;오픈컬리지&lt;/a&gt;와 비슷하다.) 요리를 좋아하는 학생의 학비는 요리에, 조각, 명상, 스케이드보드, 심지어 초능력까지. 그들이 직접 원하는 과목을 개설하고 서로 가르치며 배워 나간다.&lt;/p&gt;
&lt;p&gt;하지만 이렇게 평탄하기만 하면 영화가 아니겠지. 안타깝게도 앞뜰을 만들기 위해 S.H.I.T의 부지를 사려던 South Harmon의 교육 관계자들에 의해 모든 행각이 들통나게 된다. 그리고 주인공과 친구들은 자신들이 했던 교육과정을 대학교로 인정받기 위해 교육과정 심문 위원회를 신청하게 된다.&lt;/p&gt;
&lt;p&gt;이 영화의 진정한 매력은 이 심문회 과정에 담겨있다. 닮은게 하나도 없는 학생들을 강제로 모두 같은 모습으로 만들길 원하고, 대학을 좋은 직장에 취업을 위한 과정으로만 여기는 기존의 대학에 대해 주인공은 말한다.
우리는 그렇지 않아 자랑스럽다고. 대학이 왜 그래야만 하는건지 반문한다. 그들은 그들의 방식대로 우리는 우리의 방식대로 서로 같이 존재 할 수 없는지 말이다. 오히려 학생들의 창의력과 열정을 뺏아간 당신들이 잘못이 아니냐고 말한다.
그리고 교육부 직원에게도 말한다. 당신의 꿈은 어릴 때 부터 교육부 직원이었냐고. 마술사나 화가, 시인 혹은 세계일주만 하고 싶지 않았냐고 말이다.&lt;/p&gt;
&lt;p&gt;자신도 자포자기로 시작한 일이 정말 놀라운 일이 되었다고 한다. 인생은 가능성으로 가득차 있기 때문에. 그리고 인정 따위는 필요 없다고 말한다. 진정한 교육은 선생이나 시설, 화려한 전통이나 돈은 필요없다고. 그저 자신을 개선하고자 하는 사람들만 있으면 된다고. S.H.I.T에는 그런 사람들로 넘쳐나고 인정 없이도 계속해서 배우고 자랄 것 이며 변하지 않을 것이라고.&lt;/p&gt;
&lt;p&gt;위원회는 결론을 내린다. 혁신을 거부하는 대신 조심스럽게 지켜보겠다며 1년 간의 유예기간을 준다. 그리고 위원장은 주인공에데 다가와 말한다. 자신은 트롬본을 하고 싶었다고. 그렇게 모두 환호하고 다시 학교는 운영되고 주인공도 실망이 가득했던 가족들에게 인정을 받는다. 초능력을 원했던 학생이 South Harmon 학장의 차를 폭발시키며 영화는 끝난다.&lt;/p&gt;
&lt;p&gt;나는 왜 이 영화를 좋아했을까?&lt;/p&gt;
&lt;p&gt;따지고 보면 이 영화는 억지스럽고 비현실 적인 면이 많고, 미국에서도 그렇게 많은 인기를 끌지 못했다.(이상하리 만큼 한국에서는 평이 좋다.) 영화 자체의 완성도나 스토리, 작품성도 뛰어나다고 볼 수 없다. 어찌보면 흔한 킬링타임용 영화에 비할 수 있을 정도라고 볼 수 있다. 단지 교육이라는 주제를 가볍게 풀어냈다. 그것도 너무나 이상적으로. 영화의 마지막 주인공의 발언들은 속시원하게 만들어 주기도 한다.&lt;/p&gt;
&lt;p&gt;한 때는 꿈이 학교를 만드는 일이라고 할 정도 였지만 이유는 사실 잘 모르겠다. 그냥 언제부턴가 교육에 관심이 생겼고, 오히려 난 반대 학교의 방식에 더 가까웠던 것 같지만 S.H.I.T의 교육 방식에 매우 공감이 갔다. 오픈컬리지가 없었다면 직접 해보고 싶을 정도 였다. (오픈컬리지 외에도 열정대학이나 비슷한 서비스들이 생기기도 했다.) 어릴 때 부터 해보고 싶고 관심은 있는 건 많았으나 막상 틀에 갇혀 시도는 못 했던, 그래서 더 그런지도 모르겠다.&lt;/p&gt;
&lt;p&gt;가끔씩 집중이 안되고 생각이 많아질 때 면 이 영화를 보곤한다.(물론 처음의 그 감동은 다시 느껴지지 않지만 그래도 아직은 충분히 볼 만 하다.) 우연히 생각나서 본 김에 책 대신 영화에 대해 정리를 해봤다.
글에 나타난 것 보다는 더 많은 생각과 감정을 들게 했던 영화라, 앞으로도 당분간은 다시 볼 수 있을 것 같고 원한다면 누군가에게는 추천을 조심스럽게 해 볼만 할 것 같다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[react dev tool로 성능 측정 해보기]]></title><description><![CDATA[최근 작업을 하면서 react 성능에 대해 신경을 써야 할 상황이 생겼다. 아직 정확하게는 모르지만 대충 눈치, 코치, 감으로 chrome과 react의 developer tool…]]></description><link>https://nukeguys.github.io/dev/react-optimizing-performance/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/react-optimizing-performance/</guid><pubDate>Sun, 04 Aug 2019 02:08:52 GMT</pubDate><content:encoded>&lt;p&gt;최근 작업을 하면서 react 성능에 대해 신경을 써야 할 상황이 생겼다. 아직 정확하게는 모르지만 대충 눈치, 코치, 감으로 chrome과 react의 developer tool을 사용해서 성능을 측정하고 개선하는 작업을 했는데, 일단 이번엔 &lt;code&gt;React Developer Tools&lt;/code&gt;을 사용해 성능을 측정하하고 개선하는 방법을 정리해본다.&lt;/p&gt;
&lt;h2&gt;성능 측정&lt;/h2&gt;
&lt;p&gt;우선 react와 browser의 렌더링 과정에 대해 간단히 알 필요가 있다. react는 DOM의 직접적인 변경을 방지하기 위해 virtual DOM을 사용하고 실제로 변경이 필요한 부분만 DOM에 반영함으로써 성능을 올린다. 브라우저는 변경이 발생하면 크게 두 과정을 필요에 따라 선택적으로 수행한다. DOM tree를 갱신하는 reflow(layout)와 이를 화면에 반영하는 repaint(painting)이다.(&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Mozilla/Introduction_to_Layout_in_Mozilla#Basic_Data_Flow&quot;&gt;Introduction to Layout in Mozilla - Mozilla | MDN&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;브라우저의 DOM에 변경을 가하는 reflow와 repaint도 당연히 성능에 영향이 크지만, react의 virtual DOM을 재계산하는 reconciliation(&lt;a href=&quot;https://reactjs.org/docs/reconciliation.html&quot;&gt;Reconciliation – React&lt;/a&gt;)과정도 생각보다 성능에 많은 영향을 미친다. 따라서 성능을 올리기 위해서는 이 모든 과정에 대한 고려가 필요하다. react의 reconciliation는 react developer tools를 통해 확인할 수 있고, reflow 및 repaint는 chrome의 developer tool을 통해 확인이 가능하다.&lt;/p&gt;
&lt;h3&gt;Highlight Updates&lt;/h3&gt;
&lt;p&gt;react는 컴포넌트의 state나 props가 변경되면 render를 수행하여 virtual DOM을 갱신한다. react의 developer tools에서 Highlight Updates 설정을 켜놓으면 interaction이 발생할 때 마다 리렌더링되는 컴포넌트의 테두리에 색이 변경되는 것을 볼 수 있다. 즉 변경될 필요가 없는데도 특정 부분의 테두리 색이 나타난다면 불필요한 컴포넌트 렌더링이 발생하고 있는 것이다.&lt;/p&gt;
&lt;h3&gt;Profiler&lt;/h3&gt;
&lt;p&gt;위의 방법은 눈으로 쉽게 확인 가능하지만 상세한 내용은 알 수 가 없다. 경우에 따라 보다 정확하고 자세한 내용을 알고 싶다면 profiler를 사용하면 된다. 기본적인 사용법은 profiler 패널에서 record 버튼을 누르고 원하는 interaction을 하거나 시간이 흐른 뒤에 stop을 누르면 그 사이에 발생한 렌더링에 대해 확인 할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://reactjs.org/static/stop-profiling-45619de03bed468869f7a0878f220586-53c76.png&quot; alt=&quot;stop-profiling-45619de03bed468869f7a0878f220586-53c76.png&quot;&gt;&lt;/p&gt;
&lt;h4&gt;Flame Chart&lt;/h4&gt;
&lt;p&gt;prifiling이 끝나면 그 동안에 발생한 commit&lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;별 flame chart를 보여준다. 각 commit은 패널의 우측 상단에서 표시가 되고 각 commit을 선택하면 해당 commit의 flame chart가 표시된다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://reactjs.org/static/commit-selector-bd72dec045515d59be51c944e902d263-8ef72.png&quot; alt=&quot;commit-selector-bd72dec045515d59be51c944e902d263-8ef72.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;commit이 많이 표시되는 것은 측정 시간동안 DOM의 변경이 그 만큼 발생했다는 것이고, 바의 색과 높이는 렌더링 소용된 시간을 나타낸다. (높고 노란색일 수록 오래 걸렸다는 의미이다.)&lt;/p&gt;
&lt;p&gt;flame chart에서는 commit에서 각 컴포넌트들의 상태를 나타낸다. 바의 길이(너비)는 마지막 렌더링에 걸린 시간을 의미하고 색은 현재 commit에서 소요된 시간을 의미한다. (해당 컴포넌트와 자식컴포넌트를 포함한다.)&lt;/p&gt;
&lt;p&gt;아래 사진에서보면 &lt;code&gt;App&lt;/code&gt;과 &lt;code&gt;HashRouter&lt;/code&gt; 컴포넌트의 경우 렌더링에 많은 시간이 걸리고 있으나 회색이기 때문에 현재 commit에서는 렌더링이 발생하지 않았다는 것을 알 수 있고, &lt;code&gt;Router&lt;/code&gt; 컴포넌트는 렌더링이 발생했고 대부분의 시간이 자식 컴포넌트인 &lt;code&gt;Nav&lt;/code&gt;와 &lt;code&gt;Route&lt;/code&gt; 렌더링에 소요된 것을 알 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://reactjs.org/static/flame-chart-3046f500b9bfc052bde8b7b3b3cfc243-53c76.png&quot; alt=&quot;flame-chart-3046f500b9bfc052bde8b7b3b3cfc243-53c76.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;컴포넌트를 선택하면 이번 commit에서의 &lt;code&gt;state&lt;/code&gt;나 &lt;code&gt;prpos&lt;/code&gt;도 확인이 가능하고, 다른 commit을 선택하면 변경도 확인할 수 있어서 렌더링이 발생한 이유도 알 수 있다.&lt;/p&gt;
&lt;h4&gt;Ranked Chart&lt;/h4&gt;
&lt;p&gt;두 번째 ranked chart를 선택하면 현재 commit에서 렌더링이 오래걸린 순으로 컴포넌트를 정렬해서 확인 할 수 있다. 단, 자식 컴포넌트의 렌더링을 포함하기 때문에 표시되는 실제 오래걸리는 컴포넌트가 포함된 tree의 top이 표시될 수 있다는 점을 염두해야 한다.&lt;/p&gt;
&lt;h4&gt;Component Chart&lt;/h4&gt;
&lt;p&gt;전체 profiling 동안 특정 컴포넌트의 렌더링에 대해 알고 싶을 땐 component chart가 유용하다. 컴포넌트를 더블클릭하거나 오른쪽 x표시 옆에 있는 차트 모양 아이콘을 선택하면 볼 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://reactjs.org/static/component-chart-d71275b42c6109e222fbb0932a0c8c09-53c76.png&quot; alt=&quot;component-chart-d71275b42c6109e222fbb0932a0c8c09-53c76.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;바의 수는 렌더링 된 횟수를 의미하고 각 바의 높이와 색은 각 commit에서 다른 컴포넌트에 비해 상대적으로 해당 컴포넌트가 렌더링되는데 걸린 시간을 의미한다. 바를 선택하면 자세한 내용을 볼 수 있고, 더블 클릭하거나 x를 누르면 이전 화면으로 돌아갈 수 있다.&lt;/p&gt;
&lt;p&gt;보다 상세한 사용법은 react 블로그를 참고하자. (&lt;a href=&quot;https://reactjs.org/blog/2018/09/10/introducing-the-react-profiler.html&quot;&gt;Introducing the React Profiler – React Blog&lt;/a&gt;)&lt;/p&gt;
&lt;h2&gt;개선 하기&lt;/h2&gt;
&lt;p&gt;profiling 결과를 보다보면 특정 컴포넌트가 렌더링에 시간을 오래 소요하거나 렌더링할 필요가 없는 데도 commit마다 렌더링이 발생하는 경우가 있다. 이런 경우 해당 컴포넌트를 찾아서 불필요한 렌더링이 발생하지 않도록 개선할 필요가 있다.&lt;/p&gt;
&lt;p&gt;우선 렌더링이 발생하는 이유에 대해 생각해보자. react는 state나 props가 변경된 경우 컴포넌트의 변경이 발생할 것으로 예상하고 렌더링을 한다. 이 과정이 위에서 확인되는 렌더링 이다. 최종적으로 실제 DOM에 변경이 없다면 반영이 되지 않겠지만(이 부분은 다음에 정리할 내용에서 확인이 가능하다.) 이 자체만으로 경우에 따라 성능에 많은 영향을 주게 된다. 이 과정을 없애기 위해서는 react에게 렌더링을 할 필요가 없다는 것을 알려줄 필요가 있다. 예상했듯이 class형 컴포넌트에서는 &lt;code&gt;shouldComponentUpdate&lt;/code&gt;를 사용하거나 &lt;code&gt;PureComponent&lt;/code&gt;를 상속함으로서 미리 정의된 &lt;code&gt;shouldComponentUpdate&lt;/code&gt;를 적용할 수 있다. function 컴포넌트에서도 비슷한 역할을 하는 &lt;code&gt;memo&lt;/code&gt;라는 HOC가 존재한다.&lt;/p&gt;
&lt;h3&gt;React.memo&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; MyComponent &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;memo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/* render using props */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 처럼 사용하면 &lt;code&gt;PureComponent&lt;/code&gt; 처럼 shallow 한 비교를 직접 처리해준다. 하지만 좀 더 복잡하거나 예외적인 처리가 필요할 경우에는 두 번째 인자로 이전 props와 다음 props를 받아서 비교를 수행하는 함수를 전달할 수 있다. &lt;code&gt;shouldComponentUpdate&lt;/code&gt;와 다른점이 있다면 반환값이 반대라는 점이다. 이름에서 알 수 있듯이 &lt;code&gt;shouldComponentUpdate&lt;/code&gt;는 update여부를 반환하기 때문에 다른 경우에 true를 반환하지만 &lt;code&gt;areEqual&lt;/code&gt;의 경우는 비교의 결과를 반환하면 된다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/* render using props */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;areEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prevProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; nextProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;/*
  return true if passing nextProps to render would return
  the same result as passing prevProps to render,
  otherwise return false
  */&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;memo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;MyComponent&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; areEqual&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;대부분의 경우에는 추가적인 비교함수 없이 대응이 가능하다. 이 때 주의할 점은 shallow하게 비교하기 때문에 &lt;code&gt;immutable&lt;/code&gt;한 데이터를 &lt;code&gt;props&lt;/code&gt;로 사용해야 한다는 점이다. 즉, 실제 같은 데이터지만 렌더링 마다 새로운 객체를 생성해서 전달한다면 memo의 의미가 없어지게 되는 것이다.&lt;/p&gt;
&lt;p&gt;즉 부모 컴포넌트에서 &lt;code&gt;useMemo&lt;/code&gt;나 &lt;code&gt;useCallback&lt;/code&gt;을 사용해서 props를 전달하고 자식 컴포넌트에서 &lt;code&gt;memo&lt;/code&gt;가 적용되어 있으면 손쉽게 불필요한 렌더링을 막을 수 있게 되는 것이다. (&lt;a href=&quot;https://nukeguys.github.io/dev/react-hooks/&quot;&gt;react hooks 복습하기&lt;/a&gt; 참고)&lt;/p&gt;
&lt;p&gt;그렇다면 &lt;code&gt;memo&lt;/code&gt;는 항상 사용하는 것이 좋겠다는 생각을 할 수도 있다. 물론 대부분의 경우에는 효과를 볼 수도 있겠지만 &lt;code&gt;memo&lt;/code&gt;도 내부적으로는 &lt;code&gt;useMemo&lt;/code&gt;와 같이 동작을 하기 때문에 추가적인 비용이 들게 된다. 즉 매번(또는 빈번하게) 변경되는 컴포넌트에 적용하게 되면 렌더링은 그대로 유지되면서 추가적인 비용만 더 가중시키는 셈이다. 대표적으로 prpos로 &lt;code&gt;children&lt;/code&gt;을 받아서 사용하는 컴포넌트를 들 수 있는데, 일반적으로 children은 매번 변경되거나 별도로 memoization을 하는 경우가 많지 않기 때문이다.&lt;/p&gt;
&lt;p&gt;그래서 일단 적용하지 않은 상태로 구현한 뒤에 propfiling을 통해 필요한 곳에 &lt;code&gt;memo&lt;/code&gt;를 적용하는 것을 권장한다.&lt;/p&gt;
&lt;p&gt;이번엔 react development tool을 사용해서 렌더링 성능을 측정하고 개선하는 방법을 간단히 정리해봤다. 다음엔 browser의 렌더링 과정과 측정하는 방법을 정리해 볼 예정이다.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;react의 lifecyle은 크게 render와 commit으로 나뉜다. render를 수행한 후 변경된 사항을 DOM에 반영하는 과정이다.(&lt;a href=&quot;http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/&quot;&gt;React lifecycle methods diagram&lt;/a&gt;)&lt;/p&gt;
&lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[react hooks 복습하기]]></title><description><![CDATA[Frontend를 시작한지 얼마 되지 않았지만 그 짧은 사이에도 크고 작은 것들이 많이 변화했다. 정말 빠르구나 싶기도 하고 그런게 나름 또 이 세계의 재미가 아닌가 싶기도 하다. React도 16.8이 릴리즈 되면서 hooks라는 api…]]></description><link>https://nukeguys.github.io/dev/react-hooks/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/react-hooks/</guid><pubDate>Sun, 28 Jul 2019 01:35:46 GMT</pubDate><content:encoded>&lt;p&gt;Frontend를 시작한지 얼마 되지 않았지만 그 짧은 사이에도 크고 작은 것들이 많이 변화했다. 정말 빠르구나 싶기도 하고 그런게 나름 또 이 세계의 재미가 아닌가 싶기도 하다.&lt;/p&gt;
&lt;p&gt;React도 16.8이 릴리즈 되면서 hooks라는 api가 새롭게 등장했다. 익숙해 지려고 할 때 쯤 새로운 놈이 등장해서 다시 또 적응을 해야했고 지금은 나름 열심히 사용하고 있긴하지만 이쯤에서 자주 쓰는 hooks에 대해 정리를 한 번 해볼까한다. (물론 틀린 내용이 있을 수 있고, 주관적인 생각이 포함되어 있을 수 있다.)&lt;/p&gt;
&lt;p&gt;우선 각 hook에 대해 정리하기 전에 hooks라는 이름에 대해 생각해 볼 필요가 있지 싶다. react 문서에서는 hook을 아래처럼 설명하고 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hooks are functions that let you “hook into” React state and lifecycle features from function components. (&lt;a href=&quot;https://reactjs.org/docs/hooks-overview.html#but-what-is-a-hook&quot;&gt;Hooks at a Glance – React&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;state와 lifecycle을 &lt;code&gt;hook into&lt;/code&gt;한다라는게 바로 와닿지는 않는다. 번역하면 연동한다/끌어드린다/밀어넣는다 정도로 될 듯하다.
hook이라는 단어는 &lt;code&gt;web-hook&lt;/code&gt;이나 &lt;code&gt;hooking&lt;/code&gt;처럼 흔하게 사용되는 말로 중간에 동작을 가로챈다는 의미로 보는게 이해가 빠를 것 같다. 따라서 react의 hook도 lifecycle 과정에서 state와 관련된 동작을 수행 할 수 있도록 해준다는 의미로 이해하면 될 것 같다.&lt;/p&gt;
&lt;h2&gt;useState&lt;/h2&gt;
&lt;p&gt;class형 컴포넌트에서 &lt;code&gt;this.state&lt;/code&gt;와 &lt;code&gt;setState&lt;/code&gt;의 역할을 하는 hook이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setState&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;공식문서에 나와있는 이전방식과 hook의 코드도 비교해보자.(&lt;a href=&quot;https://reactjs.org/docs/hooks-state.html&quot;&gt;Using the State Hook – React&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;하나의 객체가 아니라 필요한 state를 개별로 접근하고 변경할 수 있다는 점에서 관리와 사용이 훨씬 깔끔해진 느낌이다. &lt;code&gt;useState&lt;/code&gt;를 사용할 때 주의해야 할 부분도 있다. 우선 class형 컴포넌트 안에서는 사용할 수 없고, setState와 다르게 merge가 아닌 replace된다는 점이다. 두 번째는 setter의 인자로 값이 아닌 함수를 전달할 수 도 있다는 점이다. count를 증가시키는 코드를 예로 보면 일반적으로 아래처럼 할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;increaseCount&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;하지만 setCount를 비동기 callback에서 호출하는 경우에 원하는 대로 count가 증가하지 않는 경우를 경험할 수 있다. 이유는 callback 등록 시점에 함수가 생성되면서 count 값이 고정되어 버리기 때문이다. 처음에 같은 문제를 겪고 한참을 헤맸던 기억이 있다. 이런 경우에는 아래처럼 setCount에 함수(이전 state값을 받아서 새로운 state를 반환하는)를 전달하면 해결 할 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;increaseCount&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prevCount&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; prevCount &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;물론 위의 경우처럼 단순하게 처리가 불가능한 경우가 있을 수도 있다. 또 state 뿐 아니라 props에 대해서도 동일한 문제가 발생할 수 있다. 그런 경우에는 state를 객체로 변경해서 사용하거나, &lt;code&gt;useRef&lt;/code&gt;를 사용해 state 또는 props를 별도의 변수로 저장해서 접근해야 한다.&lt;/p&gt;
&lt;p&gt;추가로 useSate의 초기값으로도 함수를 전달할 수 있다. 이는 초기값 계산의 cost가 높은 경우에 초기화를 지연시키는 역할을 한다.&lt;/p&gt;
&lt;h2&gt;useRef&lt;/h2&gt;
&lt;p&gt;위에서 언급한 &lt;code&gt;useRef&lt;/code&gt;도 간단히 정리해본다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; refContainer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이름에서 유추 가능한 것 처럼, 원하는 값을 객체로 warraping해서 &lt;code&gt;current&lt;/code&gt;라는 속성으로 접근할 수 있게 해준다. 보통 DOM의 reference를 담아두는데 사용하지만 class의 멤버 변수처럼 사용하는 것이 가능하다.&lt;/p&gt;
&lt;p&gt;어렵지 않지만 실제로 구현된 아래 코드를 보면 더 쉽게 이해가 된다. (&lt;a href=&quot;https://github.com/facebook/react/blob/42b75ab007a5e7c159933cfdbf2b6845d89fc7f2/packages/react-reconciler/src/ReactFiberHooks.js#L856-L869&quot;&gt;ReactFiberHooks.js · GitHub&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; mountRef&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialValue&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hook &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mountWorkInProgressHook&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ref &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; initialValue &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__DEV__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;seal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  hook&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;memoizedState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ref&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ref&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; updateRef&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initialValue&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; hook &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateWorkInProgressHook&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; hook&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;memoizedState&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;최초에는 ref라는 객체를 만들어 current 속성에 초기값을 설정해서 반환하고, 이후부터는 해당 객체를 반환한다.&lt;/p&gt;
&lt;p&gt;참고로 react의 hooks는 &lt;code&gt;mountXXX&lt;/code&gt;와 &lt;code&gt;updateXXX&lt;/code&gt;라는 이름으로 최초 실행과 이후 업데이트에서 사용하는 함수가 각각 분리되어 구현 되어 있다.&lt;/p&gt;
&lt;h2&gt;useImperativeHandle &amp;#x26; forwardRef&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useImperativeHandle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createHandle&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;deps&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;useImperativeHandle&lt;/code&gt;은 부모에게 원하는 interface를 통해 ref를 사용할 수 있게 해준다. 즉, 부모가 자식의 ref를 직접 받아서 접근할 수도 있지만, 제한하거나 커스터마이징해서 제공을 하고 싶을 때 사용하면 된다. &lt;code&gt;useImperativeHandle&lt;/code&gt;은 &lt;code&gt;forwardRef&lt;/code&gt;와 함께 사용해야 하는데 간단한 사용법은 아래와 같다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;FancyInput&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ref&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; inputRef &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;useImperativeHandle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ref&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function-variable function&quot;&gt;focus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      inputRef&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;current&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;focus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;input ref&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;inputRef&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
FancyInput &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;forwardRef&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;FancyInput&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;useEffect&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;useState&lt;/code&gt;와 더불어 가장 자주 사용하고 중요한 hook중의 하나이다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;didUpdate&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;공식문서의 정의는 아래처럼 되어있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The Effect Hook lets you perform side effects in function components.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;함수형 컴포넌트에서 &lt;code&gt;side effects&lt;/code&gt;를 수행할 수 있게 해준다라는 의미가 바로 와닿지는 않는다. 그래서 문서를 조금 더 살펴보면 이런 내용도 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Data fetching, setting up a subscription, and manually changing the DOM in React components are all examples of side effects. Whether or not you’re used to calling these operations “side effects” (or just “effects”), you’ve likely performed them in your components before.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;즉, 컴포넌트 내부에서 수행하던 &lt;code&gt;data fetching&lt;/code&gt;, &lt;code&gt;subscription(이벤트 등록/해제 같은)&lt;/code&gt;, &lt;code&gt;manaual한 DOM변경&lt;/code&gt; 등과 같은 state를 직접 처리하는 이외의 동작이나 기능들을 &lt;code&gt;side effect&lt;/code&gt; 또는 &lt;code&gt;effect&lt;/code&gt;로 부르고 있다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;useEffect&lt;/code&gt;가 중요한 이유 중의 하나는 react의 &lt;code&gt;lifecycle&lt;/code&gt;과 밀접하게 관련이 있기 때문이다.
기본적으로 렌더링이 완료된 이후에 실행 되는데 두번째 인자인 &lt;code&gt;deps&lt;/code&gt;를 통해 실행 여부를 결정할 수 있기 때문에 class 컴포넌트에 있던 &lt;code&gt;componentDidMount&lt;/code&gt;, &lt;code&gt;componentDidUpdate&lt;/code&gt;, &lt;code&gt;componentWillUnmount&lt;/code&gt;와 같은 lifecycle과 비슷한 역할을 할 수 있다.&lt;/p&gt;
&lt;p&gt;기존 방식과의 차이점은 문서를 확인하면 명확하게 알 수 있다.(&lt;a href=&quot;https://reactjs.org/docs/hooks-effect.html&quot;&gt;Using the Effect Hook – React&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;useEffect&lt;/code&gt;에서 함수를 리턴할 수 있는데 이 함수는 다음 effect발생하기 전에 호출이 되기 때문에 메모리 정리나 구독해제 같은 기능을 처리할 수 있다. (&lt;code&gt;componentDidMount&lt;/code&gt;에서 등록하고 &lt;code&gt;componentWillUnmount&lt;/code&gt;에서 해제하는 것과 유사한 동작)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; subscription &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;source&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    subscription&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unsubscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그런데 위의 코드를 수행하면 매 렌더링시마다 구독/해제가 일어나기 때문에 비효율적이다. 이런 문제를 해결하기 위해서 위에서 언급한 대로 두번째 인자로 &lt;code&gt;deps(dependencies)&lt;/code&gt;를 전달할 수 있다. &lt;code&gt;deps&lt;/code&gt;는 배열 형식으로 전달하고, 배열의 각 아이템을 shallow하게 비교해서 변경이 발생한 경우에만 effect가 실행된다. 위 코드처럼 전달하지 않으면 매번 실행이 되고, 빈배열(&lt;code&gt;[ ]&lt;/code&gt;)을 전달하면 mount/unmount시에만 호출이 된다. 위 코드에서는 props의 source에 접근하고 있기 때문에 그 값이 변할 경우에만 구독/해제를 할 필요가 있다. 따라서 아래처럼 해주면 원하는 효과를 볼 수 있다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; subscription &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;source&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    subscription&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;unsubscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;source&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서 주의할 점은, 컴포넌트 범위에서 변경될 수 있는 값(state나 props같은)을 누락하게 되면 원하는 동작을 하지 않을 수 있다는 점이다. 예로 위의 코드에서 deps에 []를 넣게 되면, props의 source가 변경되어도 구독은 계속 이전 source에 된 상태로 남아있게 된다.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;useEffect&lt;/code&gt;에서 직접적인 접근이 없지만 호출하는 함수에서 변경되는 값이 존재하는 경우에도 마찬가지로 추가를 해줘야 하지만 쉽게 인지하기 어려울 수도 있기 때문에 react에서는 &lt;code&gt;eslint-plugin-react-hooks&lt;/code&gt;의
&lt;a href=&quot;https://github.com/facebook/react/issues/14920&quot;&gt;exhaustive-deps&lt;/a&gt; lint rule을 사용하는 것을 권장하고 있다.&lt;/p&gt;
&lt;h2&gt;useCallback&lt;/h2&gt;
&lt;p&gt;callback의 memoization을 만들어주는 hook이다. 즉, 매번 동일한 함수를 생성하는 것이 아니라 변경될 필요가 없는 경우 이전에 생성된 함수를 반환해주는 기능을 한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; memoizedCallback &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCallback&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;useCallback&lt;/code&gt;이 유용성은 react의 특성을 이해하면 알기 쉽다. 자식에게 callback을 전달하는 경우에 부모가 렌더링 되면서 매번 새로 생성된다면 자식입장에서는 props가 변경되기 때문에 함께 렌더링이 발생하게 되는 것이다. 이런 경우 사용하면 memoization된 callback을 전달함으로써 불필요한 렌더링을 방지할 수 있게 되는 것이다. 자식에서 &lt;code&gt;shouldComponentUpdate&lt;/code&gt;를 통해 변경여부를 직접 비교해서 렌더링을 결정하는 효과를 간단히 볼 수 있게 된다. 마찬가지로 callback은 &lt;code&gt;deps&lt;/code&gt;에 따라 변경여부를 결정하기 때문에 주의해서 사용할 필요가 있다.&lt;/p&gt;
&lt;h2&gt;useMemo&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;useCallback&lt;/code&gt;이 memoization된 함수를 반환해 주었다면 &lt;code&gt;useMemo&lt;/code&gt;는 memoization된 값을 반환해 준다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; memoizedValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useMemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;computeExpensiveValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;deps&lt;/code&gt;가 변경된 경우에만 전달된 함수를 호출하여 결과를 반환하기 때문에 cost가 많은 처리를 필요할 때만 수행하도록 할 수 있다. 주의할 점은 &lt;code&gt;useMemo&lt;/code&gt;는 렌더링 중에 실행되기 때문에 계산이 아닌 &lt;code&gt;sideEffect&lt;/code&gt;(위에서 언급한)를 수행하면 안된다는 것이다. 또한 이후 버전에서는 매번 재계산하는 방식을 택할 수도 있기 때문에 &lt;code&gt;useMemo&lt;/code&gt;는 성능 최적화의 목적으로만 사용해야 한다.&lt;/p&gt;
&lt;p&gt;그 외에 &lt;code&gt;useContext&lt;/code&gt;, &lt;code&gt;useReducer&lt;/code&gt;, &lt;code&gt;useLayoutEffect&lt;/code&gt; 등이 있지만 어렵지 않고 사용빈도도 많지 않기 때문에 생략한다. (공식문서를 보면 쉽게 이해할 수 있다.)&lt;/p&gt;
&lt;p&gt;추가로 &lt;code&gt;customHook&lt;/code&gt;을 만들어 사용할 수도 있는데, 공식문서(&lt;a href=&quot;https://reactjs.org/docs/hooks-custom.html&quot;&gt;Building Your Own Hooks – React&lt;/a&gt;)를 보면 간단하게 방법을 알 수 있다. 유용한 custom hook은 &lt;a href=&quot;https://usehooks.com/&quot;&gt;useHooks - Easy to understand React Hook recipes&lt;/a&gt;를 참고하면 작성과 사용법을 아는데 도움이 된다.&lt;/p&gt;
&lt;p&gt;간단하게 hook의 내용과 사용법들을 정리해 봤다. 사실 각각 hook을 사용하면서 고민하거나 헤맸던 부분들에 대해서 정리를 하는게 목적이었으나 그 전에 간단히 기본적인 내용들을 먼저 정리해봤다. 이후에 시간이 되면 &lt;code&gt;useEffect&lt;/code&gt;와 &lt;code&gt;useCallback&lt;/code&gt;의 &lt;code&gt;deps&lt;/code&gt;를 사용하면서 들었던 고민들이나 퍼포먼스를 올리기 위해 하고 있는 삽질들을 다시 한 번 정리해볼 예정이다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[불완전한 완벽주의에 대하여]]></title><description><![CDATA[집에 TV…]]></description><link>https://nukeguys.github.io/life/imperfect-perfectionism/</link><guid isPermaLink="false">https://nukeguys.github.io/life/imperfect-perfectionism/</guid><pubDate>Sun, 21 Jul 2019 15:06:20 GMT</pubDate><content:encoded>&lt;p&gt;집에 TV가 없기도 하고 잘 보지도 않는데 오늘 아침에 우연히 예능을 보게 됐다. 한 때 자주 보던
&lt;a href=&quot;https://page.kakao.com/home?seriesId=51206359&quot;&gt;전지적 참견 시점&lt;/a&gt;이었고, 게스트로 &lt;code&gt;강진주&lt;/code&gt;라는 배우가 나왔다. 별 생각없이 보다가 문뜩 들렸던 말과 상황에 주말에 쳐진 몸을 움직이고 자아성찰(?)을 하는 계기가 됐다.&lt;/p&gt;
&lt;p&gt;간단히 내용을 정리해 보면, 일을 할 때는 정말 열심히 몰입해서 다 쏟아내지만 정작 쉬는 기간에는 뭘 할지 모르겠다고 한다. 이 말에 매니저가 자기계발을 하라면서 이것저것 관심은 두지만 정작 제대로 끝내는 일은 별로 없다고 잔소리를 해댔다. 이 말에 강진주는 자신이 완벽주의가 있어 완벽하게 해야 한다는 생각에 끝맺음을 잘 못한다면서 완벽하지 않을 거면 시작도 하지 말라는 요상한 핑계를 들었다. 그런데 왠지 내가 하는 말인 것 같아 괜히 뜨끔했다. 이후 집이 나오면서 몇달 전에 시작했단 페인팅을 하다가 멈춘 현관문으로 주제가 바꼈다.&lt;/p&gt;
&lt;p&gt;나도 어릴 때 부터 완벽주의가 있었다.(물론 어디서 과학적으로 측정을하거나 테스트를 해 본건 아니지만) 사실 완벽주의라기 보다 강박이었을 수도 있는 것 같다. 양말 양쪽 끝의 높이를 정확히 맞춰서 올려 신느라 한참을 실랑이하고, 휴지를 접거나 종이를 접어도 항상 귀퉁이를 맞춰서 각잡고 접어야 하고, 가족들 다 보던 매직아이를 혼자만 못 본다는 사실에 잠도 안자고 밤새 눈을 모아서 책을 보던 이상한 강박을 가진 아이였다. 분명 긍정적인 영향도 있었을 거다. 뭘 하던 내가 만족할 때 까지, 남 보다 잘 할 때 까지, 끝을 볼 때 까지 해야하는 것도 내가 나를 힘들게 하는 성격이었지만 그래도 그 덕에 이만큼(?) 되지 않았을까 싶긴하다.&lt;/p&gt;
&lt;p&gt;마침 TV에 나왔던 페인팅을 나도 하고 있다. 처음엔 셀프 인테리어를 해보겠다며 맘을 먹고 역시나 잘해보겠다는 의지로 열심히 알아봤다. 그런데 준비를 하면 할 수록 모르는게 생기고 보기는 더 많아지고 그래서 뭘 해야하는지는 더 모르겠더라는게 문제였다. 아는건 더 많아지고 욕심은 더 커졌지만 막상 뭘 어떻게 시작할까, 그래서 뭘 할건데라는 질문에 쉽게 답을 할 수가 없었다. 중간중간 힘든 것도 있지만 이게 잘 된건지 아닌지도 판단할 수가 없었다. 계속해야 하나? 그만해야 하나를 수없이 고민했던 것 같다. 겨우 이정도까지 오는데 두 달이 넘는 시간이 걸렸다. 나머지의 대부분은 불안과 걱정, 생각에 들였을 시간이다.&lt;/p&gt;
&lt;p&gt;내가 생각하는 내 가장 큰 단점 중의 하나가 &lt;code&gt;실행력 부족&lt;/code&gt;이고, 그 이유로 들면서 나를 정의하던 것 중의 하나가 &lt;code&gt;불완전한 완벽주의자&lt;/code&gt;였다. 뭔가를 하면 정말 잘하고 싶고 뛰어나고 싶고 끝을 내고 싶어 한 없이 매달렸는데 시간이 지날수록 그렇게 하기가 점점 더 힘들다는 걸 깨달았다. 그리고 점점 더 잘 할 수 있을까, 어떻게 해야 잘할까를 오래 생각하게되고 그렇게 시간만 흐르다 시작을 못하게 된다.&lt;/p&gt;
&lt;p&gt;과연 완벽함이란 마치 영화 &lt;a href=&quot;https://page.kakao.com/home?seriesId=50504425&quot;&gt;위플래쉬&lt;/a&gt;에서 처럼 지독하게도 지향해야 하는 이상일까, 불완전함을 받아들이고 행복하기 위해 지양해야 하는 현실일까? 두 가지 입장(또는 해석)에 대한 책들도 많고 강의나 이야기들도 주변에서 쉽사리 들을 수 있다. 세상에 완전함은 없다는 생각으로 현실에 만족하자고 하지만 막상 내가 하는 일에 대해서는 완벽을 추구하는 모순적인 몹쓸 습관이 오히려 완벽함을 추구하는데 방해가 되고 있지 않은가 하는 생각이 든다.&lt;/p&gt;
&lt;p&gt;또 한편으로 완벽함이란 무엇인가를 고민해보게 된다. 그냥 단순하게 생각하면 완벽함이란 대부분 결과에 대한 정의로 보여진다. 하지만 완벽해지고 싶다는 것은 단순 어떤 사건의 결과만을 원하는 것이 아니라 완벽한 존재에 대한 추구일 것 이다. 즉 시점이 아닌 시간과 경험, 존재 자체에 대한 의미로 보는게 맞는 듯 싶다. 우리가 어떤 존재에 대해 닮고 싶어 하거나 부러워 하는 것은 그 사람이 보여준 하나의 특정 결과가 아닌 그 사람 자체가 되고 싶은 것이기 때문이다.&lt;/p&gt;
&lt;p&gt;결국 완벽함을 결과론적으로 이해하고 그 결과를 위한 수단으로 완벽함이 사용되는 완벽주의는 절대 완벽해질 수 없는 지양해야하는 대상이 되어야 하지 않을까 싶다. 완벽함을 추구해 나가는 과정들을 통해 그나마 우리는 완벽에 가까워 질 수 있고 불완전함을 받아들일 수 있지 않을까.&lt;/p&gt;
&lt;p&gt;이렇게 다시금 생각을 정리하고 마음을 다잡고, 결국 미뤄왔던 페인팅도 마무리하고 블로그 글도 하나 채웠다. 최종적으로 변화된 집이 아닌, 채워진 글의 갯수가 아닌 이 과정을 통해 내가 조금 더 완벽함에 가까워 지고 있는 걸거다. 조금 더 잘 쓰고 싶지만 피곤함에 글을 정리하면서… 떠오른 말로 마무리 한다. “우리 모두는 완벽하게 불완전하다”&lt;/p&gt;</content:encoded></item><item><title><![CDATA[첫마디를 행운에 맡기지 마라]]></title><description><![CDATA[대한민국 최초의 국제회의 통역, 그리고 역대 대통령…]]></description><link>https://nukeguys.github.io/book/firstword-9788901222035/</link><guid isPermaLink="false">https://nukeguys.github.io/book/firstword-9788901222035/</guid><pubDate>Sun, 14 Jul 2019 15:47:35 GMT</pubDate><content:encoded>&lt;p&gt;대한민국 최초의 국제회의 통역, 그리고 역대 대통령 5인의 통역을 총괄한 최정화 통역사의 저서이다.&lt;/p&gt;
&lt;p&gt;처음 이 책을 보게된 건, 우연히 서점에 가서 어떤 책을 읽을까 구경하던 중이었다. 심플한 표지에 그리고 제목에 이끌려서 잠깐 내용을 보다가 구매까지 하게 되었다. 말을 업으로 삼는 분의 글이라 그런지 책도 군더더기가 없이 깔끔했던 것 같다. 보이는 부분도 내용도.&lt;/p&gt;
&lt;p&gt;말에 대해 고민을 많이 하던 시기여서 더 읽어보고 싶기도 했고 내용도 읽다보니 계속 읽히게 되는 힘이 있는 것 같다.&lt;/p&gt;
&lt;p&gt;읽기 시작한지는 조금 지나서 앞 부분의 내용들이 자세히 기억나지는 않지만 책에서 전달하려고 하는 내용은 상당히 의미 있게 와닿았던 것 같다. 단지 말을 떠나 소통에 대해. 누군가를 대함에 있어 그 사람에 대한 말을 넘어 자세나 태도, 마음가짐까지 모든 것에 대해 말하는 것 같았다.&lt;/p&gt;
&lt;p&gt;말에는 그 만큼의 무게가 닮겨 있고, 말에도 언향이라는 향이 있으며, 말 하는 사람의 지식과 경험, 인품이 들어가기 때문에 ‘나’라는 사람을 비춘다는 말이 말의 중요성을 다시 한 번 느끼게 해준다.&lt;/p&gt;
&lt;p&gt;그리고 끝 부분에 와닿았던 문구가 있었다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;“남보다 빨리 성공해서 오랜 시간에 걸쳐 내려오는 삶보다 평생에 걸쳐 천천히 성장의 계단을 오르는 삶이야말로 괜찮은 삶의 운영 방식일지도 모른다.”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;요즘 많이 고민하는 부분과 관련이 있어보여 더 와닿는게 컸던 것 같다. 책을 읽으면서 스스로 많이 반성도 하게 되었던 것 같고 여러모로 좋았던 책이다. 잊혀질 때 쯤 다시 한 번씩 꺼내서 읽어보면 좋을 것 같다.&lt;/p&gt;
&lt;p&gt;카카오페이지 : &lt;a href=&quot;https://page.kakao.com/home?seriesId=50951010&quot;&gt;https://page.kakao.com/home?seriesId=50951010&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[나는 달린다.]]></title><description><![CDATA[몇 달 전부터 준비하던 마라톤이 드디어 다가왔다. 피로는 좀 쌓여있었지만, 컨디션을 좋게 유지하기 위해 들었던 팁에 따라 전날 혼자 스파게티도 먹고 당일 아침엔 일어나자마자 에너지바와 포카리로 에너지를 미리 채웠다. 소집은…]]></description><link>https://nukeguys.github.io/life/i-run/</link><guid isPermaLink="false">https://nukeguys.github.io/life/i-run/</guid><pubDate>Sat, 02 Mar 2019 13:27:29 GMT</pubDate><content:encoded>&lt;p&gt;몇 달 전부터 준비하던 마라톤이 드디어 다가왔다.&lt;br&gt;
피로는 좀 쌓여있었지만, 컨디션을 좋게 유지하기 위해 들었던 팁에 따라 전날 혼자 스파게티도 먹고 당일 아침엔 일어나자마자 에너지바와 포카리로 에너지를 미리 채웠다.&lt;br&gt;
소집은 8시 였으나 행사 시간을 고려하고 날도 쌀쌀했기 때문에 어느정도 여유를 갖고 출발했다.&lt;br&gt;
도착해서 주변을 보니 참가자들이 엄청 많았고, 첫 참가라 그런지 살짝 들뜬 마음으로 동료들과 시작을 기다렸다.
순서대로 출발을 하는데 참가자에 비해 출발선이 비좁았고 통제가 잘 되지 않아서 인지 너무 혼잡했다.&lt;br&gt;
그래서 이미 출발 했어야 할 하프 주자들이 10km 출발 전에 비집고 들어와서 뛰기도 했는데 좀 더 신경을 써줬으면 좋겠다 싶었다.&lt;/p&gt;
&lt;p&gt;드디어 출발, 참가자가 가장 많은 코스인 만큼 출발이 쉽지가 않았다. 사방이 사람이라 피해서 나가느라 초반엔 좀 정신이 없기도 했다.&lt;br&gt;
폰도 두고 뛰었고 스포츠 워치도 없어서 페이스를 알 수가 없어 초반에는 동료들과 속도를 맞춰서 적당히 따라갔다.&lt;br&gt;
그러다 초반 3km 정도가 지나면서는 내 페이스를 잡아보려고 앞만 보고 속도를 조금 올려서 뛰기 시작했다. 아마 페이스를 알 수 있었으면 평소보다 빠르구나 싶어서 조절을 했을 수도 있을 것 같은데 느낌상으로만 뛰다보니 연습 때 속도로 뛰어도 실제 체감으로는 느리게 느껴졌다. 아마 기록이 예상보다 잘 나온 이유가 이래서이지 싶다.&lt;/p&gt;
&lt;p&gt;4km 이정표가 보이면서 이미 반환하고 6km를 뛰고 있는 선두 주자가 보였다. 이미 그만큼이나 뛰었는데도 엄청난 속도로 달려오고 있었다. 오히려 워낙 넘사벽이라 뭐 잘 뛰는구나 생각하고 그냥 지나쳤다.&lt;/p&gt;
&lt;p&gt;5km가 근접해 오면서 실제로 10km를 완주해 본 적이 없기 때문에 후반부에 체력이 떨어지는 상황에 걱정이 많이 됬었다. 그래서 나름 적당히 힘든 만큼만 유지하면서 반환점을 지나고 혼자 머릿속으로 마지막 2~3km에 속도를 내자 생각하고 달렸다.
개인적으로는 ‘습습후후’하고 끊어서 쉴 수 있으면 아직은 여유가 있는 시점인 듯 했다. 그러다 조금씩 힘이 들면 들숨의 간격이 모호해지고 결국은 ‘습~후후’나 ‘습~후~‘가 되는 것 같다. 그래서 중반까지는 습습후후를 유지할 만큼만 페이스를 유지했다.&lt;/p&gt;
&lt;p&gt;6km를 지나면서 부터는 힘들다는 생각이 들기 시작했다. 주변에 같이 달리는 사람들도 지친 모습이 조금씩 보이기 시작했고 이 와중에 속도를 내는 사람들도 있었다. 속도를 내기엔 아직 아닌 것 같아 느려지지만 말자는 생각으로 앞사람들을 따라갔다.&lt;/p&gt;
&lt;p&gt;어느정도 지나고 종합운동장이 보였고 완주는 하겠구나 싶었는데 남은 거리가 가늠이 되지 않았다. 속도를 내고 싶지만 숨은 차고 잘못하면 막판에 쳐질 것 같았다. 그러다 마침 앞에 뛰는 한 여성분이 적당히 비슷한 속도로 달리고 있었다. 그래서 따라가다 후반에 잡아보자는 생각으로 바짝 붙어 뛰었다. 그러다 서로 의식이 된건지 몇 번을 서로 앞으로 치고 나가기도 했다.&lt;/p&gt;
&lt;p&gt;그렇게 달리다 보니 운동장쪽으로 진입하는 터널이 보였다. 지나면 운동장이 바로 나오는 줄 알고 착각해서 잠시 속도를 올렸는데 아직 좀 남아있는데다 심장이 무리가 가는게 느껴져서 다시 속도를 늦췄다. 아직 다리는 멀쩡한데 더 빨리 뛸 수 없는게 좀 아쉬웠다.
그리고 좀 지나니 정말 운동장 입구가 보였고 입구를 지나치고 결승선이 보이자 마자 미친 듯이 달렸다. 그 때 따라잡은 사람들이 5~6명은 되는 것 같다. 한 분은 정말 쓰러지기 직전 모습으로 들어가고 있어서 안타깝기도 했지만 빠르게 옆을 지나쳐서 들어갔다.&lt;/p&gt;
&lt;p&gt;결승선을 통과하자 기록측정 소리가 삐하고 들렸고 바로 주저 앉아서 시계를 돌아봤다. 그 때가 아마 49분이 살짝 넘었던 것 같다. 그래서 조금만 더 뛰어서 48분대로 들어올 걸 아쉬운 마음으로 기록증을 받았는데, 기록은 출발선을 통과한 시점부터 측정이 되는지라 시계보다는 좀 더 빠르게 나왔고 최종기록은 48분 24초로 되어 있었다. 동료들과 얘기했던 55분 목표와 준비하면서 개인적으로 세웠던 50분 목표를 달성해서 만족스러우면서도 한편으로는 조금 만 더… 라는 아쉬움도 살짝 남았었다. 이 아쉬움이 다음 마라톤을 참가하게 되는 계기가 되지 않을까 싶다.&lt;/p&gt;
&lt;p&gt;이번 생에 첫 마라톤을 참가하면서 놀랐던 것은 생각보다 마라톤에 참가하는 사람들이 많다는 것, 그리고 잘 달리는 사람들도 많은데 그 중에 여자들의 비중이 적지 않다는 사실에 두번 놀랐다. 83세에 풀코스를 매 주 달리는 할아버지도 계시다고 하니 대단한 일이다.&lt;/p&gt;
&lt;p&gt;나름 준비한다고 매주 연습도하고 했는데 처음 치고는 결과도 만족스러워서 다행이기도 하고, 한 편으로는 연습 때 마다 느꼈지만 다리는 더 달릴 수 있는 상태였는데 그러지 못한게 아쉬웠다. 20대에는 다리가 저릴 때까지 뛰어 다녀도 그런 적은 없었는데… 헬스장 다니면서 다리 근력운동은 병행 했는데 너무 오랫동안 운동을 쉰 탓에 심폐지구력은 많이 떨어진 것 같다. 오랜만에 달리는 맛을 느껴봤고 마라톤에 대한 흥미도 생긴만큼 올해 목표는 10km 2번 참가였지만, 매달은 아니더라도 격달로라도 참가해 볼까 싶다. (이번 대회 100위가 43분인가 45분인가 였던 것 같은데 올 해 안에 45분을 목표로)&lt;/p&gt;
&lt;p&gt;그래서 앞으로도 나는 달릴 예정이다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[[번역] TypeScript의 Do's and Don'ts]]></title><description><![CDATA[Do’s and Don’ts General Types Number, String, Boolean, and Oject Don’t
Number, String, Boolean 또는 Object 타입을 절대 사용하지 마라. 이 타입들은 JavaScript…]]></description><link>https://nukeguys.github.io/dev/ts-do-and-dont/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/ts-do-and-dont/</guid><pubDate>Mon, 11 Feb 2019 13:52:55 GMT</pubDate><content:encoded>&lt;h1&gt;Do’s and Don’ts&lt;/h1&gt;
&lt;h2&gt;General Types&lt;/h2&gt;
&lt;h3&gt;Number, String, Boolean, and Oject&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Don’t&lt;/em&gt;&lt;/strong&gt;
&lt;code&gt;Number&lt;/code&gt;, &lt;code&gt;String&lt;/code&gt;, &lt;code&gt;Boolean&lt;/code&gt; 또는 &lt;code&gt;Object&lt;/code&gt; 타입을 절대 사용하지 마라. 이 타입들은 JavaScript 코드에서 대부분 적절하지 않게 사용되는 non-primitive boxed object&lt;sup id=&quot;fnref-1&quot;&gt;&lt;a href=&quot;#fn-1&quot; class=&quot;footnote-ref&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;들을 의미한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* WRONG */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;s&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; String&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Do&lt;/em&gt;&lt;/strong&gt;
&lt;code&gt;number&lt;/code&gt;, &lt;code&gt;string&lt;/code&gt; 그리고 &lt;code&gt;boolean&lt;/code&gt;을 사용하라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* OK */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;s&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;Object&lt;/code&gt; 대신 non-primitive인 &lt;code&gt;object&lt;/code&gt; 타입을 사용하라 (&lt;a href=&quot;https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-2.html#object-type&quot;&gt;TypeScript 2.2&lt;/a&gt;에 추가됨).&lt;/p&gt;
&lt;h4&gt;Generic&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Don’t&lt;/em&gt;&lt;/strong&gt;
타입 매개변수를 사용하지 않는 generic 타입을 사용하지 마라. 더 자세한 내용은 &lt;a href=&quot;https://github.com/Microsoft/TypeScript/wiki/FAQ#why-doesnt-type-inference-work-on-this-interface-interface-foot---&quot;&gt;TypeScript FAQ page&lt;/a&gt;에서 확인.&lt;sup id=&quot;fnref-2&quot;&gt;&lt;a href=&quot;#fn-2&quot; class=&quot;footnote-ref&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h2&gt;Callback Types&lt;/h2&gt;
&lt;h3&gt;Return Types of Callbacks&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Don’t&lt;/em&gt;&lt;/strong&gt;
값이 무시될 콜백의 리턴타입으로 &lt;code&gt;any&lt;/code&gt;를 사용하지 마라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* WRONG */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Do&lt;/em&gt;&lt;/strong&gt;
값이 무시될 콜백의 리턴타입으로 &lt;code&gt;void&lt;/code&gt;를 사용하라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* OK */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Why&lt;/em&gt;&lt;/strong&gt;
확인되지 않는 방법으로 &lt;code&gt;x&lt;/code&gt;의 리턴타입을 사용하는 실수를 방지해주기 때문에 &lt;code&gt;void&lt;/code&gt;를 사용하는 것이 더 안전하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; k &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// oops! meant to do something else&lt;/span&gt;
  k&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doSomething&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// error, but would be OK if the return type had been &apos;any&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Optional Paameters in Callbacks&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Don’t&lt;/em&gt;&lt;/strong&gt;
의도한 경우를 제외하고는 선택적 매개변수를 사용하지 마라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* WRONG */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Fetcher&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elapsedTime&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이것은 매우 분명한 의미를 갖는다. : &lt;code&gt;done&lt;/code&gt; 콜백은 1개 또는 2개의 매개변수를 가지고 호출된다. 작성자는 아마 콜백이 &lt;code&gt;elapsedTime&lt;/code&gt; 매개변수에 대해 신경쓰지 않는다는 것을 의도했을 것이다. 그러나 그것을 위해 선택적 매개변수로 만들 필요는 없다. - 더 적은 매개변수를 받는 콜백을 전달하는 것은 언제나 적합하다.&lt;sup id=&quot;fnref-3&quot;&gt;&lt;a href=&quot;#fn-3&quot; class=&quot;footnote-ref&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Do&lt;/em&gt;&lt;/strong&gt;
콜백의 파라미터를 필수(non-optional) 파라미터로 작성하라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* OK */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Fetcher&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;getObject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elapsedTime&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Overloads and Callbacks&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Don’t&lt;/em&gt;&lt;/strong&gt;
콜백만 다른 별도의 타입 시그니처(overload)를 작성하지 마라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* WRONG */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;beforeAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; timeout&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;beforeAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;done&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DoneFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  timeout&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Do&lt;/em&gt;&lt;/strong&gt;
모든 것을 포함하는 타입 시그니처 하나만 작성하라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* OK */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;beforeAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;done&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; DoneFn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  timeout&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Why&lt;/em&gt;&lt;/strong&gt;
콜백에서 매개변수를 무시하는 것은 언제나 적합하다.(역자:&lt;sup id=&quot;fnref-3&quot;&gt;&lt;a href=&quot;#fn-3&quot; class=&quot;footnote-ref&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;과 같은 의미이다.) 따라서 더 간단한 타입 시그니처는 필요하지 않다. 간단한 타입 시그니처를 제공하는 것은 타입이 잘못된 함수가 첫번째 함수 시그니처와 매칭되어 전달되는 것을 허용한다.&lt;sup id=&quot;fnref-4&quot;&gt;&lt;a href=&quot;#fn-4&quot; class=&quot;footnote-ref&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h3&gt;Function Overloads&lt;/h3&gt;
&lt;h4&gt;Ordering&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Don’t&lt;/em&gt;&lt;/strong&gt;
더 구체적인 시그니처 전에 일반적인 시그니처를 두지 마라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* WRONG */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLDivElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; myElem&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLDivElement&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;myElem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// x: any, wat?&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Do&lt;/em&gt;&lt;/strong&gt;
더 구체적인 시그니처 다음에 일반적인 시그니처를 두도록 정렬하라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* OK */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLDivElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; myElem&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; HTMLDivElement&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;myElem&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// x: string, :)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Why&lt;/em&gt;&lt;/strong&gt;
TypeScript는 함수 호출을 결정할 때 처음 매칭되는 시그니처를 서낵한다. 먼저 나오는 시그니처가 뒤의 시그니처보다 더 일반적일 경우, 뒤에 나오는 것은 완벽히 가려지고 호출될 수 없다.&lt;/p&gt;
&lt;h3&gt;Use Optional Parameters&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Don’t&lt;/em&gt;&lt;/strong&gt;
뒤에 나오는 매개변수들만 다른 경우 여러 시그니처를 작성하지 마라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* WRONG */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Example&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;one&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;one&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; two&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;one&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; two&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; three&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Do&lt;/em&gt;&lt;/strong&gt;
가능한 경우에는 선택적 매개변수를 사용하라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* OK */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Example&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;one&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; two&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; three&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 방법은 모든 시그니처의 리턴타입이 같은 경우에만 가능하다는 것을 주의하라.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Why&lt;/em&gt;&lt;/strong&gt;
여기엔 두 가지 중요한 이유가 있다.&lt;/p&gt;
&lt;p&gt;TypeScript는 source의 매개변수로 target의 시그니처 호출할 수 있는지, 그리고 관련없는 매개변수가 허용되는지를 보고 시그니처 호환성을 결정한다. 예를 들어, 이 코드는 시그니처가 선택적 매개변수를 사용하여
정확히 작성된 경우에만 버그를 발생시킨다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; c&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Example&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 오버로딩으로 작성되어 있으면, OK -- 첫 번째 시그니처를 사용&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 선택적 매개변수로 작성되어 있으면, 에러&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;diff&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;두 번째 이유는 TypeScript의 &lt;code&gt;stric null checking&lt;/code&gt; 기능을 사용하는 경우이다. JavaScript에서 명시되지 않은 매개변수는 &lt;code&gt;undefined&lt;/code&gt;로 표현되기 때문에, 일반적으로 선택적 매개변수를 가진 함수에 &lt;code&gt;undefined&lt;/code&gt;를 명시적으로 전달하는 것이 좋다. 예를 들어 이 코드는 strict null을 사용하는 경우에도 문제없다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Example&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 오버로딩으로 작성되어 있으면, `undefined`를 `string` 타입으로 전달하기 때문에 에러&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 선택적 매개변수로 작성되어 있으면, 정상&lt;/span&gt;
x&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;diff&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;something&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; undefined &lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;hour&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Use Union Types&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Don’t&lt;/em&gt;&lt;/strong&gt;
오직 하나의 매개변수 타입이 다른 경우에는 오버로딩을 사용하지 마라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* WRONG */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Moment&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;utcOffset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;utcOffset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Moment&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;utcOffset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Moment&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Do&lt;/em&gt;&lt;/strong&gt;
가능한 경우에는 유니온 타입을 사용하라.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/* OK */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Moment&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;utcOffset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;utcOffset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Moment&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;시그니처의 리턴타입이 다르기 때문에 &lt;code&gt;b&lt;/code&gt;를 선택적 매개변수로 하지 않은 것을 주의하라.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Why&lt;/em&gt;&lt;/strong&gt;
이것은 함수에 값을 그대로 전달하는 사람들에게 중요하다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;ts&quot;&gt;&lt;pre class=&quot;language-ts&quot;&gt;&lt;code class=&quot;language-ts&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;x&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 오버로딩으로 작성되어 있으면, 에러&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 유니온 타입으로 작성되어 있으면, 정상&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;moment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;utcOffset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-1&quot;&gt;
&lt;p&gt;primitive타입이 아닌 boxing된 object형 타입. 따라서 &lt;code&gt;Numer.MAX_VALUE&lt;/code&gt;나 &lt;code&gt;Number.isSafeInteger()&lt;/code&gt;등으로 사용가능하다.&lt;/p&gt;
&lt;a href=&quot;#fnref-1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-2&quot;&gt;
&lt;p&gt;generic으로 선언하고 내부에서 사용하지 않는 경우를 만들지 말라는 의미로, FAQ 페이지를 보면 해당 타입 매개변수를 사용하는 부분이 없으면 타입추론이 제대로 이루어지지 않는다고 한다.&lt;/p&gt;
&lt;a href=&quot;#fnref-2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-3&quot;&gt;
&lt;p&gt;매개변수의 개수에 대한 함수의 타입 호환성에서 할당받는 함수의 매개변수가 더 많은 경우는 호환이 가능하기 때문이다. 자주 사용하는 &lt;code&gt;map()&lt;/code&gt;,&lt;code&gt;filter()&lt;/code&gt; 같은 함수에 매개변수 하나만 사용하는 콜백을 넘기는 경우를 생각하면 쉽다.&lt;/p&gt;
&lt;a href=&quot;#fnref-3&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;li id=&quot;fn-4&quot;&gt;
&lt;p&gt;호출하는 쪽에서는 항상 정해진 수의 매개변수를 전달하고 콜백에서 필요한 만큼만 받아서 사용해야 하는데, 매개변수 개수가 적은 시그니처가 있으면 호출하는 쪽에서 매개변수를 적게 전달하는 실수가 허용된다.&lt;/p&gt;
&lt;a href=&quot;#fnref-4&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[말하는 대로 기록하는 대로, 2019년 목표]]></title><description><![CDATA[블로그를 만들어서 회고를 먼저 작성하고 싶었으나 늦어지는 바람에 건너 뛰었고, 새해 목표도 미루다 이제서야 정리를 한 번 해본다.
정말 다사다난 했던 201…]]></description><link>https://nukeguys.github.io/life/2019-as-what-i-say/</link><guid isPermaLink="false">https://nukeguys.github.io/life/2019-as-what-i-say/</guid><pubDate>Wed, 06 Feb 2019 10:30:25 GMT</pubDate><content:encoded>&lt;p&gt;블로그를 만들어서 회고를 먼저 작성하고 싶었으나 늦어지는 바람에 건너 뛰었고, 새해 목표도 미루다 이제서야 정리를 한 번 해본다.
정말 다사다난 했던 2018년 회고를 했으면 무슨 내용이 있었을까 싶지만 기록으로 남기지 않는 편이 좋은 것 같기도 하고…&lt;/p&gt;
&lt;p&gt;정작 조금만 지나면 잊어 버리고 일 년을 보내지만 매년 해가 바뀔 때 마다 큼직한 목표들을 세운다.
올 해는 크게 분류를 하고 분류마다 하위에 구체적은 목표를 정해봤다. 그리고 그 중에 반드시 해야 할 것들을 한 가지씩 선택해서 꼭 해보려고 한다. 계획이란 너무 빡빡하면 반드시 틀어지는 법이니, 나름 여유를 두기 위해서다.&lt;/p&gt;
&lt;p&gt;목표랄 것 도 없지만 일단 가장 처음 적어놨던 건 &lt;code&gt;이사하기&lt;/code&gt;.
나름 교통도 좋고 살기도 좋아서 능력만 되고 기회만 된다면 잠실에 터를 잡고 싶지만, 1시간이 넘게 버려지는 출퇴근 시간이 너무 싫다. 더구나 다른 조건 따질 필요 없는 혼자인 자취생에게는 가까운게 최고인 것 같다.
이미 이것저것 알아보느라 머리 아프지만 나름 지금껏 만족할 집들을 찾아 왔으니 이번에도 기대를 해 본다.&lt;/p&gt;
&lt;p&gt;나머지는 크게 &lt;code&gt;운동&lt;/code&gt;, &lt;code&gt;공부&lt;/code&gt;, &lt;code&gt;기타&lt;/code&gt; 세 분류로 나눠봤다.&lt;/p&gt;
&lt;p&gt;운동은 다시 &lt;code&gt;10km 마라톤 2회&lt;/code&gt;, &lt;code&gt;한라산 등반&lt;/code&gt;, &lt;code&gt;헬스&lt;/code&gt;로 잡았다.&lt;br&gt;
우연히 회사 동료들을 따라 3월 1일 10km 마라톤을 예약했고, 준비하다보니 나름 뛰는 재미가 있어 가을 쯤에 한 번 더 해보려고 한다. 한라산은 등산을 해보고 싶었는데 제주도도 갈 겸 좋다는 얘기도 들어서 겸사겸사 정했고, 헬스는 작년 연말부터 열심히 시작했다가 문을 닫는 바람에 다시 못하게 되버렸다. 대신 매일이 아니더라도 꾸준히 할 수 있는 운동을 하나 찾아서 해보려고 한다. 예를 들면 클라이밍이나 전에 배웠던 복싱이나 등등.&lt;/p&gt;
&lt;p&gt;두 번째 공부는 &lt;code&gt;블로그(1post/1week)&lt;/code&gt;, &lt;code&gt;독서(월 1권)&lt;/code&gt;, &lt;code&gt;개발 공부&lt;/code&gt;로 정해봤다.&lt;br&gt;
블로그는 나름 열심히 만들어서 시작한 만큼 유지하고 싶기도 하고 다른 목표들에 대한 기록도 할 겸 꾸준히 해보고 싶다. 그래서 일주일에 글 하나씩 써보자 싶었고, 이 목표를 달성하려면 다른 것들을 해야할 테니 시너지를 낼 수 있지 않을까 생각된다. 모를 일이지만… 그리고 지금의 내 생각들을 남겨 놓고 싶었다. 예전 티스토리에 썼던 몇 안되는 글이 다시 읽으니 감회가 새로웠다. 독서는 항상 넣어두는 목표지만 항상 실패했던… 그래서 장르불문 그냥 양으로 달성하는 것을 일단 목표로 잡았다. 개발은,,, 아직 두루뭉실하다. 해야할 게 너무나 많기 때문에. 일단은 일과 관련된 front-end 영역과 알고리즘 공부(python)를 생각해봤다. 평일에 헬스를 못하게 된 만큼 대신 공부 계획을 세워서 진행 해 볼까 싶다.&lt;/p&gt;
&lt;p&gt;마지막은 말그대로 기타 분류하기 애매한 것들을 모아서 정해봤다. &lt;code&gt;취미 1개&lt;/code&gt;, &lt;code&gt;카카오페이지 월 1작품 보기&lt;/code&gt;, &lt;code&gt;vim 익히기&lt;/code&gt;.&lt;br&gt;
뭔가 개발이 아닌 취미로 시작해서 제2의 직업까지 갈 수도 있지 않을까 싶은, 평소에 하고 싶었던 것들 중 하나를 취미로 시작해 볼까 한다. 예를 들면 가죽 공예, 보컬 트레이닝, 알콜(?)에 대한 공부 -맥주, 와인, 위스키 뭐 이런 것들-, 요리 자격증 같은 것이랄까. 뭘 할지는 아직 미정이다. 그 다음 페이지 월 1작품 보기는 사실 내가 안쓰는 서비스를 만드는 건 싫기도 하고 만드는 사람이 사용하는 사람보다 모른다는 게 좀 부끄럽다는 생각을 한다. 그래서 전부터 항상 일과 관련 된 제품이나 서비스는 틈나는 대로 쓰고 익히려고 했다. 그래서 여러모로 도움이 되지 않을까 싶어 덤으로 같이 넣었다. vim은 부가적인 목표랄까. 되면 좋고 아니면 마는 부담없이 도전해보기 위해 넣었다. 전에도 한 번 시도를 해봤으나 부담감을 가지고 하다보니 더 안되고 효율도 더 떨어진다. 그냥 일하면서 틈틈히 필요한 부분들만 익히고 어느정도 익숙해지면 연말에는 키보드를 HPHK으로 바꿔볼까 싶다.&lt;/p&gt;
&lt;p&gt;아직 뭔가 구체적이지 못한 부분이 많긴 하지만, 너무 빡빡하면 오히려 잘 안하게 되는걸 아는지라 일단은 여기까지하고 차차 다듬고 진행해 볼 생각이다. 연말 회고가 기대되는 건 기분 탓이겠지.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;2019 새해 목표&lt;/strong&gt;&lt;br&gt;
이사&lt;br&gt;
운동 - 10km 마라톤 2회, 한라산 등반, 지속적인 운동&lt;br&gt;
공부 - 주1회 블로그 포스팅, 월 1권 독서, 개발 공부&lt;br&gt;
기타 - 취미 1개, 카카오페이지 월 1작품 보기, vim 익히기&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[우리는 달빛에도 걸을 수 있다.]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/book/moonlight-1195538227/</link><guid isPermaLink="false">https://nukeguys.github.io/book/moonlight-1195538227/</guid><pubDate>Sun, 27 Jan 2019 03:15:44 GMT</pubDate><content:encoded>&lt;p&gt;읽기 시작한 지 거의 두 달이 넘어서 마지막 장을 덮었다. &lt;a href=&quot;https://brunch.co.kr/@daljasee#articles&quot;&gt;브런치&lt;/a&gt;에서 우연히 보게 된 작가의 글이 좋아 구독을 시작했다. 그러다 책이 출간했다는 소식을 접하고 얼마 후 서점에 들렀다.&lt;/p&gt;
&lt;p&gt;내가 한 때 많이 읽던 자기개발서들을 보지 않게 된건 언제부턴가 강요스럽고 상업적인 느낌을 받으면서 부터다. 뻔한 내용들로 성공한 사람들은 이렇게 살았으니 너희들도 이렇게 살아야 한다고 말하는 것 같았다. 그리고 이후엔 그냥 에세이 같은 글들이 좋았다. 주로 책보다는 블로그나 브런치를 통해 그런 짤막한 글 들을 읽었다.&lt;/p&gt;
&lt;p&gt;나와 별반 다르지 않은 주변의 사소하고도 평범한 일상, 그리고 그에 대한 작가만의 느낌이나 생각. 무언가를 기억하려고도 머릿속에 담으려 하지 않아도 되고 읽는 순간 순간 떠오르는 생각과 느낌을 공감하고 받아들이면 충분했다.&lt;/p&gt;
&lt;p&gt;이 작가의 글도 그랬다. 읽고 있으면 자연스레 미소가 나기도 슬퍼지기도 했다. 물론 작가가 그래야 한다라기보다 글을 읽으면서 내가 느끼는 자연스런 감정들이었다. 다 읽고나서 뭔가를 배웠습니다하고 정리할 필요 없이 그저 그렇게 책장을 덮으면 그만이나 책의 여운은 남아 기분 좋은 그런 책이었다.&lt;/p&gt;
&lt;p&gt;책을 덮기 전에 나온 글들을 적어본다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;… 어두운 게 나쁜 건 아니다. 우리가 부정적이라고 느끼는 우울함, 죽고 싶다는 마음 같은 것들은 유독 이상한 사람들의 전유물이 아니다. 살아가는 누구나 한 번쯤은 어둠에 홀리고, 죽음을 떠올리기도 한다. 어둠은 해가 지면 찾아오는 짙은 밤처럼 당연하고도 자연스러운 삶의 일부분이다. 우리는 언제라도 어둠 속에 머무를 수 있고, 원한다면 그곳에서 내내 깊은 잠을 잘 수도 있다.&lt;br&gt;
예전의 나처럼, 그리고 청년처럼, 어둠 속에 머물러 있는 사람이 있다면 말해주고 싶다. 괜찮다고. 다만 잠시만 그곳에 머무르라고. 어둠 속을 걷다보면 어딘가에서 당신을 이끌어 줄 빛을 만날 거라고.&lt;br&gt;
어둠 속이 너무도 희미해 잘 보이지 않는다고 걱정할 필요는 없다.&lt;br&gt;
우리는 달빛에도 걸을 수가 있으니까. - 달빛에도 걸을 수 있다 -&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;… 그대로 지하철 역사 안을 걸었다. 지나가는 사람들, 서성이는 사람들, 누구가를 기다리는 사람들, 무언가를 파는 사람들, 멍하게 서 있는 사람들. 많은 사람을 바라보는데 묘한 기분이 들었다. 이들도 저마다의 사연과 삶이 있겠지. 모두가 착하지 않아도, 모두가 친절하지 않아도 괜찮았다. 꼭 보이는 얼굴이 전부는 아니니까. 무표정으로 종종걸음을 걸으며, 적당한 거리를 유지한 채 서로 스쳐 가는 타인들에게 나는 무한한 애정을 느꼈다. 경이로움도 함께.&lt;br&gt;
아마도 우린 이렇게 우주를 만드는 걸까. 혼자라도 좋았다. 무수한 사람들 속에 포함된 하찮은 존재라도 좋았다. 나는 작고 작은 우주 알갱이가 되어 두둥실, 무중력으로 걷는 기분이 들었다. 글을 쓰기 시작하고 나서는 이런 기분을 거의 매일 느끼고 있다. 정말 감사한 일이다. - 우리는 이렇게 살아가고 있었다 -&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[[TIL] GoAccess로 nginx access 로그 분석 겉핥기]]></title><description><![CDATA[MS에서도 엣지에 크로미움을 사용한다고 발표한 상황에서, 팀에서도 IE10을 더이상 지원하지 않기 위한 근거로 서비스 접속 대한 브라우저 통계가 필요했다. 가이드를 통해 nginx의 access 로그와 GoAccess…]]></description><link>https://nukeguys.github.io/dev/goaccess-analyzer/</link><guid isPermaLink="false">https://nukeguys.github.io/dev/goaccess-analyzer/</guid><pubDate>Thu, 24 Jan 2019 13:50:41 GMT</pubDate><content:encoded>&lt;p&gt;MS에서도 엣지에 크로미움을 사용한다고 발표한 상황에서, 팀에서도 IE10을 더이상 지원하지 않기 위한 근거로 서비스 접속 대한 브라우저 통계가 필요했다.&lt;br&gt;
가이드를 통해 nginx의 access 로그와 &lt;a href=&quot;https://goaccess.io/&quot;&gt;GoAccess&lt;/a&gt;에 대해 알게 되었고 이를 사용하여 간단하게 로그 분석을 해봤다.
단순하게 사용만 해본 터라 깊이는 없지만 오랜만에 사용해본 쉘 명령어도 되짚어 볼 겸 간단하게 정리해 본다.&lt;/p&gt;
&lt;p&gt;우선 서버에서 원격으로 접근 가능한 위치에 받아올 로그 파일을 미리 복사해 두고 scp를 통해 내려 받아 압축을 해제한다. (회사에서는 일주일 단위로 로그를 압축하여 백업하고 있었고, 실 서비스 서버이므로 로컬 PC로 로그파일을 내려 받아서 진행했다.)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# scp로 로그파일 내려받기&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;scp&lt;/span&gt; 계정@호스트:파일경로 저장할파일이름   &lt;span class=&quot;token comment&quot;&gt;# 원하는 파일만&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;scp&lt;/span&gt; -r 계정@호스트:폴더경로 ./ &lt;span class=&quot;token comment&quot;&gt;# 폴더 통째로&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# gzip/gunzip으로 압축 해제하기&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;gzip&lt;/span&gt; -d access.log-xxxxxxxx.gz &lt;span class=&quot;token comment&quot;&gt;# (gunzip access.log-xxxxxxxx.gz) 원하는 파일만&lt;/span&gt;
gunzip -r ./accesslog &lt;span class=&quot;token comment&quot;&gt;# 폴더의 압축파일들을 한 번에 해제&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;로그파일이 준비됐으니 GoAccess를 설치한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;brew &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; goaccess&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GoAccess로 분석을 하기위해 로그파일의 포맷을 설정파일에 명시해야 한다. &lt;code&gt;time-format&lt;/code&gt;, &lt;code&gt;date-format&lt;/code&gt;, &lt;code&gt;log-format&lt;/code&gt; 세 가지만 설정 해주고, 로그가 표준화된 형식일 경우 실행시에 옵션으로 넣어줘도 되는 듯 하다.&lt;br&gt;
미리 정의된 형식이 주석으로 있으니 해제하여 사용하거나 없으면 맞게 작성해주면 된다. 내 PC의 설정파일의 위치는 &lt;code&gt;/usr/local/Cellar/goaccess/1.2_1/etc/goaccess.conf&lt;/code&gt;였다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;######################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Time Format Options (required)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;######################################&lt;/span&gt;
time-format %H:%M:%S

&lt;span class=&quot;token comment&quot;&gt;######################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Date Format Options (required)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;######################################&lt;/span&gt;
date-format %d/%b/%Y

&lt;span class=&quot;token comment&quot;&gt;######################################&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Log Format Options (required)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;######################################&lt;/span&gt;
log-format %h - %^ &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;%d:%t %^&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;token string&quot;&gt;&quot;%r&quot;&lt;/span&gt; %s %b &lt;span class=&quot;token string&quot;&gt;&quot;%R&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;%u&quot;&lt;/span&gt; %T &lt;span class=&quot;token string&quot;&gt;&quot;%^&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GoAccess를 사용하기 전에 필요한 로그를 가공 할 필요가 있었다.
&lt;a href=&quot;https://page.kakao.com&quot;&gt;카카오페이지 웹&lt;/a&gt;의 경우 PC와 모바일 버전이 다르고(당연히), 모바일의 경우 앱 내에서 호출하는 경우가 있어 제외시켜야 했다. 추가로 리다이렉션(응답코드 30X) 되는 경우도 로그가 중복이기 때문에 제외 시켰다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 앱에서 호출하는 경우 userAgent에 KakaoPage가 포함된다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/KaKaoPage/d&apos;&lt;/span&gt; access.log-xxxxxxxx &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 1_only_web
&lt;span class=&quot;token comment&quot;&gt;# 응답코드 30X인 레코드를 제외시킨다.(더 정확하게 할 수 있겠지만 이 정도만 해도 충분했다.)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&quot; 30. /d&apos;&lt;/span&gt; 1_only_web &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; 2_delete_redirect&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GoAccess를 실행시켜 로그 파일을 분석하고 결과를 html파일로 만든다. (결과 화면은 &lt;a href=&quot;https://goaccess.io/&quot;&gt;https://goaccess.io/&lt;/a&gt;를 참고)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;goaccess 2_delete_redirect -a -o 2_delete_redirect.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;결과를 대략 정리해 보면 크롬이 대부분을 차지했고, IE와 엣지는 통틀어 3%가 되지 않았다. IE10은 약 20명 내외였으며 서버 수를 고려한다 해도 절대치가 미미한 수준이었다. 아마도 이제 IE10 지원에 대한 고민은 하지 않아도 될 듯 하다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[시작]]></title><description><![CDATA[…]]></description><link>https://nukeguys.github.io/life/hello-world/</link><guid isPermaLink="false">https://nukeguys.github.io/life/hello-world/</guid><pubDate>Wed, 09 Jan 2019 14:49:39 GMT</pubDate><content:encoded>&lt;p&gt;드디어 오랫동안 만지작거리던 블로그를 완성했다.&lt;br&gt;
좀 더 마음에 들게 만들고 첫 글도 각 잡고 앉아서 쓰고 올리고 싶었으나,
지금까지 시도만 여러번으로 일단 시작하자는 생각에 글을 보여줄 수 있는 정도까지만 만들고 나서 올리려다보니 글이 없으면 에러가 나는 바람에 결국 급하게 글을 작성하고 있다.&lt;/p&gt;
&lt;p&gt;평소에 글을 써보고 싶었으나 맘처럼 안되고 주로 정리하는 내용들이다 보니 기술 블로그 비슷한 것도 하나 해보고 싶어서 네이버부터 티스토리, 미디엄, 브런치, &lt;a href=&quot;https://jekyllrb.com/&quot;&gt;jekyll&lt;/a&gt; 그리고 &lt;a href=&quot;https://www.gatsbyjs.org/&quot;&gt;gatsby&lt;/a&gt;까지 시도만 수십 번을 했었다.&lt;br&gt;
결국 제대로 돌아가고 있는건 없고 그나마 유입이 되는건 &lt;a href=&quot;http://nukeguys.tistory.com/&quot;&gt;티스토리(http://nukeguys.tistory.com/)&lt;/a&gt; 정도인 것 같다. 그래봤자 하루에 1~20명 정도지만…&lt;/p&gt;
&lt;p&gt;아직 갈 길은 멀지만 그래도 이렇게 글을 써서 올린다는 것 만으로도 나름 뿌듯한 감이 있다.
이전에는 혼자 시도를 하다보니 지속이 안됐던 것 같은데, 지금은 주변에 블로그를 하시는 분들이 있다보니 같이 힘을 받는 것 같다. 아직은 허접하지만 천천히 하나씩 만들고 채우고 가다보면 그럴 듯 해 지는 날이 오겠지.&lt;/p&gt;
&lt;p&gt;이 글이 블로그의 시작이 되고, 블로그가 올해 목표의 출발점이 되어 앞으로 더 많은 시작을 할 수 있기를 바란다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“끝까지 도달하는 것이 결말을 의미하지는 않는다. 여러 번, 나는 뭔가를 끝내는 것이, 단순히 새로운 길의 시작에 불과한 것인지, 스스로 궁금하다고 생각한다. 그리고 그 질문은, 나를 처음부터 다시 시작하도록 격려해준다.” - 파블로 알보란 -&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h6&gt;참고한 블로그들&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://ahnheejong.name/&quot;&gt;https://ahnheejong.name/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.cometkim.kr/&quot;&gt;https://blog.cometkim.kr/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://adhrinae.github.io/&quot;&gt;https://adhrinae.github.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blueshw.github.io/&quot;&gt;https://blueshw.github.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.hax0r.info/&quot;&gt;https://blog.hax0r.info/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h6&gt;Thanks to&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.gatsbyjs.org/&quot;&gt;gatsby&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://bulma.io/&quot;&gt;bulma&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://fonts.google.com&quot;&gt;google font&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>