{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/dev/nextjs-typescript/","result":{"data":{"site":{"siteMetadata":{"title":"nukeguys blog","author":"nukeguys","google_ad_client":"ca-pub-3962171616803555"}},"markdownRemark":{"id":"d85d04de-51b2-5b33-85e2-c41e1184acf5","excerpt":"next.jsëŠ” ê¸°ë³¸ì ìœ¼ë¡œ typescriptë¥¼ ì§€ì›í•˜ê³  ìˆê¸° ë•Œë¬¸ì— typescriptë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ì‰½ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. next.jsì˜ ì •í•´ì§„ ë£° ì•ˆì—ì„œë§Œ ì‚¬ìš©í•œë‹¤ë©´ ì•„ë¬´ëŸ° ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ ë§Œì•½ ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ typeâ€¦","html":"<p>next.jsëŠ” ê¸°ë³¸ì ìœ¼ë¡œ typescriptë¥¼ ì§€ì›í•˜ê³  ìˆê¸° ë•Œë¬¸ì— typescriptë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ì‰½ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. next.jsì˜ ì •í•´ì§„ ë£° ì•ˆì—ì„œë§Œ ì‚¬ìš©í•œë‹¤ë©´ ì•„ë¬´ëŸ° ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ ë§Œì•½ ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ type ë˜í•œ ê°™ì´ ìˆ˜ì •ì´ í•„ìš”í•˜ë‹¤.</p>\n<p>í•´ë³´ë©´ ì–´ë µì§€ ì•Šì§€ë§Œ ë§‰ìƒ í•˜ë ¤ë©´ ì‚´ì§ ê·€ì°®ìŒì´ ìƒê¸´ë‹¤. <a href=\"https://github.com/vercel/next.js/tree/canary/examples/with-typescript\">with-typescript</a> ì˜ˆì œë¡œ í•œ ë‹¨ê³„ì”© ìˆ˜ì •ì„ í•˜ë©´ì„œ ì»¤ìŠ¤í…€ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ë²•ì„ ì •ë¦¬í•´ ë³¸ë‹¤.</p>\n<p>ì¼ë‹¨ ì˜ˆì œ íŒŒì¼ì„ ë°›ì•„ì„œ ì—´ì–´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx create-next-app --example with-typescript with-typescript-app\n<span class=\"token comment\"># or</span>\n<span class=\"token function\">yarn</span> create next-app --example with-typescript with-typescript-app</code></pre></div>\n<p>ì‘ì—…ì„ í•  ëŒ€ìƒì€ pages/index.tsx íŒŒì¼ì´ë‹¤. ì—¬ê¸°ì— nextì—ì„œ ì œê³µí•˜ëŠ” <a href=\"https://nextjs.org/docs/basic-features/pages#pre-rendering\">pre-rendering</a>ì„ ì ìš©í•œë‹¤ê³  ê°€ì •í•´ë³´ì. ì—¬ê¸°ì„  <code>getInitialProps</code>ë¥¼ ì‚¬ìš©í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> Link <span class=\"token keyword\">from</span> <span class=\"token string\">'next/link'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/Layout'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">IndexPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout title<span class=\"token operator\">=</span><span class=\"token string\">\"Home | Next.js + TypeScript Example\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Hello Next<span class=\"token punctuation\">.</span>js ğŸ‘‹<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nIndexPage<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getInitialProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> IndexPage<span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì•„ì§ì€ ì•„ë¬´ëŸ° typeì´ ì ìš©ë˜ì–´ ìˆì§€ ì•Šë‹¤. ê·¸ë˜ì„œ <code>IndexPage.</code>ì„ ì…ë ¥í•´ë„ intellisenseì— <code>getInitialProps</code>ë¥¼ ë³¼ ìˆ˜ëŠ” ì—†ë‹¤. í•˜ì§€ë§Œ nextjsì—ì„œëŠ” í˜ì´ì§€ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ìœ„í•œ <code>NextPage</code> íƒ€ì…ì„ ì œê³µí•˜ê³  ìˆê³  ì ìš©í•˜ê³  ë‹¤ì‹œ íƒ€ì´í•‘ì„ í•´ë³´ë©´ <code>getInitialProps</code>ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ìœ„ì˜ ì½”ë“œëŠ” ì—ëŸ¬ê°€ ë‚˜ê³  ìˆë‹¤. ì´ìœ ëŠ” <code>getInitialProps</code>ì˜ íƒ€ì…ì´ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë˜ì–´ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë˜ì„œ ì¼ë‹¨ ë¹ˆ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë„ë¡ ìˆ˜ì •í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> IndexPage<span class=\"token punctuation\">:</span> <span class=\"token function-variable function\">NextPage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout title<span class=\"token operator\">=</span><span class=\"token string\">\"Home | Next.js + TypeScript Example\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Hello Next<span class=\"token punctuation\">.</span>js ğŸ‘‹<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nIndexPage<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getInitialProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> IndexPage<span class=\"token punctuation\">;</span></code></pre></div>\n<p><code>NextPage</code>ì™€ ê´€ë ¨ëœ íƒ€ì…ì„ í•œ ë²ˆ í™•ì¸í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> NextPage<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">IP</span> <span class=\"token operator\">=</span> <span class=\"token constant\">P</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> NextComponentType<span class=\"token operator\">&lt;</span>\n  NextPageContext<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">IP</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">P</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">type</span> NextComponentType<span class=\"token operator\">&lt;</span>\n  <span class=\"token constant\">C</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">BaseContext</span> <span class=\"token operator\">=</span> NextPageContext<span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">IP</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">P</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">></span> <span class=\"token operator\">=</span> ComponentType<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span><span class=\"token operator\">></span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/**\n   * Used for initial page load data population. Data returned from `getInitialProps` is serialized when server rendered.\n   * Make sure to return plain `Object` without using `Date`, `Map`, `Set`.\n   * @param ctx Context of `page`\n   */</span>\n\n  getInitialProps<span class=\"token operator\">?</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">:</span> <span class=\"token constant\">C</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">IP</span> <span class=\"token operator\">|</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">IP</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code>NextPage</code>ëŠ” ë‹¤ì‹œ <code>NextComponentType</code>ë¥¼ ì‚¬ìš©í•˜ê³  <code>NextComponentType</code>ëŠ” <code>ComponentType</code>ê³¼ <code>getInitialProps</code>ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ì¡°ê¸ˆ ë” êµ¬ì²´ì ìœ¼ë¡œ ë³´ë©´ ì»´í¬ë„ŒíŠ¸ì˜ propsì˜ íƒ€ì…ì¸ <code>P</code>, <code>getInitialProps</code>ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì… <code>C(NextPageContext)</code>ì™€ ë°˜í™˜ íƒ€ì…ì¸ <code>IP</code>ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  <code>NextPage</code>ì—ì„œ propsì˜ íƒ€ì… <code>P</code>ë§Œ ì…ë ¥í•˜ë©´ ì´ë¥¼ <code>IP</code>ë¡œë„ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì¦‰ <code>getInitialProps</code>ì˜ ë°˜í™˜ íƒ€ì…ì„ ì»´í¬ë„ŒíŠ¸ propsì˜ íƒ€ì…ê³¼ ë™ì¼í•˜ê²Œ í•œë‹¤. (nextjsì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ <code>getInitialProps</code>ì˜ ë°˜í™˜ ê°’ì„ ê° í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì— <code>props</code>ë¡œ ë„£ì–´ì¤€ë‹¤.)</p>\n<p>ì´ì œ ìœ„ ì˜ˆì œì— ìˆëŠ” <code>title(Home | Next.js + TypeScript Example)</code>ê³¼ ë§í¬ í…ìŠ¤íŠ¸ì¸ <code>About</code>ì„ <code>getInitialProps</code>ë¥¼ í†µí•´ ë°›ì•„ì˜¨ë‹¤ê³  ê°€ì •í•˜ê³  ì½”ë“œë¥¼ ìˆ˜ì •í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  text<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> IndexPage<span class=\"token punctuation\">:</span> NextPage<span class=\"token operator\">&lt;</span>Props<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> text <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Hello Next<span class=\"token punctuation\">.</span>js ğŸ‘‹<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>text<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nIndexPage<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getInitialProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Home | Next.js + TypeScript Example'</span><span class=\"token punctuation\">,</span>\n  text<span class=\"token punctuation\">:</span> <span class=\"token string\">'About'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> IndexPage<span class=\"token punctuation\">;</span></code></pre></div>\n<p><code>Props</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³  ì´ë¥¼ ì‚¬ìš©í•´ì„œ <code>NextPage&#x3C;Props></code>ë¡œ ì§€ì •í•´ì¤€ë‹¤. ê·¸ëŸ¬ë©´ <code>getInitialProps</code>ì˜ ë°˜í™˜ íƒ€ì…ê³¼ <code>IndexPage</code>ì˜ ë§¤ê°œë³€ìˆ˜ì— íƒ€ì…ì´ í•¨ê»˜ ì¡íˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. íƒ€ì…ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œ ë³´ë‹¤ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ì—†ê³  ëª…í™•í•´ì¡Œë‹¤.</p>\n<p>ë‹¤ìŒìœ¼ë¡œëŠ” <code>title</code>ì˜ ì¼ë¶€ë¥¼ <code>App</code>ì„ í†µí•´ì„œ ë°›ì•„ì™€ì„œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°ë¼ê³  ê°€ì •í•´ë³´ì. <code>redux</code>ë¥¼ í•¨ê»˜ ì‚¬ìš©í•œë‹¤ë©´ <code>getInitialProps</code>ì—ì„œ storeì— ì ‘ê·¼í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ì¦ì€ë°, ì´ëŸ´ ë•Œ ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì´ ìˆê² ì§€ë§Œ <a href=\"https://github.com/kirill-konshin/next-redux-wrapper\">next-redux-wrapper</a>ë¥¼ ì‚¬ìš©í•˜ë©´ í¸í•˜ë‹¤. ì‹¤ì œë¡œ <code>next-redux-wrapper</code>ëŠ” <code>getInitialProps</code>ì˜ íŒŒë¼ë¯¸í„°ë¡œ <code>store</code>ë¥¼ ë„˜ê²¨ì¤€ë‹¤. ë¬¼ë¡  íƒ€ì… ì •ì˜ë„ ì§€ì›í•˜ëŠ”ë° <code>declare module</code>ì„ ì‚¬ìš©í•´ì„œ ê¸°ì¡´ <code>NextPageContext</code>ì— <code>store</code>ë¥¼ ì¶”ê°€í•´ì£¼ê³  ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">declare</span> <span class=\"token keyword\">module</span> <span class=\"token string\">'next/dist/next-server/lib/utils'</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">interface</span> <span class=\"token class-name\">NextPageContext</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">A</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Action</span> <span class=\"token operator\">=</span> AnyAction<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Provided by next-redux-wrapper: The redux store\n     */</span>\n    store<span class=\"token punctuation\">:</span> Store<span class=\"token operator\">&lt;</span><span class=\"token constant\">S</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">A</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì§€ê¸ˆì€ <code>title</code>ì„ ë°›ëŠ” ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ íƒ€ì…ì„ ì •ì˜í•´ë³´ì. ìš°ì„ ì€ <code>getInitialProps</code>ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ í™•ì¥í•´ì•¼ í•œë‹¤. ê¸°ì¡´ì˜ <code>NextPageContext</code>ì„ í™•ì¥í•´ì„œ <code>title</code>ì„ ì¶”ê°€í•œë‹¤. (íƒ€ì…ì„ ì •ì˜í•˜ëŠ”ë° <code>interface</code>ë‚˜ <code>type</code>ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì§€ê¸ˆì€ <code>type</code>ì„ ì‚¬ìš©í•œë‹¤.)</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> MyPageContext <span class=\"token operator\">=</span> NextPageContext <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë‹¤ìŒìœ¼ë¡œëŠ” í•´ë‹¹ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ íƒ€ì…ì„ ì •ì˜í•œë‹¤. ì—¬ê¸°ì„œ <code>NextPage</code>ë¥¼ í™•ì¥í•  ìˆ˜ëŠ” ì—†ë‹¤. ì™œëƒí•˜ë©´ <code>NextPage</code>ëŠ” <code>NextPageContext</code>ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê³  ë³€ê²½í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ì •ì˜í•œ <code>MyPageContext</code>ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ <code>NextComponentType</code>ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë™ì¼í•œ í˜•íƒœì— <code>MyPageContext</code>ë§Œ ë³€ê²½í–ˆì§€ë§Œ, getInitialProps ì™¸ì— ì¶”ê°€ì ì¸ ì»¤ìŠ¤í…€ ì†ì„±ì„ ì •ì˜í•´ì„œ ì‚¬ìš©í•œë‹¤ë©´ ì¶”ê°€í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> MyPage<span class=\"token operator\">&lt;</span><span class=\"token constant\">P</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">IP</span> <span class=\"token operator\">=</span> <span class=\"token constant\">P</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> NextComponentType<span class=\"token operator\">&lt;</span>MyPageContext<span class=\"token punctuation\">,</span> <span class=\"token constant\">IP</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">P</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ë ‡ê²Œ ì •ì˜í•œ <code>MyPage</code>ë¥¼ ì»´í¬ë„ŒíŠ¸ì— ì ìš©í•´ë³´ë©´, <code>getInitialProps</code>ì˜ ë§¤ê°œë³€ìˆ˜ì—ë„ <code>title</code>ì´ ì¡íˆëŠ” ê±¸ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Props</span> <span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n  text<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> IndexPage<span class=\"token punctuation\">:</span> MyPage<span class=\"token operator\">&lt;</span>Props<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> title<span class=\"token punctuation\">,</span> text <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Hello Next<span class=\"token punctuation\">.</span>js ğŸ‘‹<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>text<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nIndexPage<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getInitialProps</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> title <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">,</span>\n  text<span class=\"token punctuation\">:</span> <span class=\"token string\">'About'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> IndexPage<span class=\"token punctuation\">;</span></code></pre></div>\n<p>í•˜ì§€ë§Œ ì‹¤ì œë¡œ ë™ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” <code>getInitialProps</code>ë¡œ <code>title</code>ì„ ë„£ì–´ì£¼ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.</p>\n<p>ì´ë¥¼ ìœ„í•´ì„œëŠ” <a href=\"https://nextjs.org/docs/advanced-features/custom-app\">Custom App</a>ì„ ì •ì˜í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">MyApp</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> pageProps <span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> AppProps</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>Component <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>pageProps<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nMyApp<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getInitialProps</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">appContext<span class=\"token punctuation\">:</span> AppContext</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> appProps <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> App<span class=\"token punctuation\">.</span><span class=\"token function\">getInitialProps</span><span class=\"token punctuation\">(</span>appContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>appProps <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> MyApp<span class=\"token punctuation\">;</span></code></pre></div>\n<p>ìœ„ì˜ ê¸°ë³¸ ì˜ˆì œë¥¼ ë³€í˜•í•´ì„œ <code>App</code>ì—ì„œ ì»´í¬ë„ŒíŠ¸ì˜ <code>getInitialProps</code>ë¡œ <code>title</code>ì„ ë„˜ê²¨ì£¼ë„ë¡ í•´ë³¸ë‹¤. ìš°ì„  <code>App.getInitialProps</code>ëŒ€ì‹  ì»´í¬ë„ŒíŠ¸ì˜ <code>getInitialProps</code>ë¥¼ ì§ì ‘ í˜¸ì¶œí•œë‹¤. ê·¸ë¦¬ê³  <code>title</code>ì„ ë„˜ê²¨ì£¼ë©´ ëœë‹¤. í•˜ì§€ë§Œ íƒ€ì… ê²€ì‚¬ì—ì„œ ì‹¤íŒ¨í•œë‹¤.</p>\n<p>ì´ìœ ë¥¼ ì•Œê¸° ìœ„í•´ì„œëŠ” <code>AppContext</code>ë¥¼ í™•ì¸í•  í•„ìš”ê°€ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">type</span> AppContext <span class=\"token operator\">=</span> AppContextType<span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">type</span> AppContextType<span class=\"token operator\">&lt;</span><span class=\"token constant\">R</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">NextRouter</span> <span class=\"token operator\">=</span> NextRouter<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  Component<span class=\"token punctuation\">:</span> NextComponentType<span class=\"token operator\">&lt;</span>NextPageContext<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n  AppTree<span class=\"token punctuation\">:</span> AppTreeType<span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">:</span> NextPageContext<span class=\"token punctuation\">;</span>\n  router<span class=\"token punctuation\">:</span> <span class=\"token constant\">R</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code>AppContext</code>ì˜ <code>Component</code>ëŠ” ìœ„ì—ì„œ ë§Œë“  <code>MyPageContext</code>ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œëŠ” <code>AppContext</code>ëŒ€ì‹  ë³„ë„ì˜ íƒ€ì…ì„ ì •ì˜í•´ ì£¼ì–´ì•¼ í•œë‹¤. ëª¨ë‘ ë‹¤ì‹œ ì •ì˜í•´ë„ ë˜ì§€ë§Œ ê¸°ì¡´ ì†ì„±ì„ í™œìš©í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì†ì„±ë§Œ ìƒˆë¡œ ì •ì˜í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> MyAppContext <span class=\"token operator\">=</span> Omit<span class=\"token operator\">&lt;</span>AppContext<span class=\"token punctuation\">,</span> <span class=\"token string\">'Component'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'ctx'</span><span class=\"token operator\">></span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n  Component<span class=\"token punctuation\">:</span> MyPage<span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">:</span> MyPageContext<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê·¸ë¦¬ê³  íƒ€ì…ì„ ì‚¬ìš©í•´ì„œ <code>title</code>ì„ ë„£ì–´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">MyApp<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getInitialProps</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">appContext<span class=\"token punctuation\">:</span> MyAppContext</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  appContext<span class=\"token punctuation\">.</span>ctx<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token string\">'Home'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> appProps <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> App<span class=\"token punctuation\">.</span><span class=\"token function\">getInitialProps</span><span class=\"token punctuation\">(</span>appContext<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>appProps <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì£¼ì˜í•  ì ì€ <code>App.getInitialProps</code>ì„ ì‚¬ìš©í•˜ê³  <code>MyAppContext</code>ì—ì„œ <code>ctx</code>ì˜ íƒ€ì…ì„ ë³€ê²½í•˜ë©´ì„œ <code>appContext</code>ì˜ <code>ctx</code>ì—ë„ <code>title</code>ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ ì¡íˆê¸° ë•Œë¬¸ì— ì‹¤ì œë¡œ ì¶”ê°€ ì—†ì´ ê·¸ëŒ€ë¡œ ì „ë‹¬í•´ë„ ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤. <code>_app</code>ì—ì„œ í•œ ë²ˆë§Œ ì²˜ë¦¬í•˜ê³  ìˆœì„œìƒìœ¼ë¡  ë°˜ëŒ€ì´ê¸° ë•Œë¬¸ì— ëˆ„ë½ë  ìœ„í—˜ì´ í¬ì§„ ì•Šì§€ë§Œ ì´ê²ƒë„ ëª…í™•í•˜ê²Œ í•´ ì£¼ê¸° ìœ„í•´ì„œëŠ” <code>MyAppContext</code>ì—ì„œ <code>ctx</code>ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê³  ì•„ë˜ì²˜ëŸ¼ í•´ì¤„ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> MyAppContext <span class=\"token operator\">=</span> Omit<span class=\"token operator\">&lt;</span>AppContext<span class=\"token punctuation\">,</span> <span class=\"token string\">'Component'</span><span class=\"token operator\">></span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">{</span>\n  Component<span class=\"token punctuation\">:</span> MyPage<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nMyApp<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getInitialProps</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> ctx <span class=\"token punctuation\">}</span><span class=\"token punctuation\">:</span> MyAppContext</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> pageProps <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Component<span class=\"token punctuation\">.</span>getInitialProps<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>ctx<span class=\"token punctuation\">,</span>\n    title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Home'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> pageProps <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì‹¤ì œë¡œ ì´ë ‡ê²Œ ê¹Œì§€ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ì–¼ë§ˆë‚˜ ë ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ, í•„ìš”í•œ ê²½ìš°ë¼ë©´ íƒ€ì…ì„ ëª…í™•í•˜ê²Œ ì •ì˜í•´ì„œ ì¶”ê°€ì ì¸ ê²€ì‚¬ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ í•  ìˆ˜ ìˆì–´ ë„ì›€ì´ ë˜ì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.</p>","frontmatter":{"title":"next.jsì— ì»¤ìŠ¤í…€ íƒ€ì… ì‚¬ìš©","date":"2020/09/27 23:29","tags":["nextjs","typescript"],"description":"_appê³¼ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì— íƒ€ì… ì¶”ê°€í•˜ê¸°"}}},"pageContext":{"slug":"/dev/nextjs-typescript/","previous":{"fields":{"slug":"/life/analog-vs-digital/"},"frontmatter":{"title":"ì„ íƒ, ë””ì§€í„¸ ì‹œëŒ€ì™€ ì•„ë‚ ë¡œê·¸"}},"next":null}}}